var Os=e=>{throw TypeError(e)};var Uo=(e,t,r)=>t.has(e)||Os("Cannot "+r);var N=(e,t,r)=>(Uo(e,t,"read from private field"),r?r.call(e):t.get(e)),W=(e,t,r)=>t.has(e)?Os("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),L=(e,t,r,o)=>(Uo(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r),Q=(e,t,r)=>(Uo(e,t,"access private method"),r);var Zr=(e,t,r,o)=>({set _(s){L(e,t,s,r)},get _(){return N(e,t,o)}});import{r as c,a as jr,e as O,G as Ma,R as nd,u as qt,L as te,b as jo,c as sd,B as ad,d as id,f as et}from"./react-BJYKswz0.js";import{i as ld,g as cd,a as dd,b as ud,s as fd,c as hd,d as we,q as Ue,w as We,e as Ke,f as md,h as pd,G as gd,j as xd,o as Oa,k as Se,l as Sr,m as qn,n as ye,u as dn,p as Ia,r as vd,t as Fe,v as bd,_ as xt,x as _a,y as yd,z as wd,A as Nd,B as jd}from"./firebase-CyHxx3fk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var La={exports:{}},So={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=c,kd=Symbol.for("react.element"),Cd=Symbol.for("react.fragment"),Ed=Object.prototype.hasOwnProperty,Rd=Sd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Td={key:!0,ref:!0,__self:!0,__source:!0};function Da(e,t,r){var o,s={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)Ed.call(t,o)&&!Td.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:kd,type:e,key:a,ref:l,props:s,_owner:Rd.current}}So.Fragment=Cd;So.jsx=Da;So.jsxs=Da;La.exports=So;var n=La.exports,Ba,Is=jr;Ba=Is.createRoot,Is.hydrateRoot;const Pd=1,Ad=1e6;let Wo=0;function Md(){return Wo=(Wo+1)%Number.MAX_SAFE_INTEGER,Wo.toString()}const Ko=new Map,_s=e=>{if(Ko.has(e))return;const t=setTimeout(()=>{Ko.delete(e),Lr({type:"REMOVE_TOAST",toastId:e})},Ad);Ko.set(e,t)},Od=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Pd)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?_s(r):e.toasts.forEach(o=>{_s(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},uo=[];let fo={toasts:[]};function Lr(e){fo=Od(fo,e),uo.forEach(t=>{t(fo)})}function De({...e}){const t=Md(),r=s=>Lr({type:"UPDATE_TOAST",toast:{...s,id:t}}),o=()=>Lr({type:"DISMISS_TOAST",toastId:t});return Lr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||o()}}}),{id:t,dismiss:o,update:r}}function Id(){const[e,t]=c.useState(fo);return c.useEffect(()=>(uo.push(t),()=>{const r=uo.indexOf(t);r>-1&&uo.splice(r,1)}),[e]),{...e,toast:De,dismiss:r=>Lr({type:"DISMISS_TOAST",toastId:r})}}function U(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function _d(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Fa(...e){return t=>e.forEach(r=>_d(r,t))}function ue(...e){return c.useCallback(Fa(...e),e)}function Ld(e,t=[]){let r=[];function o(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];function u(h){const{scope:f,children:g,...v}=h,m=(f==null?void 0:f[e][d])||i,x=c.useMemo(()=>v,Object.values(v));return n.jsx(m.Provider,{value:x,children:g})}function p(h,f){const g=(f==null?void 0:f[e][d])||i,v=c.useContext(g);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,p]}const s=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return s.scopeName=e,[o,Dd(s,...t)]}function Dd(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=o.reduce((i,{useScope:d,scopeName:u})=>{const h=d(a)[`__scope${u}`];return{...i,...h}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var xr=c.forwardRef((e,t)=>{const{children:r,...o}=e,s=c.Children.toArray(r),a=s.find(Bd);if(a){const l=a.props.children,i=s.map(d=>d===a?c.Children.count(l)>1?c.Children.only(null):c.isValidElement(l)?l.props.children:null:d);return n.jsx(un,{...o,ref:t,children:c.isValidElement(l)?c.cloneElement(l,void 0,i):null})}return n.jsx(un,{...o,ref:t,children:r})});xr.displayName="Slot";var un=c.forwardRef((e,t)=>{const{children:r,...o}=e;if(c.isValidElement(r)){const s=$d(r);return c.cloneElement(r,{...Fd(o,r.props),ref:t?Fa(t,s):s})}return c.Children.count(r)>1?c.Children.only(null):null});un.displayName="SlotClone";var $a=({children:e})=>n.jsx(n.Fragment,{children:e});function Bd(e){return c.isValidElement(e)&&e.type===$a}function Fd(e,t){const r={...t};for(const o in t){const s=e[o],a=t[o];/^on[A-Z]/.test(o)?s&&a?r[o]=(...i)=>{a(...i),s(...i)}:s&&(r[o]=s):o==="style"?r[o]={...s,...a}:o==="className"&&(r[o]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function $d(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Vn(e){const t=e+"CollectionProvider",[r,o]=Ld(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=g=>{const{scope:v,children:m}=g,x=O.useRef(null),b=O.useRef(new Map).current;return n.jsx(s,{scope:v,itemMap:b,collectionRef:x,children:m})};l.displayName=t;const i=e+"CollectionSlot",d=O.forwardRef((g,v)=>{const{scope:m,children:x}=g,b=a(i,m),y=ue(v,b.collectionRef);return n.jsx(xr,{ref:y,children:x})});d.displayName=i;const u=e+"CollectionItemSlot",p="data-radix-collection-item",h=O.forwardRef((g,v)=>{const{scope:m,children:x,...b}=g,y=O.useRef(null),w=ue(v,y),j=a(u,m);return O.useEffect(()=>(j.itemMap.set(y,{ref:y,...b}),()=>void j.itemMap.delete(y))),n.jsx(xr,{[p]:"",ref:w,children:x})});h.displayName=u;function f(g){const v=a(e+"CollectionConsumer",g);return O.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(v.itemMap.values()).sort((j,S)=>b.indexOf(j.ref.current)-b.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:d,ItemSlot:h},f,o]}function kr(e,t=[]){let r=[];function o(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];const u=h=>{var b;const{scope:f,children:g,...v}=h,m=((b=f==null?void 0:f[e])==null?void 0:b[d])||i,x=c.useMemo(()=>v,Object.values(v));return n.jsx(m.Provider,{value:x,children:g})};u.displayName=a+"Provider";function p(h,f){var m;const g=((m=f==null?void 0:f[e])==null?void 0:m[d])||i,v=c.useContext(g);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,p]}const s=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return s.scopeName=e,[o,Hd(s,...t)]}function Hd(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=o.reduce((i,{useScope:d,scopeName:u})=>{const h=d(a)[`__scope${u}`];return{...i,...h}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var zd=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],G=zd.reduce((e,t)=>{const r=c.forwardRef((o,s)=>{const{asChild:a,...l}=o,i=a?xr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(i,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ha(e,t){e&&jr.flushSync(()=>e.dispatchEvent(t))}function Me(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...r)=>{var o;return(o=t.current)==null?void 0:o.call(t,...r)},[])}function Ud(e,t=globalThis==null?void 0:globalThis.document){const r=Me(e);c.useEffect(()=>{const o=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[r,t])}var Wd="DismissableLayer",fn="dismissableLayer.update",Kd="dismissableLayer.pointerDownOutside",qd="dismissableLayer.focusOutside",Ls,za=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ko=c.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:i,...d}=e,u=c.useContext(za),[p,h]=c.useState(null),f=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=c.useState({}),v=ue(t,C=>h(C)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(x),y=p?m.indexOf(p):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=b,S=Gd(C=>{const T=C.target,k=[...u.branches].some(R=>R.contains(T));!j||k||(s==null||s(C),l==null||l(C),C.defaultPrevented||i==null||i())},f),E=Yd(C=>{const T=C.target;[...u.branches].some(R=>R.contains(T))||(a==null||a(C),l==null||l(C),C.defaultPrevented||i==null||i())},f);return Ud(C=>{y===u.layers.size-1&&(o==null||o(C),!C.defaultPrevented&&i&&(C.preventDefault(),i()))},f),c.useEffect(()=>{if(p)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ls=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),Ds(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ls)}},[p,f,r,u]),c.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),Ds())},[p,u]),c.useEffect(()=>{const C=()=>g({});return document.addEventListener(fn,C),()=>document.removeEventListener(fn,C)},[]),n.jsx(G.div,{...d,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,E.onFocusCapture),onBlurCapture:U(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,S.onPointerDownCapture)})});ko.displayName=Wd;var Vd="DismissableLayerBranch",Ua=c.forwardRef((e,t)=>{const r=c.useContext(za),o=c.useRef(null),s=ue(t,o);return c.useEffect(()=>{const a=o.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),n.jsx(G.div,{...e,ref:s})});Ua.displayName=Vd;function Gd(e,t=globalThis==null?void 0:globalThis.document){const r=Me(e),o=c.useRef(!1),s=c.useRef(()=>{});return c.useEffect(()=>{const a=i=>{if(i.target&&!o.current){let d=function(){Wa(Kd,r,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);o.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>o.current=!0}}function Yd(e,t=globalThis==null?void 0:globalThis.document){const r=Me(e),o=c.useRef(!1);return c.useEffect(()=>{const s=a=>{a.target&&!o.current&&Wa(qd,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Ds(){const e=new CustomEvent(fn);document.dispatchEvent(e)}function Wa(e,t,r,{discrete:o}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),o?Ha(s,a):s.dispatchEvent(a)}var Qd=ko,Xd=Ua,Ce=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},Jd="Portal",Gn=c.forwardRef((e,t)=>{var i;const{container:r,...o}=e,[s,a]=c.useState(!1);Ce(()=>a(!0),[]);const l=r||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return l?Ma.createPortal(n.jsx(G.div,{...o,ref:t}),l):null});Gn.displayName=Jd;function Zd(e,t){return c.useReducer((r,o)=>t[r][o]??r,e)}var qr=e=>{const{present:t,children:r}=e,o=eu(t),s=typeof r=="function"?r({present:o.isPresent}):c.Children.only(r),a=ue(o.ref,tu(s));return typeof r=="function"||o.isPresent?c.cloneElement(s,{ref:a}):null};qr.displayName="Presence";function eu(e){const[t,r]=c.useState(),o=c.useRef({}),s=c.useRef(e),a=c.useRef("none"),l=e?"mounted":"unmounted",[i,d]=Zd(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=eo(o.current);a.current=i==="mounted"?u:"none"},[i]),Ce(()=>{const u=o.current,p=s.current;if(p!==e){const f=a.current,g=eo(u);e?d("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(p&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Ce(()=>{if(t){let u;const p=t.ownerDocument.defaultView??window,h=g=>{const m=eo(o.current).includes(g.animationName);if(g.target===t&&m&&(d("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=g=>{g.target===t&&(a.current=eo(o.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{p.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:c.useCallback(u=>{u&&(o.current=getComputedStyle(u)),r(u)},[])}}function eo(e){return(e==null?void 0:e.animationName)||"none"}function tu(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function vr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,s]=ru({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:o,i=Me(r),d=c.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&i(h)}else s(u)},[a,e,s,i]);return[l,d]}function ru({defaultProp:e,onChange:t}){const r=c.useState(e),[o]=r,s=c.useRef(o),a=Me(t);return c.useEffect(()=>{s.current!==o&&(a(o),s.current=o)},[o,s,a]),r}var ou="VisuallyHidden",Vr=c.forwardRef((e,t)=>n.jsx(G.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Vr.displayName=ou;var nu=Vr,Yn="ToastProvider",[Qn,su,au]=Vn("Toast"),[Ka,Xx]=kr("Toast",[au]),[iu,Co]=Ka(Yn),qa=e=>{const{__scopeToast:t,label:r="Notification",duration:o=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:l}=e,[i,d]=c.useState(null),[u,p]=c.useState(0),h=c.useRef(!1),f=c.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yn}\`. Expected non-empty \`string\`.`),n.jsx(Qn.Provider,{scope:t,children:n.jsx(iu,{scope:t,label:r,duration:o,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:i,onViewportChange:d,onToastAdd:c.useCallback(()=>p(g=>g+1),[]),onToastRemove:c.useCallback(()=>p(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:l})})};qa.displayName=Yn;var Va="ToastViewport",lu=["F8"],hn="toast.viewportPause",mn="toast.viewportResume",Ga=c.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:o=lu,label:s="Notifications ({hotkey})",...a}=e,l=Co(Va,r),i=su(r),d=c.useRef(null),u=c.useRef(null),p=c.useRef(null),h=c.useRef(null),f=ue(t,h,l.onViewportChange),g=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=l.toastCount>0;c.useEffect(()=>{const x=b=>{var w;o.length!==0&&o.every(j=>b[j]||b.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[o]),c.useEffect(()=>{const x=d.current,b=h.current;if(v&&x&&b){const y=()=>{if(!l.isClosePausedRef.current){const E=new CustomEvent(hn);b.dispatchEvent(E),l.isClosePausedRef.current=!0}},w=()=>{if(l.isClosePausedRef.current){const E=new CustomEvent(mn);b.dispatchEvent(E),l.isClosePausedRef.current=!1}},j=E=>{!x.contains(E.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",j),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,l.isClosePausedRef]);const m=c.useCallback(({tabbingDirection:x})=>{const y=i().map(w=>{const j=w.ref.current,S=[j,...wu(j)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?y.reverse():y).flat()},[i]);return c.useEffect(()=>{const x=h.current;if(x){const b=y=>{var S,E,C;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,k=y.shiftKey;if(y.target===x&&k){(S=u.current)==null||S.focus();return}const M=m({tabbingDirection:k?"backwards":"forwards"}),B=M.findIndex(P=>P===T);qo(M.slice(B+1))?y.preventDefault():k?(E=u.current)==null||E.focus():(C=p.current)==null||C.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[i,m]),n.jsxs(Xd,{ref:d,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(pn,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});qo(x)}}),n.jsx(Qn.Slot,{scope:r,children:n.jsx(G.ol,{tabIndex:-1,...a,ref:f})}),v&&n.jsx(pn,{ref:p,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});qo(x)}})]})});Ga.displayName=Va;var Ya="ToastFocusProxy",pn=c.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...s}=e,a=Co(Ya,r);return n.jsx(Vr,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{var u;const i=l.relatedTarget;!((u=a.viewport)!=null&&u.contains(i))&&o()}})});pn.displayName=Ya;var Eo="Toast",cu="toast.swipeStart",du="toast.swipeMove",uu="toast.swipeCancel",fu="toast.swipeEnd",Qa=c.forwardRef((e,t)=>{const{forceMount:r,open:o,defaultOpen:s,onOpenChange:a,...l}=e,[i=!0,d]=vr({prop:o,defaultProp:s,onChange:a});return n.jsx(qr,{present:r||i,children:n.jsx(pu,{open:i,...l,ref:t,onClose:()=>d(!1),onPause:Me(e.onPause),onResume:Me(e.onResume),onSwipeStart:U(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:U(e.onSwipeMove,u=>{const{x:p,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:U(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:U(e.onSwipeEnd,u=>{const{x:p,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),d(!1)})})})});Qa.displayName=Eo;var[hu,mu]=Ka(Eo,{onClose(){}}),pu=c.forwardRef((e,t)=>{const{__scopeToast:r,type:o="foreground",duration:s,open:a,onClose:l,onEscapeKeyDown:i,onPause:d,onResume:u,onSwipeStart:p,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...v}=e,m=Co(Eo,r),[x,b]=c.useState(null),y=ue(t,P=>b(P)),w=c.useRef(null),j=c.useRef(null),S=s||m.duration,E=c.useRef(0),C=c.useRef(S),T=c.useRef(0),{onToastAdd:k,onToastRemove:R}=m,_=Me(()=>{var D;(x==null?void 0:x.contains(document.activeElement))&&((D=m.viewport)==null||D.focus()),l()}),M=c.useCallback(P=>{!P||P===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(_,P))},[_]);c.useEffect(()=>{const P=m.viewport;if(P){const D=()=>{M(C.current),u==null||u()},I=()=>{const F=new Date().getTime()-E.current;C.current=C.current-F,window.clearTimeout(T.current),d==null||d()};return P.addEventListener(hn,I),P.addEventListener(mn,D),()=>{P.removeEventListener(hn,I),P.removeEventListener(mn,D)}}},[m.viewport,S,d,u,M]),c.useEffect(()=>{a&&!m.isClosePausedRef.current&&M(S)},[a,S,m.isClosePausedRef,M]),c.useEffect(()=>(k(),()=>R()),[k,R]);const B=c.useMemo(()=>x?oi(x):null,[x]);return m.viewport?n.jsxs(n.Fragment,{children:[B&&n.jsx(gu,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),n.jsx(hu,{scope:r,onClose:_,children:jr.createPortal(n.jsx(Qn.ItemSlot,{scope:r,children:n.jsx(Qd,{asChild:!0,onEscapeKeyDown:U(i,()=>{m.isFocusedToastEscapeKeyDownRef.current||_(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(G.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:U(e.onKeyDown,P=>{P.key==="Escape"&&(i==null||i(P.nativeEvent),P.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:U(e.onPointerDown,P=>{P.button===0&&(w.current={x:P.clientX,y:P.clientY})}),onPointerMove:U(e.onPointerMove,P=>{if(!w.current)return;const D=P.clientX-w.current.x,I=P.clientY-w.current.y,F=!!j.current,A=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,me=A?$(0,D):0,H=A?0:$(0,I),Y=P.pointerType==="touch"?10:2,ee={x:me,y:H},ge={originalEvent:P,delta:ee};F?(j.current=ee,to(du,h,ge,{discrete:!1})):Bs(ee,m.swipeDirection,Y)?(j.current=ee,to(cu,p,ge,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(D)>Y||Math.abs(I)>Y)&&(w.current=null)}),onPointerUp:U(e.onPointerUp,P=>{const D=j.current,I=P.target;if(I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),j.current=null,w.current=null,D){const F=P.currentTarget,A={originalEvent:P,delta:D};Bs(D,m.swipeDirection,m.swipeThreshold)?to(fu,g,A,{discrete:!0}):to(uu,f,A,{discrete:!0}),F.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),gu=e=>{const{__scopeToast:t,children:r,...o}=e,s=Co(Eo,t),[a,l]=c.useState(!1),[i,d]=c.useState(!1);return bu(()=>l(!0)),c.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:n.jsx(Gn,{asChild:!0,children:n.jsx(Vr,{...o,children:a&&n.jsxs(n.Fragment,{children:[s.label," ",r]})})})},xu="ToastTitle",Xa=c.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e;return n.jsx(G.div,{...o,ref:t})});Xa.displayName=xu;var vu="ToastDescription",Ja=c.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e;return n.jsx(G.div,{...o,ref:t})});Ja.displayName=vu;var Za="ToastAction",ei=c.forwardRef((e,t)=>{const{altText:r,...o}=e;return r.trim()?n.jsx(ri,{altText:r,asChild:!0,children:n.jsx(Xn,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Za}\`. Expected non-empty \`string\`.`),null)});ei.displayName=Za;var ti="ToastClose",Xn=c.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e,s=mu(ti,r);return n.jsx(ri,{asChild:!0,children:n.jsx(G.button,{type:"button",...o,ref:t,onClick:U(e.onClick,s.onClose)})})});Xn.displayName=ti;var ri=c.forwardRef((e,t)=>{const{__scopeToast:r,altText:o,...s}=e;return n.jsx(G.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...s,ref:t})});function oi(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),yu(o)){const s=o.ariaHidden||o.hidden||o.style.display==="none",a=o.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const l=o.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...oi(o))}}),t}function to(e,t,r,{discrete:o}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),o?Ha(s,a):s.dispatchEvent(a)}var Bs=(e,t,r=0)=>{const o=Math.abs(e.x),s=Math.abs(e.y),a=o>s;return t==="left"||t==="right"?a&&o>r:!a&&s>r};function bu(e=()=>{}){const t=Me(e);Ce(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[t])}function yu(e){return e.nodeType===e.ELEMENT_NODE}function wu(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qo(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Nu=qa,ni=Ga,si=Qa,ai=Xa,ii=Ja,li=ei,ci=Xn;function di(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=di(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function ui(){for(var e,t,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=di(e))&&(o&&(o+=" "),o+=t);return o}const Fs=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$s=ui,Jn=(e,t)=>r=>{var o;if((t==null?void 0:t.variants)==null)return $s(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(u=>{const p=r==null?void 0:r[u],h=a==null?void 0:a[u];if(p===null)return null;const f=Fs(p)||Fs(h);return s[u][f]}),i=r&&Object.entries(r).reduce((u,p)=>{let[h,f]=p;return f===void 0||(u[h]=f),u},{}),d=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((u,p)=>{let{class:h,className:f,...g}=p;return Object.entries(g).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...a,...i}[m]):{...a,...i}[m]===x})?[...u,h,f]:u},[]);return $s(e,l,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fi=(...e)=>e.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Su={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:s="",children:a,iconNode:l,...i},d)=>c.createElement("svg",{ref:d,...Su,width:t,height:t,stroke:e,strokeWidth:o?Number(r)*24/Number(t):r,className:fi("lucide",s),...i},[...l.map(([u,p])=>c.createElement(u,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const r=c.forwardRef(({className:o,...s},a)=>c.createElement(ku,{ref:a,iconNode:t,className:fi(`lucide-${ju(e)}`,o),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=pe("BookPlus",[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=pe("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=pe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=pe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),es="-",_u=e=>{const t=Du(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:l=>{const i=l.split(es);return i[0]===""&&i.length!==1&&i.shift(),bi(i,t)||Lu(l)},getConflictingClassGroupIds:(l,i)=>{const d=r[l]||[];return i&&o[l]?[...d,...o[l]]:d}}},bi=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],o=t.nextPart.get(r),s=o?bi(e.slice(1),o):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(es);return(l=t.validators.find(({validator:i})=>i(a)))==null?void 0:l.classGroupId},Hs=/^\[(.+)\]$/,Lu=e=>{if(Hs.test(e)){const t=Hs.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Du=e=>{const{theme:t,prefix:r}=e,o={nextPart:new Map,validators:[]};return Fu(Object.entries(e.classGroups),r).forEach(([a,l])=>{xn(l,o,a,t)}),o},xn=(e,t,r,o)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:zs(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Bu(s)){xn(s(o),t,r,o);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,l])=>{xn(l,zs(t,a),r,o)})})},zs=(e,t)=>{let r=e;return t.split(es).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},Bu=e=>e.isThemeGetter,Fu=(e,t)=>t?e.map(([r,o])=>{const s=o.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,i])=>[t+l,i])):a);return[r,s]}):e,$u=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,o=new Map;const s=(a,l)=>{r.set(a,l),t++,t>e&&(t=0,o=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=o.get(a))!==void 0)return s(a,l),l},set(a,l){r.has(a)?r.set(a,l):s(a,l)}}},yi="!",Hu=e=>{const{separator:t,experimentalParseClassName:r}=e,o=t.length===1,s=t[0],a=t.length,l=i=>{const d=[];let u=0,p=0,h;for(let x=0;x<i.length;x++){let b=i[x];if(u===0){if(b===s&&(o||i.slice(x,x+a)===t)){d.push(i.slice(p,x)),p=x+a;continue}if(b==="/"){h=x;continue}}b==="["?u++:b==="]"&&u--}const f=d.length===0?i:i.substring(p),g=f.startsWith(yi),v=g?f.substring(1):f,m=h&&h>p?h-p:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:m}};return r?i=>r({className:i,parseClassName:l}):l},zu=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(o=>{o[0]==="["?(t.push(...r.sort(),o),r=[]):r.push(o)}),t.push(...r.sort()),t},Uu=e=>({cache:$u(e.cacheSize),parseClassName:Hu(e),..._u(e)}),Wu=/\s+/,Ku=(e,t)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:s}=t,a=[],l=e.trim().split(Wu);let i="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{modifiers:p,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=r(u);let v=!!g,m=o(v?f.substring(0,g):f);if(!m){if(!v){i=u+(i.length>0?" "+i:i);continue}if(m=o(f),!m){i=u+(i.length>0?" "+i:i);continue}v=!1}const x=zu(p).join(":"),b=h?x+yi:x,y=b+m;if(a.includes(y))continue;a.push(y);const w=s(m,v);for(let j=0;j<w.length;++j){const S=w[j];a.push(b+S)}i=u+(i.length>0?" "+i:i)}return i};function qu(){let e=0,t,r,o="";for(;e<arguments.length;)(t=arguments[e++])&&(r=wi(t))&&(o&&(o+=" "),o+=r);return o}const wi=e=>{if(typeof e=="string")return e;let t,r="";for(let o=0;o<e.length;o++)e[o]&&(t=wi(e[o]))&&(r&&(r+=" "),r+=t);return r};function Vu(e,...t){let r,o,s,a=l;function l(d){const u=t.reduce((p,h)=>h(p),e());return r=Uu(u),o=r.cache.get,s=r.cache.set,a=i,i(d)}function i(d){const u=o(d);if(u)return u;const p=Ku(d,r);return s(d,p),p}return function(){return a(qu.apply(null,arguments))}}const he=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ni=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gu=/^\d+\/\d+$/,Yu=new Set(["px","full","screen"]),Qu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ju=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ef=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,it=e=>er(e)||Yu.has(e)||Gu.test(e),ht=e=>Cr(e,"length",cf),er=e=>!!e&&!Number.isNaN(Number(e)),Go=e=>Cr(e,"number",er),Ar=e=>!!e&&Number.isInteger(Number(e)),tf=e=>e.endsWith("%")&&er(e.slice(0,-1)),q=e=>Ni.test(e),mt=e=>Qu.test(e),rf=new Set(["length","size","percentage"]),of=e=>Cr(e,rf,ji),nf=e=>Cr(e,"position",ji),sf=new Set(["image","url"]),af=e=>Cr(e,sf,uf),lf=e=>Cr(e,"",df),Mr=()=>!0,Cr=(e,t,r)=>{const o=Ni.exec(e);return o?o[1]?typeof t=="string"?o[1]===t:t.has(o[1]):r(o[2]):!1},cf=e=>Xu.test(e)&&!Ju.test(e),ji=()=>!1,df=e=>Zu.test(e),uf=e=>ef.test(e),ff=()=>{const e=he("colors"),t=he("spacing"),r=he("blur"),o=he("brightness"),s=he("borderColor"),a=he("borderRadius"),l=he("borderSpacing"),i=he("borderWidth"),d=he("contrast"),u=he("grayscale"),p=he("hueRotate"),h=he("invert"),f=he("gap"),g=he("gradientColorStops"),v=he("gradientColorStopPositions"),m=he("inset"),x=he("margin"),b=he("opacity"),y=he("padding"),w=he("saturate"),j=he("scale"),S=he("sepia"),E=he("skew"),C=he("space"),T=he("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",q,t],M=()=>[q,t],B=()=>["",it,ht],P=()=>["auto",er,q],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",q],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[er,q];return{cacheSize:500,separator:":",theme:{colors:[Mr],spacing:[it,ht],blur:["none","",mt,q],brightness:H(),borderColor:[e],borderRadius:["none","","full",mt,q],borderSpacing:M(),borderWidth:B(),contrast:H(),grayscale:$(),hueRotate:H(),invert:$(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[tf,ht],inset:_(),margin:_(),opacity:H(),padding:M(),saturate:H(),scale:H(),sepia:$(),skew:H(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[mt]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),q]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ar,q]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ar,q]}],"grid-cols":[{"grid-cols":[Mr]}],"col-start-end":[{col:["auto",{span:["full",Ar,q]},q]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Mr]}],"row-start-end":[{row:["auto",{span:[Ar,q]},q]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,t]}],"min-w":[{"min-w":[q,t,"min","max","fit"]}],"max-w":[{"max-w":[q,t,"none","full","min","max","fit","prose",{screen:[mt]},mt]}],h:[{h:[q,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mt,ht]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Go]}],"font-family":[{font:[Mr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",er,Go]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",it,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",it,ht]}],"underline-offset":[{"underline-offset":["auto",it,q]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),nf]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",of]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},af]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[it,q]}],"outline-w":[{outline:[it,ht]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[it,ht]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mt,lf]}],"shadow-color":[{shadow:[Mr]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",mt,q]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ar,q]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[it,ht,Go]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hf=Vu(ff);function J(...e){return hf(ui(e))}const mf=Nu,Si=c.forwardRef(({className:e,...t},r)=>n.jsx(ni,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Si.displayName=ni.displayName;const pf=Jn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ki=c.forwardRef(({className:e,variant:t,...r},o)=>n.jsx(si,{ref:o,className:J(pf({variant:t}),e),...r}));ki.displayName=si.displayName;const gf=c.forwardRef(({className:e,...t},r)=>n.jsx(li,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gf.displayName=li.displayName;const Ci=c.forwardRef(({className:e,...t},r)=>n.jsx(ci,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Iu,{className:"h-4 w-4"})}));Ci.displayName=ci.displayName;const Ei=c.forwardRef(({className:e,...t},r)=>n.jsx(ai,{ref:r,className:J("text-sm font-semibold",e),...t}));Ei.displayName=ai.displayName;const Ri=c.forwardRef(({className:e,...t},r)=>n.jsx(ii,{ref:r,className:J("text-sm opacity-90",e),...t}));Ri.displayName=ii.displayName;function xf(){const{toasts:e}=Id();return n.jsxs(mf,{children:[e.map(function({id:t,title:r,description:o,action:s,...a}){return n.jsxs(ki,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(Ei,{children:r}),o&&n.jsx(Ri,{children:o})]}),s,n.jsx(Ci,{})]},t)}),n.jsx(Si,{})]})}var Us=["light","dark"],vf="(prefers-color-scheme: dark)",bf=c.createContext(void 0),yf={setTheme:e=>{},themes:[]},wf=()=>{var e;return(e=c.useContext(bf))!=null?e:yf};c.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:o,enableColorScheme:s,defaultTheme:a,value:l,attrs:i,nonce:d})=>{let u=a==="system",p=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${i.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?Us.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,m=!1,x=!0)=>{let b=l?l[v]:v,y=m?v+"|| ''":`'${b}'`,w="";return s&&x&&!m&&Us.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?m||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},g=e?`!function(){${p}${f(e)}}()`:o?`!function(){try{${p}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${vf}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${f(l?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${f(l?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return c.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:g}})});var Nf=e=>{switch(e){case"success":return kf;case"info":return Ef;case"warning":return Cf;case"error":return Rf;default:return null}},jf=Array(12).fill(0),Sf=({visible:e})=>O.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},O.createElement("div",{className:"sonner-spinner"},jf.map((t,r)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kf=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Cf=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ef=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rf=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Tf=()=>{let[e,t]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},vn=1,Pf=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...o}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:vn++,a=this.toasts.find(i=>i.id===s),l=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(i=>i.id===s?(this.publish({...i,...e,id:s,title:r}),{...i,...e,id:s,dismissible:l,title:r}):i):this.addToast({title:r,...o,dismissible:l,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let o=e instanceof Promise?e:e(),s=r!==void 0;return o.then(async a=>{if(Mf(a)&&!a.ok){s=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,i=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:l,description:i})}else if(t.success!==void 0){s=!1;let l=typeof t.success=="function"?await t.success(a):t.success,i=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:l,description:i})}}).catch(async a=>{if(t.error!==void 0){s=!1;let l=typeof t.error=="function"?await t.error(a):t.error,i=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:l,description:i})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||vn++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},_e=new Pf,Af=(e,t)=>{let r=(t==null?void 0:t.id)||vn++;return _e.addToast({title:e,...t,id:r}),r},Mf=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Of=Af,If=()=>_e.toasts,ce=Object.assign(Of,{success:_e.success,info:_e.info,warning:_e.warning,error:_e.error,custom:_e.custom,message:_e.message,promise:_e.promise,dismiss:_e.dismiss,loading:_e.loading},{getHistory:If});function _f(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}_f(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ro(e){return e.label!==void 0}var Lf=3,Df="32px",Bf=4e3,Ff=356,$f=14,Hf=20,zf=200;function Uf(...e){return e.filter(Boolean).join(" ")}var Wf=e=>{var t,r,o,s,a,l,i,d,u,p;let{invert:h,toast:f,unstyled:g,interacting:v,setHeights:m,visibleToasts:x,heights:b,index:y,toasts:w,expanded:j,removeToast:S,defaultRichColors:E,closeButton:C,style:T,cancelButtonStyle:k,actionButtonStyle:R,className:_="",descriptionClassName:M="",duration:B,position:P,gap:D,loadingIcon:I,expandByDefault:F,classNames:A,icons:$,closeButtonAriaLabel:me="Close toast",pauseWhenPageIsHidden:H,cn:Y}=e,[ee,ge]=O.useState(!1),[Pe,ie]=O.useState(!1),[z,ne]=O.useState(!1),[xe,re]=O.useState(!1),[se,oe]=O.useState(0),[Ee,Oe]=O.useState(0),ut=O.useRef(null),$e=O.useRef(null),Ot=y===0,$o=y+1<=x,Ne=f.type,Vt=f.dismissible!==!1,Xc=f.className||"",Jc=f.descriptionClassName||"",Xr=O.useMemo(()=>b.findIndex(K=>K.toastId===f.id)||0,[b,f.id]),Zc=O.useMemo(()=>{var K;return(K=f.closeButton)!=null?K:C},[f.closeButton,C]),Rs=O.useMemo(()=>f.duration||B||Bf,[f.duration,B]),Ho=O.useRef(0),Gt=O.useRef(0),Ts=O.useRef(0),Yt=O.useRef(null),[Ps,ed]=P.split("-"),As=O.useMemo(()=>b.reduce((K,fe,le)=>le>=Xr?K:K+fe.height,0),[b,Xr]),Ms=Tf(),td=f.invert||h,zo=Ne==="loading";Gt.current=O.useMemo(()=>Xr*D+As,[Xr,As]),O.useEffect(()=>{ge(!0)},[]),O.useLayoutEffect(()=>{if(!ee)return;let K=$e.current,fe=K.style.height;K.style.height="auto";let le=K.getBoundingClientRect().height;K.style.height=fe,Oe(le),m(Je=>Je.find(Ze=>Ze.toastId===f.id)?Je.map(Ze=>Ze.toastId===f.id?{...Ze,height:le}:Ze):[{toastId:f.id,height:le,position:f.position},...Je])},[ee,f.title,f.description,m,f.id]);let ft=O.useCallback(()=>{ie(!0),oe(Gt.current),m(K=>K.filter(fe=>fe.toastId!==f.id)),setTimeout(()=>{S(f)},zf)},[f,S,m,Gt]);O.useEffect(()=>{if(f.promise&&Ne==="loading"||f.duration===1/0||f.type==="loading")return;let K,fe=Rs;return j||v||H&&Ms?(()=>{if(Ts.current<Ho.current){let le=new Date().getTime()-Ho.current;fe=fe-le}Ts.current=new Date().getTime()})():fe!==1/0&&(Ho.current=new Date().getTime(),K=setTimeout(()=>{var le;(le=f.onAutoClose)==null||le.call(f,f),ft()},fe)),()=>clearTimeout(K)},[j,v,F,f,Rs,ft,f.promise,Ne,H,Ms]),O.useEffect(()=>{let K=$e.current;if(K){let fe=K.getBoundingClientRect().height;return Oe(fe),m(le=>[{toastId:f.id,height:fe,position:f.position},...le]),()=>m(le=>le.filter(Je=>Je.toastId!==f.id))}},[m,f.id]),O.useEffect(()=>{f.delete&&ft()},[ft,f.delete]);function rd(){return $!=null&&$.loading?O.createElement("div",{className:"sonner-loader","data-visible":Ne==="loading"},$.loading):I?O.createElement("div",{className:"sonner-loader","data-visible":Ne==="loading"},I):O.createElement(Sf,{visible:Ne==="loading"})}return O.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:$e,className:Y(_,Xc,A==null?void 0:A.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[Ne],(r=f==null?void 0:f.classNames)==null?void 0:r[Ne]),"data-sonner-toast":"","data-rich-colors":(o=f.richColors)!=null?o:E,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":ee,"data-promise":!!f.promise,"data-removed":Pe,"data-visible":$o,"data-y-position":Ps,"data-x-position":ed,"data-index":y,"data-front":Ot,"data-swiping":z,"data-dismissible":Vt,"data-type":Ne,"data-invert":td,"data-swipe-out":xe,"data-expanded":!!(j||F&&ee),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${Pe?se:Gt.current}px`,"--initial-height":F?"auto":`${Ee}px`,...T,...f.style},onPointerDown:K=>{zo||!Vt||(ut.current=new Date,oe(Gt.current),K.target.setPointerCapture(K.pointerId),K.target.tagName!=="BUTTON"&&(ne(!0),Yt.current={x:K.clientX,y:K.clientY}))},onPointerUp:()=>{var K,fe,le,Je;if(xe||!Vt)return;Yt.current=null;let Ze=Number(((K=$e.current)==null?void 0:K.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Jr=new Date().getTime()-((fe=ut.current)==null?void 0:fe.getTime()),od=Math.abs(Ze)/Jr;if(Math.abs(Ze)>=Hf||od>.11){oe(Gt.current),(le=f.onDismiss)==null||le.call(f,f),ft(),re(!0);return}(Je=$e.current)==null||Je.style.setProperty("--swipe-amount","0px"),ne(!1)},onPointerMove:K=>{var fe;if(!Yt.current||!Vt)return;let le=K.clientY-Yt.current.y,Je=K.clientX-Yt.current.x,Ze=(Ps==="top"?Math.min:Math.max)(0,le),Jr=K.pointerType==="touch"?10:2;Math.abs(Ze)>Jr?(fe=$e.current)==null||fe.style.setProperty("--swipe-amount",`${le}px`):Math.abs(Je)>Jr&&(Yt.current=null)}},Zc&&!f.jsx?O.createElement("button",{"aria-label":me,"data-disabled":zo,"data-close-button":!0,onClick:zo||!Vt?()=>{}:()=>{var K;ft(),(K=f.onDismiss)==null||K.call(f,f)},className:Y(A==null?void 0:A.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||O.isValidElement(f.title)?f.jsx||f.title:O.createElement(O.Fragment,null,Ne||f.icon||f.promise?O.createElement("div",{"data-icon":"",className:Y(A==null?void 0:A.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||rd():null,f.type!=="loading"?f.icon||($==null?void 0:$[Ne])||Nf(Ne):null):null,O.createElement("div",{"data-content":"",className:Y(A==null?void 0:A.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},O.createElement("div",{"data-title":"",className:Y(A==null?void 0:A.title,(i=f==null?void 0:f.classNames)==null?void 0:i.title)},f.title),f.description?O.createElement("div",{"data-description":"",className:Y(M,Jc,A==null?void 0:A.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},f.description):null),O.isValidElement(f.cancel)?f.cancel:f.cancel&&ro(f.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||k,onClick:K=>{var fe,le;ro(f.cancel)&&Vt&&((le=(fe=f.cancel).onClick)==null||le.call(fe,K),ft())},className:Y(A==null?void 0:A.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,O.isValidElement(f.action)?f.action:f.action&&ro(f.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:K=>{var fe,le;ro(f.action)&&(K.defaultPrevented||((le=(fe=f.action).onClick)==null||le.call(fe,K),ft()))},className:Y(A==null?void 0:A.actionButton,(p=f==null?void 0:f.classNames)==null?void 0:p.actionButton)},f.action.label):null))};function Ws(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Kf=e=>{let{invert:t,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:i,theme:d="light",richColors:u,duration:p,style:h,visibleToasts:f=Lf,toastOptions:g,dir:v=Ws(),gap:m=$f,loadingIcon:x,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:j=Uf}=e,[S,E]=O.useState([]),C=O.useMemo(()=>Array.from(new Set([r].concat(S.filter(H=>H.position).map(H=>H.position)))),[S,r]),[T,k]=O.useState([]),[R,_]=O.useState(!1),[M,B]=O.useState(!1),[P,D]=O.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=O.useRef(null),F=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=O.useRef(null),$=O.useRef(!1),me=O.useCallback(H=>{var Y;(Y=S.find(ee=>ee.id===H.id))!=null&&Y.delete||_e.dismiss(H.id),E(ee=>ee.filter(({id:ge})=>ge!==H.id))},[S]);return O.useEffect(()=>_e.subscribe(H=>{if(H.dismiss){E(Y=>Y.map(ee=>ee.id===H.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{Ma.flushSync(()=>{E(Y=>{let ee=Y.findIndex(ge=>ge.id===H.id);return ee!==-1?[...Y.slice(0,ee),{...Y[ee],...H},...Y.slice(ee+1)]:[H,...Y]})})})}),[]),O.useEffect(()=>{if(d!=="system"){D(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{D(H?"dark":"light")})},[d]),O.useEffect(()=>{S.length<=1&&_(!1)},[S]),O.useEffect(()=>{let H=Y=>{var ee,ge;o.every(Pe=>Y[Pe]||Y.code===Pe)&&(_(!0),(ee=I.current)==null||ee.focus()),Y.code==="Escape"&&(document.activeElement===I.current||(ge=I.current)!=null&&ge.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[o]),O.useEffect(()=>{if(I.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,$.current=!1)}},[I.current]),S.length?O.createElement("section",{"aria-label":`${y} ${F}`,tabIndex:-1},C.map((H,Y)=>{var ee;let[ge,Pe]=H.split("-");return O.createElement("ol",{key:H,dir:v==="auto"?Ws():v,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":P,"data-y-position":ge,"data-x-position":Pe,style:{"--front-toast-height":`${((ee=T[0])==null?void 0:ee.height)||0}px`,"--offset":typeof i=="number"?`${i}px`:i||Df,"--width":`${Ff}px`,"--gap":`${m}px`,...h},onBlur:ie=>{$.current&&!ie.currentTarget.contains(ie.relatedTarget)&&($.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||$.current||($.current=!0,A.current=ie.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{M||_(!1)},onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},S.filter(ie=>!ie.position&&Y===0||ie.position===H).map((ie,z)=>{var ne,xe;return O.createElement(Wf,{key:ie.id,icons:b,index:z,toast:ie,defaultRichColors:u,duration:(ne=g==null?void 0:g.duration)!=null?ne:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:f,closeButton:(xe=g==null?void 0:g.closeButton)!=null?xe:a,interacting:M,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:me,toasts:S.filter(re=>re.position==ie.position),heights:T.filter(re=>re.position==ie.position),setHeights:k,expandByDefault:s,gap:m,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:w,cn:j})}))})):null};const qf=({...e})=>{const{theme:t="system"}=wf();return n.jsx(Kf,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Vf=nd.useId||(()=>{}),Gf=0;function Ro(e){const[t,r]=c.useState(Vf());return Ce(()=>{r(o=>o??String(Gf++))},[e]),t?`radix-${t}`:""}const Yf=["top","right","bottom","left"],Ct=Math.min,Le=Math.max,xo=Math.round,oo=Math.floor,Et=e=>({x:e,y:e}),Qf={left:"right",right:"left",bottom:"top",top:"bottom"},Xf={start:"end",end:"start"};function bn(e,t,r){return Le(e,Ct(t,r))}function ct(e,t){return typeof e=="function"?e(t):e}function dt(e){return e.split("-")[0]}function Er(e){return e.split("-")[1]}function ts(e){return e==="x"?"y":"x"}function rs(e){return e==="y"?"height":"width"}function Rt(e){return["top","bottom"].includes(dt(e))?"y":"x"}function os(e){return ts(Rt(e))}function Jf(e,t,r){r===void 0&&(r=!1);const o=Er(e),s=os(e),a=rs(s);let l=s==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=vo(l)),[l,vo(l)]}function Zf(e){const t=vo(e);return[yn(e),t,yn(t)]}function yn(e){return e.replace(/start|end/g,t=>Xf[t])}function eh(e,t,r){const o=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:o:t?o:s;case"left":case"right":return t?a:l;default:return[]}}function th(e,t,r,o){const s=Er(e);let a=eh(dt(e),r==="start",o);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(yn)))),a}function vo(e){return e.replace(/left|right|bottom|top/g,t=>Qf[t])}function rh(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ti(e){return typeof e!="number"?rh(e):{top:e,right:e,bottom:e,left:e}}function bo(e){const{x:t,y:r,width:o,height:s}=e;return{width:o,height:s,top:r,left:t,right:t+o,bottom:r+s,x:t,y:r}}function Ks(e,t,r){let{reference:o,floating:s}=e;const a=Rt(t),l=os(t),i=rs(l),d=dt(t),u=a==="y",p=o.x+o.width/2-s.width/2,h=o.y+o.height/2-s.height/2,f=o[i]/2-s[i]/2;let g;switch(d){case"top":g={x:p,y:o.y-s.height};break;case"bottom":g={x:p,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:h};break;case"left":g={x:o.x-s.width,y:h};break;default:g={x:o.x,y:o.y}}switch(Er(t)){case"start":g[l]-=f*(r&&u?-1:1);break;case"end":g[l]+=f*(r&&u?-1:1);break}return g}const oh=async(e,t,r)=>{const{placement:o="bottom",strategy:s="absolute",middleware:a=[],platform:l}=r,i=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:h}=Ks(u,o,d),f=o,g={},v=0;for(let m=0;m<i.length;m++){const{name:x,fn:b}=i[m],{x:y,y:w,data:j,reset:S}=await b({x:p,y:h,initialPlacement:o,placement:f,strategy:s,middlewareData:g,rects:u,platform:l,elements:{reference:e,floating:t}});p=y??p,h=w??h,g={...g,[x]:{...g[x],...j}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:p,y:h}=Ks(u,f,d)),m=-1)}return{x:p,y:h,placement:f,strategy:s,middlewareData:g}};async function Br(e,t){var r;t===void 0&&(t={});const{x:o,y:s,platform:a,rects:l,elements:i,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=ct(t,e),v=Ti(g),x=i[f?h==="floating"?"reference":"floating":h],b=bo(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:u,rootBoundary:p,strategy:d})),y=h==="floating"?{x:o,y:s,width:l.floating.width,height:l.floating.height}:l.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=bo(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:y,offsetParent:w,strategy:d}):y);return{top:(b.top-S.top+v.top)/j.y,bottom:(S.bottom-b.bottom+v.bottom)/j.y,left:(b.left-S.left+v.left)/j.x,right:(S.right-b.right+v.right)/j.x}}const nh=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:o,placement:s,rects:a,platform:l,elements:i,middlewareData:d}=t,{element:u,padding:p=0}=ct(e,t)||{};if(u==null)return{};const h=Ti(p),f={x:r,y:o},g=os(s),v=rs(g),m=await l.getDimensions(u),x=g==="y",b=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",j=a.reference[v]+a.reference[g]-f[g]-a.floating[v],S=f[g]-a.reference[g],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let C=E?E[w]:0;(!C||!await(l.isElement==null?void 0:l.isElement(E)))&&(C=i.floating[w]||a.floating[v]);const T=j/2-S/2,k=C/2-m[v]/2-1,R=Ct(h[b],k),_=Ct(h[y],k),M=R,B=C-m[v]-_,P=C/2-m[v]/2+T,D=bn(M,P,B),I=!d.arrow&&Er(s)!=null&&P!==D&&a.reference[v]/2-(P<M?R:_)-m[v]/2<0,F=I?P<M?P-M:P-B:0;return{[g]:f[g]+F,data:{[g]:D,centerOffset:P-D-F,...I&&{alignmentOffset:F}},reset:I}}}),sh=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,o;const{placement:s,middlewareData:a,rects:l,initialPlacement:i,platform:d,elements:u}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=ct(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=dt(s),y=Rt(i),w=dt(i)===i,j=await(d.isRTL==null?void 0:d.isRTL(u.floating)),S=f||(w||!m?[vo(i)]:Zf(i)),E=v!=="none";!f&&E&&S.push(...th(i,m,v,j));const C=[i,...S],T=await Br(t,x),k=[];let R=((o=a.flip)==null?void 0:o.overflows)||[];if(p&&k.push(T[b]),h){const P=Jf(s,l,j);k.push(T[P[0]],T[P[1]])}if(R=[...R,{placement:s,overflows:k}],!k.every(P=>P<=0)){var _,M;const P=(((_=a.flip)==null?void 0:_.index)||0)+1,D=C[P];if(D)return{data:{index:P,overflows:R},reset:{placement:D}};let I=(M=R.filter(F=>F.overflows[0]<=0).sort((F,A)=>F.overflows[1]-A.overflows[1])[0])==null?void 0:M.placement;if(!I)switch(g){case"bestFit":{var B;const F=(B=R.filter(A=>{if(E){const $=Rt(A.placement);return $===y||$==="y"}return!0}).map(A=>[A.placement,A.overflows.filter($=>$>0).reduce(($,me)=>$+me,0)]).sort((A,$)=>A[1]-$[1])[0])==null?void 0:B[0];F&&(I=F);break}case"initialPlacement":I=i;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function qs(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vs(e){return Yf.some(t=>e[t]>=0)}const ah=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:o="referenceHidden",...s}=ct(e,t);switch(o){case"referenceHidden":{const a=await Br(t,{...s,elementContext:"reference"}),l=qs(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Vs(l)}}}case"escaped":{const a=await Br(t,{...s,altBoundary:!0}),l=qs(a,r.floating);return{data:{escapedOffsets:l,escaped:Vs(l)}}}default:return{}}}}};async function ih(e,t){const{placement:r,platform:o,elements:s}=e,a=await(o.isRTL==null?void 0:o.isRTL(s.floating)),l=dt(r),i=Er(r),d=Rt(r)==="y",u=["left","top"].includes(l)?-1:1,p=a&&d?-1:1,h=ct(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return i&&typeof v=="number"&&(g=i==="end"?v*-1:v),d?{x:g*p,y:f*u}:{x:f*u,y:g*p}}const lh=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,o;const{x:s,y:a,placement:l,middlewareData:i}=t,d=await ih(t,e);return l===((r=i.offset)==null?void 0:r.placement)&&(o=i.arrow)!=null&&o.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},ch=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:o,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:i={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...d}=ct(e,t),u={x:r,y:o},p=await Br(t,d),h=Rt(dt(s)),f=ts(h);let g=u[f],v=u[h];if(a){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=g+p[x],w=g-p[b];g=bn(y,g,w)}if(l){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=v+p[x],w=v-p[b];v=bn(y,v,w)}const m=i.fn({...t,[f]:g,[h]:v});return{...m,data:{x:m.x-r,y:m.y-o,enabled:{[f]:a,[h]:l}}}}}},dh=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:o,placement:s,rects:a,middlewareData:l}=t,{offset:i=0,mainAxis:d=!0,crossAxis:u=!0}=ct(e,t),p={x:r,y:o},h=Rt(s),f=ts(h);let g=p[f],v=p[h];const m=ct(i,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(d){const w=f==="y"?"height":"width",j=a.reference[f]-a.floating[w]+x.mainAxis,S=a.reference[f]+a.reference[w]-x.mainAxis;g<j?g=j:g>S&&(g=S)}if(u){var b,y;const w=f==="y"?"width":"height",j=["top","left"].includes(dt(s)),S=a.reference[h]-a.floating[w]+(j&&((b=l.offset)==null?void 0:b[h])||0)+(j?0:x.crossAxis),E=a.reference[h]+a.reference[w]+(j?0:((y=l.offset)==null?void 0:y[h])||0)-(j?x.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[f]:g,[h]:v}}}},uh=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,o;const{placement:s,rects:a,platform:l,elements:i}=t,{apply:d=()=>{},...u}=ct(e,t),p=await Br(t,u),h=dt(s),f=Er(s),g=Rt(s)==="y",{width:v,height:m}=a.floating;let x,b;h==="top"||h==="bottom"?(x=h,b=f===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(b=h,x=f==="end"?"top":"bottom");const y=m-p.top-p.bottom,w=v-p.left-p.right,j=Ct(m-p[x],y),S=Ct(v-p[b],w),E=!t.middlewareData.shift;let C=j,T=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(C=y),E&&!f){const R=Le(p.left,0),_=Le(p.right,0),M=Le(p.top,0),B=Le(p.bottom,0);g?T=v-2*(R!==0||_!==0?R+_:Le(p.left,p.right)):C=m-2*(M!==0||B!==0?M+B:Le(p.top,p.bottom))}await d({...t,availableWidth:T,availableHeight:C});const k=await l.getDimensions(i.floating);return v!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function To(){return typeof window<"u"}function Rr(e){return Pi(e)?(e.nodeName||"").toLowerCase():"#document"}function Be(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function at(e){var t;return(t=(Pi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pi(e){return To()?e instanceof Node||e instanceof Be(e).Node:!1}function Qe(e){return To()?e instanceof Element||e instanceof Be(e).Element:!1}function st(e){return To()?e instanceof HTMLElement||e instanceof Be(e).HTMLElement:!1}function Gs(e){return!To()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Be(e).ShadowRoot}function Gr(e){const{overflow:t,overflowX:r,overflowY:o,display:s}=Xe(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!["inline","contents"].includes(s)}function fh(e){return["table","td","th"].includes(Rr(e))}function Po(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ns(e){const t=ss(),r=Qe(e)?Xe(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(r.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(r.contain||"").includes(o))}function hh(e){let t=Tt(e);for(;st(t)&&!wr(t);){if(ns(t))return t;if(Po(t))return null;t=Tt(t)}return null}function ss(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wr(e){return["html","body","#document"].includes(Rr(e))}function Xe(e){return Be(e).getComputedStyle(e)}function Ao(e){return Qe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tt(e){if(Rr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gs(e)&&e.host||at(e);return Gs(t)?t.host:t}function Ai(e){const t=Tt(e);return wr(t)?e.ownerDocument?e.ownerDocument.body:e.body:st(t)&&Gr(t)?t:Ai(t)}function Fr(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Ai(e),a=s===((o=e.ownerDocument)==null?void 0:o.body),l=Be(s);if(a){const i=wn(l);return t.concat(l,l.visualViewport||[],Gr(s)?s:[],i&&r?Fr(i):[])}return t.concat(s,Fr(s,[],r))}function wn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mi(e){const t=Xe(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=st(e),a=s?e.offsetWidth:r,l=s?e.offsetHeight:o,i=xo(r)!==a||xo(o)!==l;return i&&(r=a,o=l),{width:r,height:o,$:i}}function as(e){return Qe(e)?e:e.contextElement}function tr(e){const t=as(e);if(!st(t))return Et(1);const r=t.getBoundingClientRect(),{width:o,height:s,$:a}=Mi(t);let l=(a?xo(r.width):r.width)/o,i=(a?xo(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const mh=Et(0);function Oi(e){const t=Be(e);return!ss()||!t.visualViewport?mh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ph(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Be(e)?!1:t}function zt(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=as(e);let l=Et(1);t&&(o?Qe(o)&&(l=tr(o)):l=tr(e));const i=ph(a,r,o)?Oi(a):Et(0);let d=(s.left+i.x)/l.x,u=(s.top+i.y)/l.y,p=s.width/l.x,h=s.height/l.y;if(a){const f=Be(a),g=o&&Qe(o)?Be(o):o;let v=f,m=wn(v);for(;m&&o&&g!==v;){const x=tr(m),b=m.getBoundingClientRect(),y=Xe(m),w=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,j=b.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;d*=x.x,u*=x.y,p*=x.x,h*=x.y,d+=w,u+=j,v=Be(m),m=wn(v)}}return bo({width:p,height:h,x:d,y:u})}function gh(e){let{elements:t,rect:r,offsetParent:o,strategy:s}=e;const a=s==="fixed",l=at(o),i=t?Po(t.floating):!1;if(o===l||i&&a)return r;let d={scrollLeft:0,scrollTop:0},u=Et(1);const p=Et(0),h=st(o);if((h||!h&&!a)&&((Rr(o)!=="body"||Gr(l))&&(d=Ao(o)),st(o))){const f=zt(o);u=tr(o),p.x=f.x+o.clientLeft,p.y=f.y+o.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+p.x,y:r.y*u.y-d.scrollTop*u.y+p.y}}function xh(e){return Array.from(e.getClientRects())}function Nn(e,t){const r=Ao(e).scrollLeft;return t?t.left+r:zt(at(e)).left+r}function vh(e){const t=at(e),r=Ao(e),o=e.ownerDocument.body,s=Le(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=Le(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-r.scrollLeft+Nn(e);const i=-r.scrollTop;return Xe(o).direction==="rtl"&&(l+=Le(t.clientWidth,o.clientWidth)-s),{width:s,height:a,x:l,y:i}}function bh(e,t){const r=Be(e),o=at(e),s=r.visualViewport;let a=o.clientWidth,l=o.clientHeight,i=0,d=0;if(s){a=s.width,l=s.height;const u=ss();(!u||u&&t==="fixed")&&(i=s.offsetLeft,d=s.offsetTop)}return{width:a,height:l,x:i,y:d}}function yh(e,t){const r=zt(e,!0,t==="fixed"),o=r.top+e.clientTop,s=r.left+e.clientLeft,a=st(e)?tr(e):Et(1),l=e.clientWidth*a.x,i=e.clientHeight*a.y,d=s*a.x,u=o*a.y;return{width:l,height:i,x:d,y:u}}function Ys(e,t,r){let o;if(t==="viewport")o=bh(e,r);else if(t==="document")o=vh(at(e));else if(Qe(t))o=yh(t,r);else{const s=Oi(e);o={...t,x:t.x-s.x,y:t.y-s.y}}return bo(o)}function Ii(e,t){const r=Tt(e);return r===t||!Qe(r)||wr(r)?!1:Xe(r).position==="fixed"||Ii(r,t)}function wh(e,t){const r=t.get(e);if(r)return r;let o=Fr(e,[],!1).filter(i=>Qe(i)&&Rr(i)!=="body"),s=null;const a=Xe(e).position==="fixed";let l=a?Tt(e):e;for(;Qe(l)&&!wr(l);){const i=Xe(l),d=ns(l);!d&&i.position==="fixed"&&(s=null),(a?!d&&!s:!d&&i.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gr(l)&&!d&&Ii(e,l))?o=o.filter(p=>p!==l):s=i,l=Tt(l)}return t.set(e,o),o}function Nh(e){let{element:t,boundary:r,rootBoundary:o,strategy:s}=e;const l=[...r==="clippingAncestors"?Po(t)?[]:wh(t,this._c):[].concat(r),o],i=l[0],d=l.reduce((u,p)=>{const h=Ys(t,p,s);return u.top=Le(h.top,u.top),u.right=Ct(h.right,u.right),u.bottom=Ct(h.bottom,u.bottom),u.left=Le(h.left,u.left),u},Ys(t,i,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function jh(e){const{width:t,height:r}=Mi(e);return{width:t,height:r}}function Sh(e,t,r){const o=st(t),s=at(t),a=r==="fixed",l=zt(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const d=Et(0);if(o||!o&&!a)if((Rr(t)!=="body"||Gr(s))&&(i=Ao(t)),o){const g=zt(t,!0,a,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else s&&(d.x=Nn(s));let u=0,p=0;if(s&&!o&&!a){const g=s.getBoundingClientRect();p=g.top+i.scrollTop,u=g.left+i.scrollLeft-Nn(s,g)}const h=l.left+i.scrollLeft-d.x-u,f=l.top+i.scrollTop-d.y-p;return{x:h,y:f,width:l.width,height:l.height}}function Yo(e){return Xe(e).position==="static"}function Qs(e,t){if(!st(e)||Xe(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return at(e)===r&&(r=r.ownerDocument.body),r}function _i(e,t){const r=Be(e);if(Po(e))return r;if(!st(e)){let s=Tt(e);for(;s&&!wr(s);){if(Qe(s)&&!Yo(s))return s;s=Tt(s)}return r}let o=Qs(e,t);for(;o&&fh(o)&&Yo(o);)o=Qs(o,t);return o&&wr(o)&&Yo(o)&&!ns(o)?r:o||hh(e)||r}const kh=async function(e){const t=this.getOffsetParent||_i,r=this.getDimensions,o=await r(e.floating);return{reference:Sh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ch(e){return Xe(e).direction==="rtl"}const Eh={convertOffsetParentRelativeRectToViewportRelativeRect:gh,getDocumentElement:at,getClippingRect:Nh,getOffsetParent:_i,getElementRects:kh,getClientRects:xh,getDimensions:jh,getScale:tr,isElement:Qe,isRTL:Ch};function Rh(e,t){let r=null,o;const s=at(e);function a(){var i;clearTimeout(o),(i=r)==null||i.disconnect(),r=null}function l(i,d){i===void 0&&(i=!1),d===void 0&&(d=1),a();const{left:u,top:p,width:h,height:f}=e.getBoundingClientRect();if(i||t(),!h||!f)return;const g=oo(p),v=oo(s.clientWidth-(u+h)),m=oo(s.clientHeight-(p+f)),x=oo(u),y={rootMargin:-g+"px "+-v+"px "+-m+"px "+-x+"px",threshold:Le(0,Ct(1,d))||1};let w=!0;function j(S){const E=S[0].intersectionRatio;if(E!==d){if(!w)return l();E?l(!1,E):o=setTimeout(()=>{l(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,y)}r.observe(e)}return l(!0),a}function Th(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,u=as(e),p=s||a?[...u?Fr(u):[],...Fr(t)]:[];p.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const h=u&&i?Rh(u,r):null;let f=-1,g=null;l&&(g=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),r()}),u&&!d&&g.observe(u),g.observe(t));let v,m=d?zt(e):null;d&&x();function x(){const b=zt(e);m&&(b.x!==m.x||b.y!==m.y||b.width!==m.width||b.height!==m.height)&&r(),m=b,v=requestAnimationFrame(x)}return r(),()=>{var b;p.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),h==null||h(),(b=g)==null||b.disconnect(),g=null,d&&cancelAnimationFrame(v)}}const Ph=lh,Ah=ch,Mh=sh,Oh=uh,Ih=ah,Xs=nh,_h=dh,Lh=(e,t,r)=>{const o=new Map,s={platform:Eh,...r},a={...s.platform,_c:o};return oh(e,t,{...s,platform:a})};var ho=typeof document<"u"?c.useLayoutEffect:c.useEffect;function yo(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(o=r;o--!==0;)if(!yo(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;){const a=s[o];if(!(a==="_owner"&&e.$$typeof)&&!yo(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Li(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Js(e,t){const r=Li(e);return Math.round(t*r)/r}function Qo(e){const t=c.useRef(e);return ho(()=>{t.current=e}),t}function Dh(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:s,elements:{reference:a,floating:l}={},transform:i=!0,whileElementsMounted:d,open:u}=e,[p,h]=c.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=c.useState(o);yo(f,o)||g(o);const[v,m]=c.useState(null),[x,b]=c.useState(null),y=c.useCallback(A=>{A!==E.current&&(E.current=A,m(A))},[]),w=c.useCallback(A=>{A!==C.current&&(C.current=A,b(A))},[]),j=a||v,S=l||x,E=c.useRef(null),C=c.useRef(null),T=c.useRef(p),k=d!=null,R=Qo(d),_=Qo(s),M=Qo(u),B=c.useCallback(()=>{if(!E.current||!C.current)return;const A={placement:t,strategy:r,middleware:f};_.current&&(A.platform=_.current),Lh(E.current,C.current,A).then($=>{const me={...$,isPositioned:M.current!==!1};P.current&&!yo(T.current,me)&&(T.current=me,jr.flushSync(()=>{h(me)}))})},[f,t,r,_,M]);ho(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(A=>({...A,isPositioned:!1})))},[u]);const P=c.useRef(!1);ho(()=>(P.current=!0,()=>{P.current=!1}),[]),ho(()=>{if(j&&(E.current=j),S&&(C.current=S),j&&S){if(R.current)return R.current(j,S,B);B()}},[j,S,B,R,k]);const D=c.useMemo(()=>({reference:E,floating:C,setReference:y,setFloating:w}),[y,w]),I=c.useMemo(()=>({reference:j,floating:S}),[j,S]),F=c.useMemo(()=>{const A={position:r,left:0,top:0};if(!I.floating)return A;const $=Js(I.floating,p.x),me=Js(I.floating,p.y);return i?{...A,transform:"translate("+$+"px, "+me+"px)",...Li(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:me}},[r,i,I.floating,p.x,p.y]);return c.useMemo(()=>({...p,update:B,refs:D,elements:I,floatingStyles:F}),[p,B,D,I,F])}const Bh=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:s}=typeof e=="function"?e(r):e;return o&&t(o)?o.current!=null?Xs({element:o.current,padding:s}).fn(r):{}:o?Xs({element:o,padding:s}).fn(r):{}}}},Fh=(e,t)=>({...Ph(e),options:[e,t]}),$h=(e,t)=>({...Ah(e),options:[e,t]}),Hh=(e,t)=>({..._h(e),options:[e,t]}),zh=(e,t)=>({...Mh(e),options:[e,t]}),Uh=(e,t)=>({...Oh(e),options:[e,t]}),Wh=(e,t)=>({...Ih(e),options:[e,t]}),Kh=(e,t)=>({...Bh(e),options:[e,t]});var qh="Arrow",Di=c.forwardRef((e,t)=>{const{children:r,width:o=10,height:s=5,...a}=e;return n.jsx(G.svg,{...a,ref:t,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});Di.displayName=qh;var Vh=Di;function Gh(e,t=[]){let r=[];function o(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];function u(h){const{scope:f,children:g,...v}=h,m=(f==null?void 0:f[e][d])||i,x=c.useMemo(()=>v,Object.values(v));return n.jsx(m.Provider,{value:x,children:g})}function p(h,f){const g=(f==null?void 0:f[e][d])||i,v=c.useContext(g);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,p]}const s=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return s.scopeName=e,[o,Yh(s,...t)]}function Yh(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=o.reduce((i,{useScope:d,scopeName:u})=>{const h=d(a)[`__scope${u}`];return{...i,...h}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function is(e){const[t,r]=c.useState(void 0);return Ce(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,i;if("borderBoxSize"in a){const d=a.borderBoxSize,u=Array.isArray(d)?d[0]:d;l=u.inlineSize,i=u.blockSize}else l=e.offsetWidth,i=e.offsetHeight;r({width:l,height:i})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),t}var ls="Popper",[Bi,Mo]=Gh(ls),[Qh,Fi]=Bi(ls),$i=e=>{const{__scopePopper:t,children:r}=e,[o,s]=c.useState(null);return n.jsx(Qh,{scope:t,anchor:o,onAnchorChange:s,children:r})};$i.displayName=ls;var Hi="PopperAnchor",zi=c.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:o,...s}=e,a=Fi(Hi,r),l=c.useRef(null),i=ue(t,l);return c.useEffect(()=>{a.onAnchorChange((o==null?void 0:o.current)||l.current)}),o?null:n.jsx(G.div,{...s,ref:i})});zi.displayName=Hi;var cs="PopperContent",[Xh,Jh]=Bi(cs),Ui=c.forwardRef((e,t)=>{var z,ne,xe,re,se,oe;const{__scopePopper:r,side:o="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:i=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:v,...m}=e,x=Fi(cs,r),[b,y]=c.useState(null),w=ue(t,Ee=>y(Ee)),[j,S]=c.useState(null),E=is(j),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,k=o+(a!=="center"?"-"+a:""),R=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},_=Array.isArray(u)?u:[u],M=_.length>0,B={padding:R,boundary:_.filter(em),altBoundary:M},{refs:P,floatingStyles:D,placement:I,isPositioned:F,middlewareData:A}=Dh({strategy:"fixed",placement:k,whileElementsMounted:(...Ee)=>Th(...Ee,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[Fh({mainAxis:s+T,alignmentAxis:l}),d&&$h({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Hh():void 0,...B}),d&&zh({...B}),Uh({...B,apply:({elements:Ee,rects:Oe,availableWidth:ut,availableHeight:$e})=>{const{width:Ot,height:$o}=Oe.reference,Ne=Ee.floating.style;Ne.setProperty("--radix-popper-available-width",`${ut}px`),Ne.setProperty("--radix-popper-available-height",`${$e}px`),Ne.setProperty("--radix-popper-anchor-width",`${Ot}px`),Ne.setProperty("--radix-popper-anchor-height",`${$o}px`)}}),j&&Kh({element:j,padding:i}),tm({arrowWidth:C,arrowHeight:T}),f&&Wh({strategy:"referenceHidden",...B})]}),[$,me]=qi(I),H=Me(v);Ce(()=>{F&&(H==null||H())},[F,H]);const Y=(z=A.arrow)==null?void 0:z.x,ee=(ne=A.arrow)==null?void 0:ne.y,ge=((xe=A.arrow)==null?void 0:xe.centerOffset)!==0,[Pe,ie]=c.useState();return Ce(()=>{b&&ie(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:F?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(re=A.transformOrigin)==null?void 0:re.x,(se=A.transformOrigin)==null?void 0:se.y].join(" "),...((oe=A.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(Xh,{scope:r,placedSide:$,onArrowChange:S,arrowX:Y,arrowY:ee,shouldHideArrow:ge,children:n.jsx(G.div,{"data-side":$,"data-align":me,...m,ref:w,style:{...m.style,animation:F?void 0:"none"}})})})});Ui.displayName=cs;var Wi="PopperArrow",Zh={top:"bottom",right:"left",bottom:"top",left:"right"},Ki=c.forwardRef(function(t,r){const{__scopePopper:o,...s}=t,a=Jh(Wi,o),l=Zh[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx(Vh,{...s,ref:r,style:{...s.style,display:"block"}})})});Ki.displayName=Wi;function em(e){return e!==null}var tm=e=>({name:"transformOrigin",options:e,fn(t){var x,b,y;const{placement:r,rects:o,middlewareData:s}=t,l=((x=s.arrow)==null?void 0:x.centerOffset)!==0,i=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,p]=qi(r),h={start:"0%",center:"50%",end:"100%"}[p],f=(((b=s.arrow)==null?void 0:b.x)??0)+i/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+d/2;let v="",m="";return u==="bottom"?(v=l?h:`${f}px`,m=`${-d}px`):u==="top"?(v=l?h:`${f}px`,m=`${o.floating.height+d}px`):u==="right"?(v=`${-d}px`,m=l?h:`${g}px`):u==="left"&&(v=`${o.floating.width+d}px`,m=l?h:`${g}px`),{data:{x:v,y:m}}}});function qi(e){const[t,r="center"]=e.split("-");return[t,r]}var rm=$i,Vi=zi,Gi=Ui,Yi=Ki,[Oo,Jx]=kr("Tooltip",[Mo]),ds=Mo(),Qi="TooltipProvider",om=700,Zs="tooltip.open",[nm,Xi]=Oo(Qi),Ji=e=>{const{__scopeTooltip:t,delayDuration:r=om,skipDelayDuration:o=300,disableHoverableContent:s=!1,children:a}=e,[l,i]=c.useState(!0),d=c.useRef(!1),u=c.useRef(0);return c.useEffect(()=>{const p=u.current;return()=>window.clearTimeout(p)},[]),n.jsx(nm,{scope:t,isOpenDelayed:l,delayDuration:r,onOpen:c.useCallback(()=>{window.clearTimeout(u.current),i(!1)},[]),onClose:c.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>i(!0),o)},[o]),isPointerInTransitRef:d,onPointerInTransitChange:c.useCallback(p=>{d.current=p},[]),disableHoverableContent:s,children:a})};Ji.displayName=Qi;var Zi="Tooltip",[Zx,Io]=Oo(Zi),jn="TooltipTrigger",sm=c.forwardRef((e,t)=>{const{__scopeTooltip:r,...o}=e,s=Io(jn,r),a=Xi(jn,r),l=ds(r),i=c.useRef(null),d=ue(t,i,s.onTriggerChange),u=c.useRef(!1),p=c.useRef(!1),h=c.useCallback(()=>u.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Vi,{asChild:!0,...l,children:n.jsx(G.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...o,ref:d,onPointerMove:U(e.onPointerMove,f=>{f.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:U(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:U(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:U(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:U(e.onBlur,s.onClose),onClick:U(e.onClick,s.onClose)})})});sm.displayName=jn;var am="TooltipPortal",[ev,im]=Oo(am,{forceMount:void 0}),Nr="TooltipContent",el=c.forwardRef((e,t)=>{const r=im(Nr,e.__scopeTooltip),{forceMount:o=r.forceMount,side:s="top",...a}=e,l=Io(Nr,e.__scopeTooltip);return n.jsx(qr,{present:o||l.open,children:l.disableHoverableContent?n.jsx(tl,{side:s,...a,ref:t}):n.jsx(lm,{side:s,...a,ref:t})})}),lm=c.forwardRef((e,t)=>{const r=Io(Nr,e.__scopeTooltip),o=Xi(Nr,e.__scopeTooltip),s=c.useRef(null),a=ue(t,s),[l,i]=c.useState(null),{trigger:d,onClose:u}=r,p=s.current,{onPointerInTransitChange:h}=o,f=c.useCallback(()=>{i(null),h(!1)},[h]),g=c.useCallback((v,m)=>{const x=v.currentTarget,b={x:v.clientX,y:v.clientY},y=fm(b,x.getBoundingClientRect()),w=hm(b,y),j=mm(m.getBoundingClientRect()),S=gm([...w,...j]);i(S),h(!0)},[h]);return c.useEffect(()=>()=>f(),[f]),c.useEffect(()=>{if(d&&p){const v=x=>g(x,p),m=x=>g(x,d);return d.addEventListener("pointerleave",v),p.addEventListener("pointerleave",m),()=>{d.removeEventListener("pointerleave",v),p.removeEventListener("pointerleave",m)}}},[d,p,g,f]),c.useEffect(()=>{if(l){const v=m=>{const x=m.target,b={x:m.clientX,y:m.clientY},y=(d==null?void 0:d.contains(x))||(p==null?void 0:p.contains(x)),w=!pm(b,l);y?f():w&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,p,l,u,f]),n.jsx(tl,{...e,ref:a})}),[cm,dm]=Oo(Zi,{isInside:!1}),tl=c.forwardRef((e,t)=>{const{__scopeTooltip:r,children:o,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...i}=e,d=Io(Nr,r),u=ds(r),{onClose:p}=d;return c.useEffect(()=>(document.addEventListener(Zs,p),()=>document.removeEventListener(Zs,p)),[p]),c.useEffect(()=>{if(d.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(d.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,p]),n.jsx(ko,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:n.jsxs(Gi,{"data-state":d.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx($a,{children:o}),n.jsx(cm,{scope:r,isInside:!0,children:n.jsx(nu,{id:d.contentId,role:"tooltip",children:s||o})})]})})});el.displayName=Nr;var rl="TooltipArrow",um=c.forwardRef((e,t)=>{const{__scopeTooltip:r,...o}=e,s=ds(r);return dm(rl,r).isInside?null:n.jsx(Yi,{...s,...o,ref:t})});um.displayName=rl;function fm(e,t){const r=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,o,s,a)){case a:return"left";case s:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function hm(e,t,r=5){const o=[];switch(t){case"top":o.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":o.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":o.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":o.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return o}function mm(e){const{top:t,right:r,bottom:o,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:o},{x:s,y:o}]}function pm(e,t){const{x:r,y:o}=e;let s=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const i=t[a].x,d=t[a].y,u=t[l].x,p=t[l].y;d>o!=p>o&&r<(u-i)*(o-d)/(p-d)+i&&(s=!s)}return s}function gm(e){const t=e.slice();return t.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),xm(t)}function xm(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const s=e[o];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let o=e.length-1;o>=0;o--){const s=e[o];for(;r.length>=2;){const a=r[r.length-1],l=r[r.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var vm=Ji,ol=el;const bm=vm,ym=c.forwardRef(({className:e,sideOffset:t=4,...r},o)=>n.jsx(ol,{ref:o,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));ym.displayName=ol.displayName;var Yr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ut=typeof window>"u"||"Deno"in globalThis;function ze(){}function wm(e,t){return typeof e=="function"?e(t):e}function Sn(e){return typeof e=="number"&&e>=0&&e!==1/0}function nl(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rr(e,t){return typeof e=="function"?e(t):e}function Ye(e,t){return typeof e=="function"?e(t):e}function ea(e,t){const{type:r="all",exact:o,fetchStatus:s,predicate:a,queryKey:l,stale:i}=e;if(l){if(o){if(t.queryHash!==us(l,t.options))return!1}else if(!Hr(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||s&&s!==t.state.fetchStatus||a&&!a(t))}function ta(e,t){const{exact:r,status:o,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if($r(t.options.mutationKey)!==$r(a))return!1}else if(!Hr(t.options.mutationKey,a))return!1}return!(o&&t.state.status!==o||s&&!s(t))}function us(e,t){return((t==null?void 0:t.queryKeyHashFn)||$r)(e)}function $r(e){return JSON.stringify(e,(t,r)=>Cn(r)?Object.keys(r).sort().reduce((o,s)=>(o[s]=r[s],o),{}):r)}function Hr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Hr(e[r],t[r])):!1}function sl(e,t){if(e===t)return e;const r=ra(e)&&ra(t);if(r||Cn(e)&&Cn(t)){const o=r?e:Object.keys(e),s=o.length,a=r?t:Object.keys(t),l=a.length,i=r?[]:{};let d=0;for(let u=0;u<l;u++){const p=r?u:a[u];(!r&&o.includes(p)||r)&&e[p]===void 0&&t[p]===void 0?(i[p]=void 0,d++):(i[p]=sl(e[p],t[p]),i[p]===e[p]&&e[p]!==void 0&&d++)}return s===l&&d===s?e:i}return t}function kn(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ra(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cn(e){if(!oa(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!oa(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oa(e){return Object.prototype.toString.call(e)==="[object Object]"}function Nm(e){return new Promise(t=>{setTimeout(t,e)})}function En(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?sl(e,t):t}function jm(e,t,r=0){const o=[...e,t];return r&&o.length>r?o.slice(1):o}function Sm(e,t,r=0){const o=[t,...e];return r&&o.length>r?o.slice(0,-1):o}var fs=Symbol();function al(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fs?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var _t,vt,nr,ja,km=(ja=class extends Yr{constructor(){super();W(this,_t);W(this,vt);W(this,nr);L(this,nr,t=>{if(!Ut&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,vt)||this.setEventListener(N(this,nr))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,vt))==null||t.call(this),L(this,vt,void 0))}setEventListener(t){var r;L(this,nr,t),(r=N(this,vt))==null||r.call(this),L(this,vt,t(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(t){N(this,_t)!==t&&(L(this,_t,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,_t)=="boolean"?N(this,_t):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_t=new WeakMap,vt=new WeakMap,nr=new WeakMap,ja),hs=new km,sr,bt,ar,Sa,Cm=(Sa=class extends Yr{constructor(){super();W(this,sr,!0);W(this,bt);W(this,ar);L(this,ar,t=>{if(!Ut&&window.addEventListener){const r=()=>t(!0),o=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){N(this,bt)||this.setEventListener(N(this,ar))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,bt))==null||t.call(this),L(this,bt,void 0))}setEventListener(t){var r;L(this,ar,t),(r=N(this,bt))==null||r.call(this),L(this,bt,t(this.setOnline.bind(this)))}setOnline(t){N(this,sr)!==t&&(L(this,sr,t),this.listeners.forEach(o=>{o(t)}))}isOnline(){return N(this,sr)}},sr=new WeakMap,bt=new WeakMap,ar=new WeakMap,Sa),wo=new Cm;function Rn(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function o(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{o({status:"fulfilled",value:s}),e(s)},r.reject=s=>{o({status:"rejected",reason:s}),t(s)},r}function Em(e){return Math.min(1e3*2**e,3e4)}function il(e){return(e??"online")==="online"?wo.isOnline():!0}var ll=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Xo(e){return e instanceof ll}function cl(e){let t=!1,r=0,o=!1,s;const a=Rn(),l=m=>{var x;o||(f(new ll(m)),(x=e.abort)==null||x.call(e))},i=()=>{t=!0},d=()=>{t=!1},u=()=>hs.isFocused()&&(e.networkMode==="always"||wo.isOnline())&&e.canRun(),p=()=>il(e.networkMode)&&e.canRun(),h=m=>{var x;o||(o=!0,(x=e.onSuccess)==null||x.call(e,m),s==null||s(),a.resolve(m))},f=m=>{var x;o||(o=!0,(x=e.onError)==null||x.call(e,m),s==null||s(),a.reject(m))},g=()=>new Promise(m=>{var x;s=b=>{(o||u())&&m(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;s=void 0,o||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(o)return;let m;const x=r===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(h).catch(b=>{var E;if(o)return;const y=e.retry??(Ut?0:3),w=e.retryDelay??Em,j=typeof w=="function"?w(r,b):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!S){f(b);return}r++,(E=e.onFail)==null||E.call(e,r,b),Nm(j).then(()=>u()?void 0:g()).then(()=>{t?f(b):v()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:i,continueRetry:d,canStart:p,start:()=>(p()?v():g().then(v),a)}}function Rm(){let e=[],t=0,r=i=>{i()},o=i=>{i()},s=i=>setTimeout(i,0);const a=i=>{t?e.push(i):s(()=>{r(i)})},l=()=>{const i=e;e=[],i.length&&s(()=>{o(()=>{i.forEach(d=>{r(d)})})})};return{batch:i=>{let d;t++;try{d=i()}finally{t--,t||l()}return d},batchCalls:i=>(...d)=>{a(()=>{i(...d)})},schedule:a,setNotifyFunction:i=>{r=i},setBatchNotifyFunction:i=>{o=i},setScheduler:i=>{s=i}}}var je=Rm(),Lt,ka,dl=(ka=class{constructor(){W(this,Lt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sn(this.gcTime)&&L(this,Lt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ut?1/0:5*60*1e3))}clearGcTimeout(){N(this,Lt)&&(clearTimeout(N(this,Lt)),L(this,Lt,void 0))}},Lt=new WeakMap,ka),ir,lr,He,ke,zr,Dt,Ge,lt,Ca,Tm=(Ca=class extends dl{constructor(t){super();W(this,Ge);W(this,ir);W(this,lr);W(this,He);W(this,ke);W(this,zr);W(this,Dt);L(this,Dt,!1),L(this,zr,t.defaultOptions),this.setOptions(t.options),this.observers=[],L(this,He,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,L(this,ir,Pm(this.options)),this.state=t.state??N(this,ir),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,ke))==null?void 0:t.promise}setOptions(t){this.options={...N(this,zr),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,He).remove(this)}setData(t,r){const o=En(this.state.data,t,this.options);return Q(this,Ge,lt).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(t,r){Q(this,Ge,lt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var o,s;const r=(o=N(this,ke))==null?void 0:o.promise;return(s=N(this,ke))==null||s.cancel(t),r?r.then(ze).catch(ze):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,ir))}isActive(){return this.observers.some(t=>Ye(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fs||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!nl(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,ke))==null||r.continue()}onOnline(){var r;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,ke))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,He).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,ke)&&(N(this,Dt)?N(this,ke).cancel({revert:!0}):N(this,ke).cancelRetry()),this.scheduleGc()),N(this,He).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Q(this,Ge,lt).call(this,{type:"invalidate"})}fetch(t,r){var d,u,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,ke))return N(this,ke).continueRetry(),N(this,ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const o=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(L(this,Dt,!0),o.signal)})},a=()=>{const h=al(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),L(this,Dt,!1),this.options.persister?this.options.persister(h,f,this):h(f)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),L(this,lr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Q(this,Ge,lt).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const i=h=>{var f,g,v,m;Xo(h)&&h.silent||Q(this,Ge,lt).call(this,{type:"error",error:h}),Xo(h)||((g=(f=N(this,He).config).onError)==null||g.call(f,h,this),(m=(v=N(this,He).config).onSettled)==null||m.call(v,this.state.data,h,this)),this.scheduleGc()};return L(this,ke,cl({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:o.abort.bind(o),onSuccess:h=>{var f,g,v,m;if(h===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){i(x);return}(g=(f=N(this,He).config).onSuccess)==null||g.call(f,h,this),(m=(v=N(this,He).config).onSettled)==null||m.call(v,h,this.state.error,this),this.scheduleGc()},onError:i,onFail:(h,f)=>{Q(this,Ge,lt).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Q(this,Ge,lt).call(this,{type:"pause"})},onContinue:()=>{Q(this,Ge,lt).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),N(this,ke).start()}},ir=new WeakMap,lr=new WeakMap,He=new WeakMap,ke=new WeakMap,zr=new WeakMap,Dt=new WeakMap,Ge=new WeakSet,lt=function(t){const r=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...ul(o.data,this.options),fetchMeta:t.meta??null};case"success":return{...o,data:t.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Xo(s)&&s.revert&&N(this,lr)?{...N(this,lr),fetchStatus:"idle"}:{...o,error:s,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=r(this.state),je.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),N(this,He).notify({query:this,type:"updated",action:t})})},Ca);function ul(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:il(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Pm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var tt,Ea,Am=(Ea=class extends Yr{constructor(t={}){super();W(this,tt);this.config=t,L(this,tt,new Map)}build(t,r,o){const s=r.queryKey,a=r.queryHash??us(s,r);let l=this.get(a);return l||(l=new Tm({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:o,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){N(this,tt).has(t.queryHash)||(N(this,tt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,tt).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,tt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){je.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,tt).get(t)}getAll(){return[...N(this,tt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(o=>ea(r,o))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(o=>ea(t,o)):r}notify(t){je.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){je.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){je.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tt=new WeakMap,Ea),rt,Re,Bt,ot,pt,Ra,Mm=(Ra=class extends dl{constructor(t){super();W(this,ot);W(this,rt);W(this,Re);W(this,Bt);this.mutationId=t.mutationId,L(this,Re,t.mutationCache),L(this,rt,[]),this.state=t.state||Om(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,rt).includes(t)||(N(this,rt).push(t),this.clearGcTimeout(),N(this,Re).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){L(this,rt,N(this,rt).filter(r=>r!==t)),this.scheduleGc(),N(this,Re).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,rt).length||(this.state.status==="pending"?this.scheduleGc():N(this,Re).remove(this))}continue(){var t;return((t=N(this,Bt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,l,i,d,u,p,h,f,g,v,m,x,b,y,w,j,S,E,C;L(this,Bt,cl({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,k)=>{Q(this,ot,pt).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{Q(this,ot,pt).call(this,{type:"pause"})},onContinue:()=>{Q(this,ot,pt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Re).canRun(this)}));const r=this.state.status==="pending",o=!N(this,Bt).canStart();try{if(!r){Q(this,ot,pt).call(this,{type:"pending",variables:t,isPaused:o}),await((a=(s=N(this,Re).config).onMutate)==null?void 0:a.call(s,t,this));const k=await((i=(l=this.options).onMutate)==null?void 0:i.call(l,t));k!==this.state.context&&Q(this,ot,pt).call(this,{type:"pending",context:k,variables:t,isPaused:o})}const T=await N(this,Bt).start();return await((u=(d=N(this,Re).config).onSuccess)==null?void 0:u.call(d,T,t,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,T,t,this.state.context)),await((g=(f=N(this,Re).config).onSettled)==null?void 0:g.call(f,T,null,this.state.variables,this.state.context,this)),await((m=(v=this.options).onSettled)==null?void 0:m.call(v,T,null,t,this.state.context)),Q(this,ot,pt).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(x=N(this,Re).config).onError)==null?void 0:b.call(x,T,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,T,t,this.state.context)),await((S=(j=N(this,Re).config).onSettled)==null?void 0:S.call(j,void 0,T,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,T,t,this.state.context)),T}finally{Q(this,ot,pt).call(this,{type:"error",error:T})}}finally{N(this,Re).runNext(this)}}},rt=new WeakMap,Re=new WeakMap,Bt=new WeakMap,ot=new WeakSet,pt=function(t){const r=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),je.batch(()=>{N(this,rt).forEach(o=>{o.onMutationUpdate(t)}),N(this,Re).notify({mutation:this,type:"updated",action:t})})},Ra);function Om(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ie,Ur,Ta,Im=(Ta=class extends Yr{constructor(t={}){super();W(this,Ie);W(this,Ur);this.config=t,L(this,Ie,new Map),L(this,Ur,Date.now())}build(t,r,o){const s=new Mm({mutationCache:this,mutationId:++Zr(this,Ur)._,options:t.defaultMutationOptions(r),state:o});return this.add(s),s}add(t){const r=no(t),o=N(this,Ie).get(r)??[];o.push(t),N(this,Ie).set(r,o),this.notify({type:"added",mutation:t})}remove(t){var o;const r=no(t);if(N(this,Ie).has(r)){const s=(o=N(this,Ie).get(r))==null?void 0:o.filter(a=>a!==t);s&&(s.length===0?N(this,Ie).delete(r):N(this,Ie).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var o;const r=(o=N(this,Ie).get(no(t)))==null?void 0:o.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var o;const r=(o=N(this,Ie).get(no(t)))==null?void 0:o.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){je.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...N(this,Ie).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(o=>ta(r,o))}findAll(t={}){return this.getAll().filter(r=>ta(t,r))}notify(t){je.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return je.batch(()=>Promise.all(t.map(r=>r.continue().catch(ze))))}},Ie=new WeakMap,Ur=new WeakMap,Ta);function no(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function na(e){return{onFetch:(t,r)=>{var p,h,f,g,v;const o=t.options,s=(f=(h=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],l=((v=t.state.data)==null?void 0:v.pageParams)||[];let i={pages:[],pageParams:[]},d=0;const u=async()=>{let m=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=al(t.options,t.fetchOptions),y=async(w,j,S)=>{if(m)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};x(E);const C=await b(E),{maxPages:T}=t.options,k=S?Sm:jm;return{pages:k(w.pages,C,T),pageParams:k(w.pageParams,j,T)}};if(s&&a.length){const w=s==="backward",j=w?_m:sa,S={pages:a,pageParams:l},E=j(o,S);i=await y(S,E,w)}else{const w=e??a.length;do{const j=d===0?l[0]??o.initialPageParam:sa(o,i);if(d>0&&j==null)break;i=await y(i,j),d++}while(d<w)}return i};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function sa(e,{pages:t,pageParams:r}){const o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,r[o],r):void 0}function _m(e,{pages:t,pageParams:r}){var o;return t.length>0?(o=e.getPreviousPageParam)==null?void 0:o.call(e,t[0],t,r[0],r):void 0}var ve,yt,wt,cr,dr,Nt,ur,fr,Pa,Lm=(Pa=class{constructor(e={}){W(this,ve);W(this,yt);W(this,wt);W(this,cr);W(this,dr);W(this,Nt);W(this,ur);W(this,fr);L(this,ve,e.queryCache||new Am),L(this,yt,e.mutationCache||new Im),L(this,wt,e.defaultOptions||{}),L(this,cr,new Map),L(this,dr,new Map),L(this,Nt,0)}mount(){Zr(this,Nt)._++,N(this,Nt)===1&&(L(this,ur,hs.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,ve).onFocus())})),L(this,fr,wo.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,ve).onOnline())})))}unmount(){var e,t;Zr(this,Nt)._--,N(this,Nt)===0&&((e=N(this,ur))==null||e.call(this),L(this,ur,void 0),(t=N(this,fr))==null||t.call(this),L(this,fr,void 0))}isFetching(e){return N(this,ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,yt).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,ve).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),o=N(this,ve).build(this,r);return e.revalidateIfStale&&o.isStaleByTime(rr(r.staleTime,o))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return N(this,ve).findAll(e).map(({queryKey:t,state:r})=>{const o=r.data;return[t,o]})}setQueryData(e,t,r){const o=this.defaultQueryOptions({queryKey:e}),s=N(this,ve).get(o.queryHash),a=s==null?void 0:s.state.data,l=wm(t,a);if(l!==void 0)return N(this,ve).build(this,o).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return je.batch(()=>N(this,ve).findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,ve).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,ve);je.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,ve),o={type:"active",...e};return je.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(o,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},o=je.batch(()=>N(this,ve).findAll(e).map(s=>s.cancel(r)));return Promise.all(o).then(ze).catch(ze)}invalidateQueries(e={},t={}){return je.batch(()=>{if(N(this,ve).findAll(e).forEach(o=>{o.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},o=je.batch(()=>N(this,ve).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ze)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(o).then(ze)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,ve).build(this,t);return r.isStaleByTime(rr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ze).catch(ze)}fetchInfiniteQuery(e){return e.behavior=na(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ze).catch(ze)}ensureInfiniteQueryData(e){return e.behavior=na(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wo.isOnline()?N(this,yt).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,ve)}getMutationCache(){return N(this,yt)}getDefaultOptions(){return N(this,wt)}setDefaultOptions(e){L(this,wt,e)}setQueryDefaults(e,t){N(this,cr).set($r(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,cr).values()];let r={};return t.forEach(o=>{Hr(e,o.queryKey)&&(r={...r,...o.defaultOptions})}),r}setMutationDefaults(e,t){N(this,dr).set($r(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,dr).values()];let r={};return t.forEach(o=>{Hr(e,o.mutationKey)&&(r={...r,...o.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,wt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=us(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===fs&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,wt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,ve).clear(),N(this,yt).clear()}},ve=new WeakMap,yt=new WeakMap,wt=new WeakMap,cr=new WeakMap,dr=new WeakMap,Nt=new WeakMap,ur=new WeakMap,fr=new WeakMap,Pa),Ae,X,Wr,Te,Ft,hr,jt,nt,Kr,mr,pr,$t,Ht,St,gr,ae,Or,Tn,Pn,An,Mn,On,In,_n,fl,Aa,Dm=(Aa=class extends Yr{constructor(t,r){super();W(this,ae);W(this,Ae);W(this,X);W(this,Wr);W(this,Te);W(this,Ft);W(this,hr);W(this,jt);W(this,nt);W(this,Kr);W(this,mr);W(this,pr);W(this,$t);W(this,Ht);W(this,St);W(this,gr,new Set);this.options=r,L(this,Ae,t),L(this,nt,null),L(this,jt,Rn()),this.options.experimental_prefetchInRender||N(this,jt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,X).addObserver(this),aa(N(this,X),this.options)?Q(this,ae,Or).call(this):this.updateResult(),Q(this,ae,Mn).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ln(N(this,X),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ln(N(this,X),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Q(this,ae,On).call(this),Q(this,ae,In).call(this),N(this,X).removeObserver(this)}setOptions(t,r){const o=this.options,s=N(this,X);if(this.options=N(this,Ae).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ye(this.options.enabled,N(this,X))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Q(this,ae,_n).call(this),N(this,X).setOptions(this.options),o._defaulted&&!kn(this.options,o)&&N(this,Ae).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,X),observer:this});const a=this.hasListeners();a&&ia(N(this,X),s,this.options,o)&&Q(this,ae,Or).call(this),this.updateResult(r),a&&(N(this,X)!==s||Ye(this.options.enabled,N(this,X))!==Ye(o.enabled,N(this,X))||rr(this.options.staleTime,N(this,X))!==rr(o.staleTime,N(this,X)))&&Q(this,ae,Tn).call(this);const l=Q(this,ae,Pn).call(this);a&&(N(this,X)!==s||Ye(this.options.enabled,N(this,X))!==Ye(o.enabled,N(this,X))||l!==N(this,St))&&Q(this,ae,An).call(this,l)}getOptimisticResult(t){const r=N(this,Ae).getQueryCache().build(N(this,Ae),t),o=this.createResult(r,t);return Fm(this,o)&&(L(this,Te,o),L(this,hr,this.options),L(this,Ft,N(this,X).state)),o}getCurrentResult(){return N(this,Te)}trackResult(t,r){const o={};return Object.keys(t).forEach(s=>{Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),o}trackProp(t){N(this,gr).add(t)}getCurrentQuery(){return N(this,X)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,Ae).defaultQueryOptions(t),o=N(this,Ae).getQueryCache().build(N(this,Ae),r);return o.fetch().then(()=>this.createResult(o,r))}fetch(t){return Q(this,ae,Or).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Te)))}createResult(t,r){var T;const o=N(this,X),s=this.options,a=N(this,Te),l=N(this,Ft),i=N(this,hr),u=t!==o?t.state:N(this,Wr),{state:p}=t;let h={...p},f=!1,g;if(r._optimisticResults){const k=this.hasListeners(),R=!k&&aa(t,r),_=k&&ia(t,o,r,s);(R||_)&&(h={...h,...ul(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:x}=h;if(r.select&&h.data!==void 0)if(a&&h.data===(l==null?void 0:l.data)&&r.select===N(this,Kr))g=N(this,mr);else try{L(this,Kr,r.select),g=r.select(h.data),g=En(a==null?void 0:a.data,g,r),L(this,mr,g),L(this,nt,null)}catch(k){L(this,nt,k)}else g=h.data;if(r.placeholderData!==void 0&&g===void 0&&x==="pending"){let k;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(i==null?void 0:i.placeholderData))k=a.data;else if(k=typeof r.placeholderData=="function"?r.placeholderData((T=N(this,pr))==null?void 0:T.state.data,N(this,pr)):r.placeholderData,r.select&&k!==void 0)try{k=r.select(k),L(this,nt,null)}catch(R){L(this,nt,R)}k!==void 0&&(x="success",g=En(a==null?void 0:a.data,k,r),f=!0)}N(this,nt)&&(v=N(this,nt),g=N(this,mr),m=Date.now(),x="error");const b=h.fetchStatus==="fetching",y=x==="pending",w=x==="error",j=y&&b,S=g!==void 0,C={status:x,fetchStatus:h.fetchStatus,isPending:y,isSuccess:x==="success",isError:w,isInitialLoading:j,isLoading:j,data:g,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:w&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&S,isStale:ms(t,r),refetch:this.refetch,promise:N(this,jt)};if(this.options.experimental_prefetchInRender){const k=M=>{C.status==="error"?M.reject(C.error):C.data!==void 0&&M.resolve(C.data)},R=()=>{const M=L(this,jt,C.promise=Rn());k(M)},_=N(this,jt);switch(_.status){case"pending":t.queryHash===o.queryHash&&k(_);break;case"fulfilled":(C.status==="error"||C.data!==_.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==_.reason)&&R();break}}return C}updateResult(t){const r=N(this,Te),o=this.createResult(N(this,X),this.options);if(L(this,Ft,N(this,X).state),L(this,hr,this.options),N(this,Ft).data!==void 0&&L(this,pr,N(this,X)),kn(o,r))return;L(this,Te,o);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:l}=this.options,i=typeof l=="function"?l():l;if(i==="all"||!i&&!N(this,gr).size)return!0;const d=new Set(i??N(this,gr));return this.options.throwOnError&&d.add("error"),Object.keys(N(this,Te)).some(u=>{const p=u;return N(this,Te)[p]!==r[p]&&d.has(p)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Q(this,ae,fl).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Q(this,ae,Mn).call(this)}},Ae=new WeakMap,X=new WeakMap,Wr=new WeakMap,Te=new WeakMap,Ft=new WeakMap,hr=new WeakMap,jt=new WeakMap,nt=new WeakMap,Kr=new WeakMap,mr=new WeakMap,pr=new WeakMap,$t=new WeakMap,Ht=new WeakMap,St=new WeakMap,gr=new WeakMap,ae=new WeakSet,Or=function(t){Q(this,ae,_n).call(this);let r=N(this,X).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ze)),r},Tn=function(){Q(this,ae,On).call(this);const t=rr(this.options.staleTime,N(this,X));if(Ut||N(this,Te).isStale||!Sn(t))return;const o=nl(N(this,Te).dataUpdatedAt,t)+1;L(this,$t,setTimeout(()=>{N(this,Te).isStale||this.updateResult()},o))},Pn=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,X)):this.options.refetchInterval)??!1},An=function(t){Q(this,ae,In).call(this),L(this,St,t),!(Ut||Ye(this.options.enabled,N(this,X))===!1||!Sn(N(this,St))||N(this,St)===0)&&L(this,Ht,setInterval(()=>{(this.options.refetchIntervalInBackground||hs.isFocused())&&Q(this,ae,Or).call(this)},N(this,St)))},Mn=function(){Q(this,ae,Tn).call(this),Q(this,ae,An).call(this,Q(this,ae,Pn).call(this))},On=function(){N(this,$t)&&(clearTimeout(N(this,$t)),L(this,$t,void 0))},In=function(){N(this,Ht)&&(clearInterval(N(this,Ht)),L(this,Ht,void 0))},_n=function(){const t=N(this,Ae).getQueryCache().build(N(this,Ae),this.options);if(t===N(this,X))return;const r=N(this,X);L(this,X,t),L(this,Wr,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},fl=function(t){je.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,Te))}),N(this,Ae).getQueryCache().notify({query:N(this,X),type:"observerResultsUpdated"})})},Aa);function Bm(e,t){return Ye(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function aa(e,t){return Bm(e,t)||e.state.data!==void 0&&Ln(e,t,t.refetchOnMount)}function Ln(e,t,r){if(Ye(t.enabled,e)!==!1){const o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&ms(e,t)}return!1}function ia(e,t,r,o){return(e!==t||Ye(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ms(e,r)}function ms(e,t){return Ye(t.enabled,e)!==!1&&e.isStaleByTime(rr(t.staleTime,e))}function Fm(e,t){return!kn(e.getCurrentResult(),t)}var hl=c.createContext(void 0),ps=e=>{const t=c.useContext(hl);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$m=({client:e,children:t})=>(c.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(hl.Provider,{value:e,children:t})),ml=c.createContext(!1),Hm=()=>c.useContext(ml);ml.Provider;function zm(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Um=c.createContext(zm()),Wm=()=>c.useContext(Um);function Km(e,t){return typeof e=="function"?e(...t):!!e}function qm(){}var Vm=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Gm=e=>{c.useEffect(()=>{e.clearReset()},[e])},Ym=({result:e,errorResetBoundary:t,throwOnError:r,query:o})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&Km(r,[e.error,o]),Qm=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Xm=(e,t)=>e.isLoading&&e.isFetching&&!t,Jm=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,la=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Zm(e,t,r){var p,h,f,g,v;const o=ps(),s=Hm(),a=Wm(),l=o.defaultQueryOptions(e);(h=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||h.call(p,l),l._optimisticResults=s?"isRestoring":"optimistic",Qm(l),Vm(l,a),Gm(a);const i=!o.getQueryCache().get(l.queryHash),[d]=c.useState(()=>new t(o,l)),u=d.getOptimisticResult(l);if(c.useSyncExternalStore(c.useCallback(m=>{const x=s?()=>{}:d.subscribe(je.batchCalls(m));return d.updateResult(),x},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),c.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),Jm(l,u))throw la(l,d,a);if(Ym({result:u,errorResetBoundary:a,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash)}))throw u.error;if((g=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,l,u),l.experimental_prefetchInRender&&!Ut&&Xm(u,s)){const m=i?la(l,d,a):(v=o.getQueryCache().get(l.queryHash))==null?void 0:v.promise;m==null||m.catch(qm).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?u:d.trackResult(u)}function Wt(e,t){return Zm(e,Dm)}const ep={apiKey:"AIzaSyAizi-kY4VH5VfqbYyrg9FwLt5TGbrX_RI",authDomain:"books-794a8.firebaseapp.com",projectId:"books-794a8",storageBucket:"books-794a8.appspot.com",messagingSenderId:"28303860806",appId:"1:28303860806:web:df2ddcd86f08c7a4145647",measurementId:"G-LBNGSGFXGR"},gs=ld(ep),V=cd(gs),qe=dd(gs);ud(gs);fd(qe,hd).catch(e=>{console.error("Error setting auth persistence:",e)});const de={BOOKS:"books",WANTED_BOOKS:"wanted_books",CHATS:"chats",MESSAGES:"messages",PROFILES:"profiles"},tp=async e=>{var t;try{const r=qe.currentUser;if(!r)throw new Error("User not authenticated");const o={...e,owner:{id:r.uid,name:r.displayName||"Anonymous",neighborhood:((t=r.profile)==null?void 0:t.defaultNeighborhood)||e.neighborhood||"Unknown"},book_type:"have",created_at:Se(),updated_at:Se()};return{id:(await Sr(we(V,de.BOOKS),o)).id,...o}}catch(r){throw console.error("Error adding book:",r),r}},rp=async e=>{try{const t=qe.currentUser;if(!t)throw new Error("User not authenticated");const r={...e,user_id:t.uid,book_type:"want",created_at:Se(),updated_at:Se()};return{id:(await Sr(we(V,de.WANTED_BOOKS),r)).id,...r}}catch(t){throw console.error("Error adding wanted book:",t),t}},op=async e=>{try{const t=ye(V,de.BOOKS,e);return await Ia(t),{success:!0}}catch(t){throw console.error("Error deleting book:",t),t}},np=async e=>{try{const t=ye(V,de.WANTED_BOOKS,e);return await Ia(t),{success:!0}}catch(t){throw console.error("Error deleting wanted book:",t),t}},pl=async e=>{try{const t=we(V,de.BOOKS),r=Ue(t,We("owner.id","==",e));return(await Ke(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error getting books by user:",t),t}},gl=async e=>{try{const t=we(V,de.WANTED_BOOKS),r=Ue(t,We("user_id","==",e));return(await Ke(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error getting wanted books by user:",t),t}},sp=async(e,t)=>{try{return(await md(qe,e,t)).user}catch(r){throw console.error("Error signing in:",r),r}},ap=async(e,t,r)=>{try{const o=await pd(qe,e,t);return r&&o.user,o.user}catch(o){throw console.error("Error signing up:",o),o}},ip=async()=>{try{const e=new gd;return(await xd(qe,e)).user}catch(e){throw console.error("Error signing in with Google:",e),e}},xl=async()=>{try{return await vd(qe),{success:!0}}catch(e){throw console.error("Error signing out:",e),e}},lp=e=>Oa(qe,e),Jo=()=>qe.currentUser,cp=async e=>{try{const t=we(V,de.CHATS),r=Ue(t,We("participants","array-contains",e),qn("updated_at","desc"));return(await Ke(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error getting chats:",t),t}},dp=async(e,t,r)=>{try{const o=qe.currentUser;if(!o)throw new Error("User not authenticated");const s={chat_id:e,content:t,sender_id:r||o.uid,sender_name:o.displayName||"Anonymous",created_at:Se()},a=await Sr(we(V,de.MESSAGES),s),l=ye(V,de.CHATS,e);return await dn(l,{updated_at:Se(),last_message:t}),{id:a.id,...s}}catch(o){throw console.error("Error sending message:",o),o}},vl=c.createContext({user:null});function up({children:e}){const[t,r]=c.useState(null);return c.useEffect(()=>{const o=lp(s=>{r(s)});return()=>o()},[]),n.jsx(vl.Provider,{value:{user:t},children:e})}const Tr=()=>c.useContext(vl),fp=Jn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=c.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,...s},a)=>{const l=o?xr:"button";return n.jsx(l,{className:J(fp({variant:t,size:r,className:e})),ref:a,...s})});Z.displayName="Button";function hp(){const{user:e}=Tr(),t=qt(),r=async()=>{try{await xl(),t("/")}catch{ce.error("Error signing out")}};return n.jsx("header",{className:"bg-white border-b border-border sticky top-0 z-50",children:n.jsxs("div",{className:"container max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(gn,{className:"h-6 w-6 text-bookswap-darkblue"}),n.jsx(te,{to:"/",className:"font-playfair font-bold text-xl md:text-2xl text-bookswap-darkblue",children:"English Book Swap Jerusalem"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx(Z,{variant:"ghost",size:"icon",asChild:!0,children:n.jsx(te,{to:"/profile",children:n.jsx(Zn,{className:"h-4 w-4"})})}),n.jsx(Z,{variant:"ghost",size:"icon",onClick:r,children:n.jsx(gi,{className:"h-4 w-4"})})]}):n.jsx(Z,{variant:"default",asChild:!0,children:n.jsx(te,{to:"/auth",children:"Sign In"})})})]})})}function mp(){return n.jsxs("div",{className:"bg-muted rounded-md p-4 flex items-start space-x-3",children:[n.jsx(Ru,{className:"h-5 w-5 text-bookswap-darkblue shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{className:"font-medium mb-1",children:"Safety First"}),n.jsx("p",{children:"Book Swap Jerusalem is a goodwill-based platform. When meeting to exchange books, please take common safety precautions: meet in public places during daylight hours, tell someone where you're going, and trust your instincts. We recommend initial meetings at cafés, libraries, or other public venues."})]})]})}function pp(){return n.jsx("footer",{className:"bg-white border-t border-border mt-auto",children:n.jsxs("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:[n.jsx(mp,{}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-8 pt-6 border-t border-border",children:[n.jsx("div",{className:"mb-4 md:mb-0",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," English Book Swap Jerusalem"]})}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx(te,{to:"/about",className:"text-sm text-muted-foreground hover:underline",children:"About"}),n.jsx(te,{to:"/faq",className:"text-sm text-muted-foreground hover:underline",children:"FAQ"}),n.jsx(te,{to:"/contact",className:"text-sm text-muted-foreground hover:underline",children:"Contact"}),n.jsx(te,{to:"/terms",className:"text-sm text-muted-foreground hover:underline",children:"Terms"}),n.jsx(te,{to:"/privacy",className:"text-sm text-muted-foreground hover:underline",children:"Privacy"})]})]})]})})}function gp(){const e=jo(),{user:t}=Tr(),r=qt(),o=async()=>{try{await xl(),r("/"),ce.success("Logged out successfully")}catch{ce.error("Error signing out")}},s=a=>e.pathname===a;return t?n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-border z-50",children:n.jsxs("div",{className:"flex justify-around items-center h-16 px-2",children:[n.jsxs(te,{to:"/",className:J("flex flex-col items-center justify-center w-full h-full text-xs",s("/")?"text-primary":"text-muted-foreground"),children:[n.jsx(Au,{className:"h-5 w-5 mb-1"}),n.jsx("span",{children:"Home"})]}),n.jsxs(te,{to:"/books",className:J("flex flex-col items-center justify-center w-full h-full text-xs",s("/books")?"text-primary":"text-muted-foreground"),children:[n.jsx(Dr,{className:"h-5 w-5 mb-1"}),n.jsx("span",{children:"Browse"})]}),n.jsxs(te,{to:"/my-books",className:J("flex flex-col items-center justify-center w-full h-full text-xs",s("/my-books")?"text-primary":"text-muted-foreground"),children:[n.jsx(Cu,{className:"h-5 w-5 mb-1"}),n.jsx("span",{children:"My Books"})]}),n.jsxs(te,{to:"/matches",className:J("flex flex-col items-center justify-center w-full h-full text-xs",s("/matches")?"text-primary":"text-muted-foreground"),children:[n.jsx(vi,{className:"h-5 w-5 mb-1"}),n.jsx("span",{children:"Matches"})]}),n.jsxs(te,{to:"/chat",className:J("flex flex-col items-center justify-center w-full h-full text-xs",s("/chat")?"text-primary":"text-muted-foreground"),children:[n.jsx(xi,{className:"h-5 w-5 mb-1"}),n.jsx("span",{children:"Messages"})]}),n.jsxs(te,{to:"/profile",className:J("flex flex-col items-center justify-center w-full h-full text-xs",s("/profile")?"text-primary":"text-muted-foreground"),children:[n.jsx(Zn,{className:"h-5 w-5 mb-1"}),n.jsx("span",{children:"Profile"})]}),n.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center w-full h-full text-xs text-muted-foreground",children:[n.jsx(gi,{className:"h-5 w-5 mb-1"}),n.jsx("span",{children:"Logout"})]})]})}):null}const Zo=768;function xp(){const[e,t]=c.useState(void 0);return c.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Zo-1}px)`),o=()=>{t(window.innerWidth<Zo)};return r.addEventListener("change",o),t(window.innerWidth<Zo),()=>r.removeEventListener("change",o)},[]),!!e}function be({children:e,hideHeader:t}){xp();const o=jo().pathname==="/my-books",s=t||o;return n.jsxs("div",{className:"flex flex-col min-h-screen",children:[!s&&n.jsx(hp,{}),n.jsx("main",{className:"flex-grow pb-16",children:e}),n.jsx(pp,{}),n.jsx(gp,{})]})}const bl="AIzaSyDSGm97K_kt3evfXe3klrPtNF1Q4vrW_2Y",yl="https://www.googleapis.com/books/v1",vp=async e=>{try{const t=await fetch(`${yl}/volumes?q=${encodeURIComponent(e)}&key=${bl}&maxResults=10`);if(!t.ok)throw new Error("Failed to fetch books");const r=await t.json();return console.log("API Response:",r),r.items||[]}catch(t){throw console.error("Error searching books:",t),t}},bp=async e=>{try{const t=await fetch(`${yl}/volumes/${e}?key=${bl}`);if(!t.ok)throw new Error("Failed to fetch book details");return await t.json()}catch(t){throw console.error("Error fetching book details:",t),t}},xs=c.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));xs.displayName="Card";const yp=c.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));yp.displayName="CardHeader";const wp=c.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));wp.displayName="CardTitle";const Np=c.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Np.displayName="CardDescription";const vs=c.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));vs.displayName="CardContent";const wl=c.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));wl.displayName="CardFooter";const jp={new_match:{subject:e=>`📚 Great news! Someone wants your book "${e.bookTitle}"`,html:e=>`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px 10px 0 0; text-align: center;">
          <h1 style="margin: 0; font-size: 28px;">📚 Book Match Found!</h1>
        </div>
        <div style="background: #f8f9fa; padding: 30px; border-radius: 0 0 10px 10px;">
          <p style="font-size: 18px; color: #333; margin-bottom: 20px;">
            Hello ${e.ownerName},
          </p>
          <p style="font-size: 16px; color: #555; line-height: 1.6;">
            Exciting news! <strong>${e.requesterName}</strong> is interested in your book:
          </p>
          <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #667eea;">
            <h3 style="margin: 0 0 10px 0; color: #333;">"${e.bookTitle}"</h3>
            <p style="margin: 0; color: #666;">by ${e.bookAuthor}</p>
          </div>
          ${e.message?`
            <p style="font-size: 16px; color: #555;">
              <strong>Message from ${e.requesterName}:</strong>
            </p>
            <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 15px 0; font-style: italic;">
              "${e.message}"
            </div>
          `:""}
          <div style="text-align: center; margin: 30px 0;">
            <a href="${e.chatUrl}" style="background: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 25px; font-weight: bold; display: inline-block;">
              Start Conversation
            </a>
          </div>
          <p style="font-size: 14px; color: #888; text-align: center;">
            Happy reading! 📖<br>
            The English Book Swap Team
          </p>
        </div>
      </div>
    `},book_availability:{subject:e=>`📚 Your wanted book "${e.bookTitle}" is now available!`,html:e=>`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
        <div style="background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%); color: white; padding: 30px; border-radius: 10px 10px 0 0; text-align: center;">
          <h1 style="margin: 0; font-size: 28px;">🎉 Book Available!</h1>
        </div>
        <div style="background: #f8f9fa; padding: 30px; border-radius: 0 0 10px 10px;">
          <p style="font-size: 18px; color: #333; margin-bottom: 20px;">
            Hello ${e.seekerName},
          </p>
          <p style="font-size: 16px; color: #555; line-height: 1.6;">
            Great news! A book from your wishlist is now available:
          </p>
          <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #4CAF50;">
            <h3 style="margin: 0 0 10px 0; color: #333;">"${e.bookTitle}"</h3>
            <p style="margin: 0; color: #666;">by ${e.bookAuthor}</p>
            <p style="margin: 10px 0 0 0; color: #666;">Available from: <strong>${e.ownerName}</strong></p>
            <p style="margin: 5px 0 0 0; color: #666;">Condition: <strong>${e.condition}</strong></p>
            <p style="margin: 5px 0 0 0; color: #666;">Neighborhood: <strong>${e.neighborhood}</strong></p>
          </div>
          <div style="text-align: center; margin: 30px 0;">
            <a href="${e.bookUrl}" style="background: #4CAF50; color: white; padding: 15px 30px; text-decoration: none; border-radius: 25px; font-weight: bold; display: inline-block;">
              Request This Book
            </a>
          </div>
          <p style="font-size: 14px; color: #888; text-align: center;">
            Don't wait too long - popular books go fast! 📚<br>
            The English Book Swap Team
          </p>
        </div>
      </div>
    `},new_message:{subject:e=>`💬 New message from ${e.senderName}`,html:e=>`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
        <div style="background: linear-gradient(135deg, #FF6B6B 0%, #ee5a52 100%); color: white; padding: 30px; border-radius: 10px 10px 0 0; text-align: center;">
          <h1 style="margin: 0; font-size: 28px;">💬 New Message</h1>
        </div>
        <div style="background: #f8f9fa; padding: 30px; border-radius: 0 0 10px 10px;">
          <p style="font-size: 18px; color: #333; margin-bottom: 20px;">
            Hello ${e.recipientName},
          </p>
          <p style="font-size: 16px; color: #555; line-height: 1.6;">
            You have a new message from <strong>${e.senderName}</strong>:
          </p>
          <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #FF6B6B;">
            <p style="margin: 0; color: #333; font-size: 16px; line-height: 1.5;">
              "${e.messageContent}"
            </p>
          </div>
          ${e.bookTitle?`
            <p style="font-size: 14px; color: #666; margin: 15px 0;">
              <strong>About:</strong> "${e.bookTitle}"
            </p>
          `:""}
          <div style="text-align: center; margin: 30px 0;">
            <a href="${e.chatUrl}" style="background: #FF6B6B; color: white; padding: 15px 30px; text-decoration: none; border-radius: 25px; font-weight: bold; display: inline-block;">
              Reply Now
            </a>
          </div>
          <p style="font-size: 14px; color: #888; text-align: center;">
            Keep the conversation going! 💬<br>
            The English Book Swap Team
          </p>
        </div>
      </div>
    `}},Sp=async e=>{console.log("=== getUserEmail called with userId:",e);try{const t=qe.currentUser;if(t&&t.uid===e)return console.log("Found current user email:",t.email),t.email;console.log("Checking profiles collection for user:",e);const r=await Fe(ye(V,"profiles",e));if(console.log("Profile document exists:",r.exists()),r.exists()){const o=r.data();console.log("Profile data:",o);const s=o.email||o.auth_email||o.user_email||null;if(console.log("Extracted email from profile:",s),s)return s}return console.log("No email found for userId:",e,"- Firebase Auth security limitation"),null}catch(t){return console.error("Error getting user email:",t),null}},kp=async e=>{try{const t=Ue(we(V,"notification_preferences"),We("user_id","==",e)),r=await Ke(t);if(!r.empty){const o=r.docs[0];return{id:o.id,...o.data()}}return{user_id:e,email_notifications:{new_matches:!0,book_availability:!0,new_messages:!0},created_at:Se(),updated_at:Se()}}catch(t){return console.error("Error getting notification preferences:",t),null}},Nl=async(e,t,r)=>{console.log("=== queueEmailNotification called ==="),console.log("Recipient user ID:",e),console.log("Template type:",t);try{const o=await Sp(e);if(console.log("User email retrieved:",o),!o)return console.log("No email found for user:",e),null;const s=await kp(e);if(console.log("User preferences:",s),!s)console.log("No preferences found for user, using defaults");else if(!(t==="new_match"&&s.email_notifications.new_matches||t==="book_availability"&&s.email_notifications.book_availability||t==="new_message"&&s.email_notifications.new_messages))return console.log(`User ${e} has disabled ${t} notifications`),null;const a=await Fe(ye(V,"profiles",e)),l=a.exists()&&(a.data().display_name||a.data().username)||"Book Lover",i={...r,recipientName:l};return console.log("Calling sendEmailNotification..."),await Cp(o,t,i)?(console.log("Email notification sent successfully to:",o),"sent"):(console.log("Failed to send email notification"),null)}catch(o){return console.error("Error queueing email notification:",o),null}},Cp=async(e,t,r)=>{console.log("=== sendEmailNotification called ==="),console.log("Recipient:",e),console.log("Template type:",t),console.log("Template data:",r);try{const o=jp[t],s=o.subject(r),a=o.html(r);console.log("Generated subject:",s),console.log("Generated HTML content length:",a.length);const l={to:[e],message:{subject:s,html:a},template:{name:t,data:r},created_at:Se()};console.log("Writing email document to mail collection...");const i=await Sr(we(V,"mail"),l);return console.log("Email document written with ID:",i.id),!0}catch(o){return console.error("Error sending email notification:",o),!1}},Ep=async(e,t,r,o,s,a)=>{try{const[l,i]=await Promise.all([Fe(ye(V,"profiles",e)),Fe(ye(V,"profiles",t))]),d=l.exists()&&(l.data().display_name||l.data().username)||"Book Owner",u=i.exists()&&(i.data().display_name||i.data().username)||"Book Seeker";await Nl(e,"new_match",{ownerName:d,requesterName:u,bookTitle:o,bookAuthor:s,message:a,chatUrl:`${window.location.origin}/chat/${e}-${t}`}),console.log("New match notification sent to book owner")}catch(l){console.error("Error sending new match notification:",l)}},Rp=async(e,t,r,o,s,a)=>{try{const l=Ue(we(V,"wanted_books"),We("title","==",t),We("author","==",r)),i=await Ke(l),d=await Fe(ye(V,"profiles",o)),u=d.exists()&&(d.data().display_name||d.data().username)||"Book Owner";for(const p of i.docs){const f=p.data().user_id;if(f===o)continue;const g=await Fe(ye(V,"profiles",f)),v=g.exists()&&(g.data().display_name||g.data().username)||"Book Seeker";await Nl(f,"book_availability",{seekerName:v,bookTitle:t,bookAuthor:r,ownerName:u,condition:s,neighborhood:a,bookUrl:`${window.location.origin}/browse?book=${e}`})}console.log("Book availability notifications sent")}catch(l){console.error("Error sending book availability notifications:",l)}},Tp=async(e,t,r)=>{try{const o=we(V,"chats"),s=Ue(o,We("participants","array-contains",e)),a=await Ke(s);let l=null;if(a.forEach(p=>{p.data().participants.includes(t)&&(l=p.id)}),l)return l;let i="";if(r){const p=await Fe(ye(V,de.BOOKS,r));p.exists()&&(i=p.data().title)}const d={participants:[e,t],created_at:Se(),updated_at:Se(),book_id:r,book_title:i};return(await Sr(we(V,"chats"),d)).id}catch(o){throw console.error("Error creating or getting chat:",o),o}},jl=()=>{const[e,t]=c.useState(null),[r,o]=c.useState(null),[s,a]=c.useState(!0);return c.useEffect(()=>{const l=Oa(qe,async i=>{if(t(i),i)try{const d=await Fe(ye(V,de.PROFILES,i.uid));d.exists()?o(d.data()):o(null)}catch(d){console.error("Error fetching user profile:",d),o(null)}else o(null);a(!1)});return()=>l()},[]),{user:e,profile:r,loading:s}};function Dn({book:e,onRequestSwap:t,isLoadingSwap:r=!1}){var h;const o=qt(),{user:s}=jl(),[a,l]=c.useState(!1),{data:i}=Wt({queryKey:["book",e.google_books_id],queryFn:()=>e.google_books_id?bp(e.google_books_id):null,enabled:!!e.google_books_id}),d=(h=i==null?void 0:i.volumeInfo.imageLinks)==null?void 0:h.thumbnail,u=async()=>{if(!s){De({title:"Authentication required",description:"Please log in to send a message.",variant:"destructive"});return}if(!e.owner.id){De({title:"Error",description:"Cannot message this book owner.",variant:"destructive"});return}if(s.uid===e.owner.id){De({title:"Cannot message yourself",description:"You cannot send a message to yourself.",variant:"destructive"});return}l(!0);try{const f=await Tp(s.uid,e.owner.id,e.id);o(`/chat/${f}`)}catch(f){console.error("Error creating chat:",f),De({title:"Error",description:"Failed to start conversation. Please try again.",variant:"destructive"})}finally{l(!1)}},p=()=>{e.owner.id&&t(e.id,e.owner.id)};return n.jsxs(xs,{className:"h-full flex flex-col",children:[d?n.jsx("div",{className:"w-full h-48 bg-cover bg-center rounded-t-lg",style:{backgroundImage:`url(${d})`}}):n.jsxs("div",{className:"w-full h-48 p-4 flex flex-col justify-center items-center text-center rounded-t-lg",style:{backgroundColor:e.coverColor},children:[n.jsx("h3",{className:"font-bold text-white",children:e.title}),n.jsx("p",{className:"text-sm text-white/80",children:e.author})]}),n.jsxs(vs,{className:"flex-grow p-4",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:e.title}),n.jsx("p",{className:"text-sm font-medium mb-2",children:e.author}),n.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Condition: ",e.condition]}),n.jsx("p",{className:"text-xs line-clamp-3 mb-3",children:e.description}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Available in: ",e.owner.neighborhood]})]}),n.jsxs(wl,{className:"p-4 pt-0 flex gap-2",children:[n.jsx(Z,{variant:"default",className:"flex-1",onClick:p,disabled:r||!e.owner.id,children:r?n.jsxs(n.Fragment,{children:[n.jsx(go,{className:"mr-2 h-4 w-4 animate-spin"}),"Requesting..."]}):"Request Swap"}),n.jsx(Z,{variant:"outline",className:"flex items-center justify-center",onClick:u,disabled:a||!e.owner.id,title:"Message the book owner",children:a?n.jsx(go,{className:"h-4 w-4 animate-spin"}):n.jsx(Zt,{size:18})})]})]})}const Pp=async(e,t,r,o,s)=>{try{const a=await Fe(ye(V,de.BOOKS,r));if(!a.exists())throw new Error("Book not found");const l=a.data(),i=await Fe(ye(V,de.PROFILES,o));if(!i.exists())throw new Error("Owner not found");const d=i.data(),u={requester_id:e,requester_name:t,book_id:r,book_title:l.title,book_author:l.author,owner_id:o,owner_name:d.display_name||d.username||"Unknown User",status:"pending",created_at:Se(),updated_at:Se(),message:s||""},p=await Sr(we(V,"swap_requests"),u);try{await Ep(o,e,r,l.title,l.author,s)}catch(h){console.error("Failed to send email notification:",h)}return p.id}catch(a){throw console.error("Error creating swap request:",a),a}};function Sl({books:e,emptyMessage:t="No books found"}){const{user:r,profile:o}=jl(),[s,a]=c.useState(new Set),l=async(i,d)=>{if(!r||!o){De({title:"Authentication required",description:"Please log in to request a book swap.",variant:"destructive"});return}if(r.uid===d){De({title:"Cannot request swap",description:"You cannot request a swap for your own book.",variant:"destructive"});return}a(u=>new Set(u).add(i));try{await Pp(r.uid,o.display_name||o.username||"Unknown User",i,d),De({title:"Swap requested",description:"We'll notify you when the owner responds."})}catch(u){console.error("Error requesting swap:",u),De({title:"Error",description:"Failed to send swap request. Please try again.",variant:"destructive"})}finally{a(u=>{const p=new Set(u);return p.delete(i),p})}};return e.length===0?n.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:t})}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:e.map(i=>n.jsx(Dn,{book:i,onRequestSwap:l,isLoadingSwap:s.has(i.id)},i.id))})}function Ap(){return n.jsx("div",{className:"bg-white py-12 md:py-16 border-y border-border",children:n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:"How to Use English Book Swap Jerusalem"}),n.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our platform makes it easy to share and discover English books in Jerusalem. Follow these simple steps to get started."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:n.jsx(Ou,{className:"w-6 h-6 text-bookswap-darkblue"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"1. Create an Account"}),n.jsx("p",{className:"text-muted-foreground mb-3",children:"Sign up using your email or Google account. This allows you to add books, message other users, and keep track of your swaps."}),n.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:n.jsx(te,{to:"/auth",children:"Sign Up Now"})})]})]}),n.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:n.jsx(Dr,{className:"w-6 h-6 text-bookswap-darkblue"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"2. Add Books You Have"}),n.jsx("p",{className:"text-muted-foreground mb-3",children:"List books you're willing to swap. Search by title or author, select the condition, and add your neighborhood for local matching."}),n.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:n.jsx(te,{to:"/add",children:"Add Your Books"})})]})]}),n.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:n.jsx(mi,{className:"w-6 h-6 text-bookswap-darkblue"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"3. Add Books You Want"}),n.jsx("p",{className:"text-muted-foreground mb-3",children:"Create your wishlist by adding books you're looking for. This helps our system find perfect matches with other users."}),n.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:n.jsx(te,{to:"/add?type=want",children:"Add Wanted Books"})})]})]}),n.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:n.jsx(yr,{className:"w-6 h-6 text-bookswap-darkblue"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"4. Browse Available Books"}),n.jsx("p",{className:"text-muted-foreground mb-3",children:"Explore books that other users have added. Filter by neighborhood to find books close to you for easier meetups."}),n.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:n.jsx(te,{to:"/books",children:"Browse Books"})})]})]}),n.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:n.jsx(vi,{className:"w-6 h-6 text-bookswap-darkblue"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"5. Find Your Matches"}),n.jsx("p",{className:"text-muted-foreground mb-3",children:"Our system automatically finds users who have books you want or want books you have. Check your matches regularly for new swap opportunities."}),n.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:n.jsx(te,{to:"/matches",children:"View Matches"})})]})]}),n.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:n.jsx(xi,{className:"w-6 h-6 text-bookswap-darkblue"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"6. Message & Arrange Meetup"}),n.jsx("p",{className:"text-muted-foreground mb-3",children:"Contact your matches through our messaging system. Discuss the books and arrange a convenient time and place to meet."}),n.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:n.jsx(te,{to:"/chat",children:"Messages"})})]})]})]}),n.jsxs("div",{className:"mt-10 p-6 border rounded-lg bg-bookswap-stone/20 text-center",children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Safety Tips for Book Swaps"}),n.jsxs("ul",{className:"text-muted-foreground max-w-2xl mx-auto text-left space-y-2 mb-4",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(Vo,{className:"w-5 h-5 mr-2 mt-0.5 text-bookswap-darkblue"}),n.jsx("span",{children:"Meet in public places like cafés or libraries"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Vo,{className:"w-5 h-5 mr-2 mt-0.5 text-bookswap-darkblue"}),n.jsx("span",{children:"Consider daytime meetups for better visibility"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Vo,{className:"w-5 h-5 mr-2 mt-0.5 text-bookswap-darkblue"}),n.jsx("span",{children:"Let someone know where you're going for your book swap"})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Remember: English Book Swap Jerusalem is based on community trust and goodwill. There are no financial transactions or point systems."})]})]})})}const Mp=()=>{const[e,t]=c.useState(null),{data:r=[],isLoading:o,error:s}=Wt({queryKey:["featuredBooks"],queryFn:async()=>{try{const a=we(V,de.BOOKS),l=Ue(a,qn("created_at","desc"),bd(5)),i=await Ke(l);return i.empty?[]:i.docs.map(d=>{const u=d.data();return{id:d.id,title:u.title,author:u.author,coverColor:u.cover_color||"#436B95",description:u.description||"",condition:u.condition,owner:u.owner}})}catch(a){throw console.error("Error fetching books:",a),a instanceof Error&&(a.message.includes("permission")?t("Unable to access book data. Please try again later."):t("Something went wrong. Please try again later.")),a}},retry:2,retryDelay:1e3});return r.length===0&&!o&&!s?n.jsxs(be,{children:[n.jsx("div",{className:"bg-bookswap-blue py-16 md:py-24",children:n.jsx("div",{className:"page-container",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"Welcome to English Book Swap Jerusalem"}),n.jsx("p",{className:"text-lg md:text-xl mb-8",children:"Be the first to add books to our community! No books have been added yet."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx(Z,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsx(te,{to:"/add",children:"Add Your First Book"})}),n.jsx(Z,{asChild:!0,size:"lg",variant:"outline",children:n.jsx(te,{to:"/auth",children:"Sign In"})})]})]})})}),n.jsx("div",{className:"bg-white py-12 md:py-16 border-y border-border",children:n.jsx("div",{className:"page-container",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:n.jsx(gn,{className:"w-8 h-8 text-bookswap-darkblue"})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"List Your Books"}),n.jsx("p",{className:"text-muted-foreground",children:"Share the books you've enjoyed and are ready to pass on to another reader in Jerusalem."})]}),n.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[n.jsx("path",{d:"M16 3h5v5"}),n.jsx("path",{d:"M8 3H3v5"}),n.jsx("path",{d:"M21 13v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5"}),n.jsx("path",{d:"m21 8-5-5-5 5"}),n.jsx("path",{d:"m3 16 5 5 5-5"})]})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Find Matches"}),n.jsx("p",{className:"text-muted-foreground",children:"Our system matches you with local readers who have books you want or want books you have."})]}),n.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[n.jsx("path",{d:"M17 6.1H3"}),n.jsx("path",{d:"M21 12.1H3"}),n.jsx("path",{d:"M15.1 18H3"})]})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Meet & Swap"}),n.jsx("p",{className:"text-muted-foreground",children:"Arrange to meet at a convenient location in your neighborhood and exchange books."})]})]})})})]}):o?n.jsx(be,{children:n.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue mx-auto mb-4"}),n.jsx("p",{className:"text-lg",children:"Loading featured books..."})]})})}):s?n.jsx(be,{children:n.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-red-50 border border-red-100 rounded-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:e||"Error loading featured books"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"We're having trouble connecting to our database. This could be due to:"}),n.jsxs("ul",{className:"text-left text-gray-600 mb-4 space-y-1",children:[n.jsx("li",{children:"• Temporary connection issues"}),n.jsx("li",{children:"• Database maintenance"}),n.jsx("li",{children:"• Security configuration updates"})]}),n.jsx(Z,{onClick:()=>window.location.reload(),className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:"Try Again"})]})})}):n.jsxs(be,{children:[n.jsx("div",{className:"bg-bookswap-blue py-16 md:py-24",children:n.jsx("div",{className:"page-container",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"Share the Joy of Reading in Jerusalem"}),n.jsx("p",{className:"text-lg md:text-xl mb-8",children:"Connect with fellow book lovers and swap English books locally. No money, no points—just a community sharing stories."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx(Z,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsx(te,{to:"/books",children:"Browse Available Books"})}),n.jsx(Z,{asChild:!0,size:"lg",variant:"outline",children:n.jsx(te,{to:"/add",children:"Share Your Books"})})]})]})})}),n.jsxs("div",{className:"page-container py-12 md:py-16",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Recently Added Books"}),n.jsxs(te,{to:"/books",className:"flex items-center text-bookswap-darkblue hover:underline",children:[n.jsx("span",{children:"View all"}),n.jsx(hi,{className:"ml-1 w-4 h-4"})]})]}),n.jsx(Sl,{books:r})]}),n.jsx(Ap,{}),n.jsx("div",{className:"bg-white py-12 md:py-16 border-y border-border",children:n.jsx("div",{className:"page-container",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:n.jsx(gn,{className:"w-8 h-8 text-bookswap-darkblue"})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"List Your Books"}),n.jsx("p",{className:"text-muted-foreground",children:"Share the books you've enjoyed and are ready to pass on to another reader in Jerusalem."})]}),n.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[n.jsx("path",{d:"M16 3h5v5"}),n.jsx("path",{d:"M8 3H3v5"}),n.jsx("path",{d:"M21 13v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5"}),n.jsx("path",{d:"m21 8-5-5-5 5"}),n.jsx("path",{d:"m3 16 5 5 5-5"})]})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Find Matches"}),n.jsx("p",{className:"text-muted-foreground",children:"Our system matches you with local readers who have books you want or want books you have."})]}),n.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[n.jsx("path",{d:"M17 6.1H3"}),n.jsx("path",{d:"M21 12.1H3"}),n.jsx("path",{d:"M15.1 18H3"})]})}),n.jsx("h3",{className:"text-xl font-bold mb-2",children:"Meet & Swap"}),n.jsx("p",{className:"text-muted-foreground",children:"Arrange to meet at a convenient location in your neighborhood and exchange books."})]})]})})}),n.jsx("div",{className:"page-container py-12 md:py-16",children:n.jsxs("div",{className:"bg-bookswap-stone/20 border border-bookswap-stone/30 rounded-lg p-8 text-center",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Join Our Growing Community"}),n.jsx("p",{className:"text-lg mb-6 max-w-2xl mx-auto",children:"Help us maximize the circulation of English books throughout Jerusalem. Every book deserves new readers, and every reader deserves new books."}),n.jsx(Z,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsx(te,{to:"/books",children:"Start Swapping Now"})})]})})]})},Pt=c.forwardRef(({className:e,type:t,...r},o)=>n.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...r}));Pt.displayName="Input";var Op="Separator",ca="horizontal",Ip=["horizontal","vertical"],kl=c.forwardRef((e,t)=>{const{decorative:r,orientation:o=ca,...s}=e,a=_p(o)?o:ca,i=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(G.div,{"data-orientation":a,...i,...s,ref:t})});kl.displayName=Op;function _p(e){return Ip.includes(e)}var Cl=kl;const El=c.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...o},s)=>n.jsx(Cl,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));El.displayName=Cl.displayName;function Lp(){const e=qt(),[t,r]=c.useState(!1),[o,s]=c.useState(!1),[a,l]=c.useState(!0),[i,d]=c.useState(""),[u,p]=c.useState(""),h=async g=>{g.preventDefault(),r(!0);try{a?(await sp(i,u),e("/")):(await ap(i,u),e("/my-books"),ce.success("Account created successfully!"))}catch(v){ce.error(v.message)}finally{r(!1)}},f=async()=>{s(!0);try{await ip(),e("/")}catch(g){ce.error(g.message)}finally{s(!1)}};return n.jsx(be,{children:n.jsx("div",{className:"flex min-h-[calc(100vh-4rem)] items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold",children:a?"Welcome back":"Create an account"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:a?"Sign in to your account":"Sign up for a new account"})]}),n.jsx(Z,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:f,disabled:o,children:o?"Signing in...":n.jsxs(n.Fragment,{children:[n.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",children:n.jsx("path",{d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1Z",fill:"currentColor"})})}),"Continue with Google"]})}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx(El,{})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Pt,{type:"email",placeholder:"Email",value:i,onChange:g=>d(g.target.value),required:!0}),n.jsx(Pt,{type:"password",placeholder:"Password",value:u,onChange:g=>p(g.target.value),required:!0})]}),n.jsx(Z,{type:"submit",className:"w-full",disabled:t,children:t?"Loading...":a?"Sign In":"Sign Up"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"button",onClick:()=>l(!a),className:"text-sm text-muted-foreground hover:underline",children:a?"Need an account? Sign up":"Already have an account? Sign in"})})]})})})}const Ir=["Abu Tor","American Colony","Armenian Quarter","Arnona","Arzei HaBira","Atarot","Bab az-Zahra","Bab Hutta","Baka","Batei Munkacs","Batei Neitin","Batei Saidoff","Batei Ungarin","Batei Warsaw","Bayit VeGan","Beit David","Beit HaKerem","Beit Hanina","Beit Orot","Beit Safafa","Beit Ya'akov","Beit Yisrael","Bezetha","Bukharan Quarter","Christian Quarter","City of David","East Jerusalem","East Talpiot","Ein Karem","Emek Refaim","Even Yisrael","Ezrat Torah","Ezrat Yisrael","French Hill","German Colony","Geula","Gilo","Givat Beit HaKerem","Givat HaMatos","Givat HaMivtar","Givat Massuah","Givat Mordechai","Givat Moshe","Givat Oranim","Givat Ram","Givat Shaul","Greek Colony","Har Homa","Har Hotzvim","Har Nof","Hutzot HaYotzer","Ir Ganim","Jabel Mukaber","Jerusalem Gateway","Jerusalem Technology Park","Downtown Triangle","Jewish Quarter","Kafr 'Aqab","Katamon","Kerem Avraham","Kirya Ne'emana","Kiryat HaLeom","Kiryat HaMemshala","Kiryat HaYovel","Kiryat Itri","Kiryat Mattersdorf","Kiryat Menachem","Kiryat Menachem Begin","Kiryat Moshe","Kiryat Sanz","Kiryat Shmuel","Kiryat Shomrei Emunim","Kiryat Unsdorf","Kiryat Wolfson","Knesset Yisrael","Lifta","Ma'ale HaZeitim","Ma'alot Dafna","Mahane Israel","Mahane Yehuda","Malha","Mamilla","Mazkeret Moshe","Mea Shearim","Mekor Baruch","Mekor Chaim","Mishkenot Sha'ananim","Motza","Mughrabi Quarter","Muristan","Muslim Quarter","Musrara","Nachlaot","Nahalat Shimon","Nahalat Shiv'a","Nayot","Neve Granot","Neve Sha'anan","Neve Yaakov","Nof Zion","Ohel Shlomo","Old City","Mount of Olives","Pat","Pisgat Ze'ev","Al-Ram","Ramat Beit HaKerem","Ramat Denya","Ramat Eshkol","Ramat Rachel","Ramat Sharett","Ramat Shlomo","Ramot Polin","Ramot","Ras al-Amud","Ras Khamis","Rassco","Rehavia","Romema","Russian Compound","Sanhedria","Sanhedria Murhevet","Sha'arei Hesed","Sha'arei Yerushalayim","Sharafat","Sheikh Badr","Sheikh Jarrah","Shikun Chabad","Shimon HaTzadik","Shmuel HaNavi","Shuafat","Silwan","Sur Baher","Talbiya","Talpiot","Tel Arza","At-Tur","Umm Tuba","Wadi al-Joz","Wadi Hilweh","Al-Walaja","Yefeh Nof","Yemin Moshe","Zikhron Moshe","Zikhron Tuvya","Zikhron Yosef","Mount Zion"];function Dp({selectedNeighborhoods:e,onChange:t}){const[r,o]=c.useState(!1),s=i=>{e.includes(i)?t(e.filter(d=>d!==i)):t([...e,i])},a=()=>{e.length===Ir.length?t([]):t([...Ir])},l=e.length===Ir.length;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>o(!r),className:"flex items-center justify-between w-full px-4 py-2 text-sm border border-border rounded-md bg-white",children:[n.jsx("span",{children:e.length===0?"All Neighborhoods":`${e.length} selected`}),n.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-border rounded-md shadow-lg max-h-60 overflow-y-auto",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer border-b border-border mb-1",onClick:a,children:[n.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:l&&n.jsx(br,{className:"w-3 h-3 text-primary"})}),n.jsx("span",{className:"text-sm font-medium",children:"Select All"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:Ir.map(i=>n.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer",onClick:()=>s(i),children:[n.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:e.includes(i)&&n.jsx(br,{className:"w-3 h-3 text-primary"})}),n.jsx("span",{className:"text-sm",children:i})]},i))})]})})]})}function Bp({selectedGenres:e,onChange:t,availableGenres:r}){const[o,s]=c.useState(!1),[a,l]=c.useState(""),i=c.useRef(null);c.useEffect(()=>{o&&i.current&&i.current.focus()},[o]);const d=f=>{e.includes(f)?t(e.filter(g=>g!==f)):t([...e,f])},u=()=>{e.length===r.length?t([]):t([...r])},p=a.trim()===""?r:r.filter(f=>f.toLowerCase().includes(a.toLowerCase())),h=e.length===r.length;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>s(!o),className:"flex items-center justify-between w-full px-4 py-2 text-sm border border-border rounded-md bg-white",children:[n.jsx("span",{children:e.length===0?"All Genres":`${e.length} selected`}),n.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-border rounded-md shadow-lg max-h-60 overflow-y-auto",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"mb-2 relative",children:[n.jsx(yr,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),n.jsx(Pt,{ref:i,value:a,onChange:f=>l(f.target.value),placeholder:"Search genres...",className:"pl-8 py-1 h-8 text-sm",onClick:f=>f.stopPropagation()}),a&&n.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-muted-foreground",onClick:f=>{var g;f.stopPropagation(),l(""),(g=i.current)==null||g.focus()},children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer border-b border-border mb-1",onClick:u,children:[n.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:h&&n.jsx(br,{className:"w-3 h-3 text-primary"})}),n.jsx("span",{className:"text-sm font-medium",children:"Select All"})]}),p.length===0?n.jsx("div",{className:"py-2 px-2 text-sm text-muted-foreground text-center",children:"No genres match your search"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:p.map(f=>n.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer",onClick:()=>d(f),children:[n.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:e.includes(f)&&n.jsx(br,{className:"w-3 h-3 text-primary"})}),n.jsx("span",{className:"text-sm",children:f})]},f))})]})})]})}const Fp=()=>{const[e,t]=c.useState(""),[r,o]=c.useState([]),[s,a]=c.useState(!1),[l,i]=c.useState([]),[d,u]=c.useState([]),[p,h]=c.useState([]),{data:f=[],isLoading:g,error:v}=Wt({queryKey:["allBooks"],queryFn:async()=>{const y=we(V,de.BOOKS),j=(await Ke(y)).docs.map(E=>{const C=E.data();return{id:E.id,title:C.title,author:C.author,coverColor:C.cover_color,description:C.description||"",condition:C.condition,owner:C.owner,google_books_id:C.google_books_id,genres:C.genres||[]}}),S=new Set;return j.forEach(E=>{E.genres&&E.genres.length>0&&E.genres.forEach(C=>S.add(C))}),h(Array.from(S).sort()),j}}),m=c.useMemo(()=>{let y=f;if(e){const w=e.toLowerCase();y=y.filter(j=>j.title.toLowerCase().includes(w)||j.author.toLowerCase().includes(w)||j.description&&j.description.toLowerCase().includes(w))}return l.length>0&&(y=y.filter(w=>l.includes(w.owner.neighborhood))),d.length>0&&(y=y.filter(w=>w.genres&&w.genres.some(j=>d.includes(j)))),y},[f,e,l,d]);c.useEffect(()=>{if(e.trim().length>1){const y=e.toLowerCase(),w=f.filter(j=>j.title.toLowerCase().includes(y)||j.author.toLowerCase().includes(y)).slice(0,5);o(w),a(w.length>0)}else o([]),a(!1)},[e,f]);const x=y=>{t(y.target.value)},b=y=>{t(y.title),a(!1)};return g?n.jsx(be,{children:n.jsx("div",{className:"page-container",children:n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("p",{className:"text-lg",children:"Loading books..."})})})}):v?n.jsx(be,{children:n.jsx("div",{className:"page-container",children:n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg text-red-600 font-medium mb-2",children:"Error loading books"}),n.jsx("p",{className:"text-muted-foreground",children:v.message||"Please try again later or contact support"})]})})})}):n.jsx(be,{children:n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 md:mb-0",children:"Browse Available Books"}),n.jsx(Z,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsx(te,{to:"/add",children:"Add Your Book"})})]}),n.jsx("div",{className:"bg-white border border-border rounded-lg p-6 mb-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"col-span-1 md:col-span-2",children:n.jsxs("div",{className:"relative",children:[n.jsx(yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),n.jsx(Pt,{placeholder:"Search by title, author, or description...",value:e,onChange:x,className:"pl-10"}),s&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-border rounded-md shadow-lg max-h-80 overflow-y-auto",children:n.jsx("div",{className:"p-2",children:r.map(y=>n.jsxs("div",{className:"p-3 hover:bg-gray-50 cursor-pointer flex items-start gap-3 border-b border-border last:border-0",onClick:()=>b(y),children:[n.jsx("div",{className:"w-10 h-14 flex-shrink-0 rounded",style:{backgroundColor:y.coverColor||"#436B95"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-sm",children:y.title}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",y.author]}),y.condition&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Condition: ",y.condition]})]})]},y.id))})})]})}),n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[n.jsx("div",{children:n.jsx(Bp,{selectedGenres:d,onChange:u,availableGenres:p})}),n.jsx("div",{children:n.jsx(Dp,{selectedNeighborhoods:l,onChange:i})})]})})]})}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",m.length," books"]})}),n.jsx(Sl,{books:m,emptyMessage:"No books match your search criteria. Try adjusting your filters or add your own books to share!"})]})})};var $p="Label",Rl=c.forwardRef((e,t)=>n.jsx(G.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Rl.displayName=$p;var Tl=Rl;const Hp=Jn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),It=c.forwardRef(({className:e,...t},r)=>n.jsx(Tl,{ref:r,className:J(Hp(),e),...t}));It.displayName=Tl.displayName;function da(e,[t,r]){return Math.min(r,Math.max(t,e))}var zp=c.createContext(void 0);function bs(e){const t=c.useContext(zp);return e||t||"ltr"}var en=0;function Up(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ua()),document.body.insertAdjacentElement("beforeend",e[1]??ua()),en++,()=>{en===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),en--}},[])}function ua(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tn="focusScope.autoFocusOnMount",rn="focusScope.autoFocusOnUnmount",fa={bubbles:!1,cancelable:!0},Wp="FocusScope",Pl=c.forwardRef((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=e,[i,d]=c.useState(null),u=Me(s),p=Me(a),h=c.useRef(null),f=ue(t,m=>d(m)),g=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(o){let m=function(w){if(g.paused||!i)return;const j=w.target;i.contains(j)?h.current=j:gt(h.current,{select:!0})},x=function(w){if(g.paused||!i)return;const j=w.relatedTarget;j!==null&&(i.contains(j)||gt(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&gt(i)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(b);return i&&y.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[o,i,g.paused]),c.useEffect(()=>{if(i){ma.add(g);const m=document.activeElement;if(!i.contains(m)){const b=new CustomEvent(tn,fa);i.addEventListener(tn,u),i.dispatchEvent(b),b.defaultPrevented||(Kp(Qp(Al(i)),{select:!0}),document.activeElement===m&&gt(i))}return()=>{i.removeEventListener(tn,u),setTimeout(()=>{const b=new CustomEvent(rn,fa);i.addEventListener(rn,p),i.dispatchEvent(b),b.defaultPrevented||gt(m??document.body,{select:!0}),i.removeEventListener(rn,p),ma.remove(g)},0)}}},[i,u,p,g]);const v=c.useCallback(m=>{if(!r&&!o||g.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(x&&b){const y=m.currentTarget,[w,j]=qp(y);w&&j?!m.shiftKey&&b===j?(m.preventDefault(),r&&gt(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&gt(j,{select:!0})):b===y&&m.preventDefault()}},[r,o,g.paused]);return n.jsx(G.div,{tabIndex:-1,...l,ref:f,onKeyDown:v})});Pl.displayName=Wp;function Kp(e,{select:t=!1}={}){const r=document.activeElement;for(const o of e)if(gt(o,{select:t}),document.activeElement!==r)return}function qp(e){const t=Al(e),r=ha(t,e),o=ha(t.reverse(),e);return[r,o]}function Al(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ha(e,t){for(const r of e)if(!Vp(r,{upTo:t}))return r}function Vp(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Gp(e){return e instanceof HTMLInputElement&&"select"in e}function gt(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Gp(e)&&t&&e.select()}}var ma=Yp();function Yp(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=pa(e,t),e.unshift(t)},remove(t){var r;e=pa(e,t),(r=e[0])==null||r.resume()}}}function pa(e,t){const r=[...e],o=r.indexOf(t);return o!==-1&&r.splice(o,1),r}function Qp(e){return e.filter(t=>t.tagName!=="A")}function ys(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Xp=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qt=new WeakMap,so=new WeakMap,ao={},on=0,Ml=function(e){return e&&(e.host||Ml(e.parentNode))},Jp=function(e,t){return t.map(function(r){if(e.contains(r))return r;var o=Ml(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Zp=function(e,t,r,o){var s=Jp(t,Array.isArray(e)?e:[e]);ao[r]||(ao[r]=new WeakMap);var a=ao[r],l=[],i=new Set,d=new Set(s),u=function(h){!h||i.has(h)||(i.add(h),u(h.parentNode))};s.forEach(u);var p=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(f){if(i.has(f))p(f);else try{var g=f.getAttribute(o),v=g!==null&&g!=="false",m=(Qt.get(f)||0)+1,x=(a.get(f)||0)+1;Qt.set(f,m),a.set(f,x),l.push(f),m===1&&v&&so.set(f,!0),x===1&&f.setAttribute(r,"true"),v||f.setAttribute(o,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return p(t),i.clear(),on++,function(){l.forEach(function(h){var f=Qt.get(h)-1,g=a.get(h)-1;Qt.set(h,f),a.set(h,g),f||(so.has(h)||h.removeAttribute(o),so.delete(h)),g||h.removeAttribute(r)}),on--,on||(Qt=new WeakMap,Qt=new WeakMap,so=new WeakMap,ao={})}},eg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),s=Xp(e);return s?(o.push.apply(o,Array.from(s.querySelectorAll("[aria-live]"))),Zp(o,s,r,"aria-hidden")):function(){return null}},mo="right-scroll-bar-position",po="width-before-scroll-bar",tg="with-scroll-bars-hidden",rg="--removed-body-scroll-bar-size";function nn(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function og(e,t){var r=c.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(o){var s=r.value;s!==o&&(r.value=o,r.callback(o,s))}}}})[0];return r.callback=t,r.facade}var ng=typeof window<"u"?c.useLayoutEffect:c.useEffect,ga=new WeakMap;function sg(e,t){var r=og(null,function(o){return e.forEach(function(s){return nn(s,o)})});return ng(function(){var o=ga.get(r);if(o){var s=new Set(o),a=new Set(e),l=r.current;s.forEach(function(i){a.has(i)||nn(i,null)}),a.forEach(function(i){s.has(i)||nn(i,l)})}ga.set(r,e)},[e]),r}function ag(e){return e}function ig(e,t){t===void 0&&(t=ag);var r=[],o=!1,s={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var l=t(a,o);return r.push(l),function(){r=r.filter(function(i){return i!==l})}},assignSyncMedium:function(a){for(o=!0;r.length;){var l=r;r=[],l.forEach(a)}r={push:function(i){return a(i)},filter:function(){return r}}},assignMedium:function(a){o=!0;var l=[];if(r.length){var i=r;r=[],i.forEach(a),l=r}var d=function(){var p=l;l=[],p.forEach(a)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(p){l.push(p),u()},filter:function(p){return l=l.filter(p),r}}}};return s}function lg(e){e===void 0&&(e={});var t=ig(null);return t.options=xt({async:!0,ssr:!1},e),t}var Ol=function(e){var t=e.sideCar,r=_a(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return c.createElement(o,xt({},r))};Ol.isSideCarExport=!0;function cg(e,t){return e.useMedium(t),Ol}var Il=lg(),sn=function(){},_o=c.forwardRef(function(e,t){var r=c.useRef(null),o=c.useState({onScrollCapture:sn,onWheelCapture:sn,onTouchMoveCapture:sn}),s=o[0],a=o[1],l=e.forwardProps,i=e.children,d=e.className,u=e.removeScrollBar,p=e.enabled,h=e.shards,f=e.sideCar,g=e.noIsolation,v=e.inert,m=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,y=e.gapMode,w=_a(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,S=sg([r,t]),E=xt(xt({},w),s);return c.createElement(c.Fragment,null,p&&c.createElement(j,{sideCar:Il,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:y}),l?c.cloneElement(c.Children.only(i),xt(xt({},E),{ref:S})):c.createElement(b,xt({},E,{className:d,ref:S}),i))});_o.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_o.classNames={fullWidth:po,zeroRight:mo};var dg=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ug(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dg();return t&&e.setAttribute("nonce",t),e}function fg(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hg(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mg=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ug())&&(fg(t,r),hg(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},pg=function(){var e=mg();return function(t,r){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},_l=function(){var e=pg(),t=function(r){var o=r.styles,s=r.dynamic;return e(o,s),null};return t},gg={left:0,top:0,right:0,gap:0},an=function(e){return parseInt(e||"",10)||0},xg=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[an(r),an(o),an(s)]},vg=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gg;var t=xg(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-r+t[2]-t[0])}},bg=_l(),or="data-scroll-locked",yg=function(e,t,r,o){var s=e.left,a=e.top,l=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(tg,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(i,"px ").concat(o,`;
  }
  body[`).concat(or,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mo,` {
    right: `).concat(i,"px ").concat(o,`;
  }
  
  .`).concat(po,` {
    margin-right: `).concat(i,"px ").concat(o,`;
  }
  
  .`).concat(mo," .").concat(mo,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(po," .").concat(po,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(or,`] {
    `).concat(rg,": ").concat(i,`px;
  }
`)},xa=function(){var e=parseInt(document.body.getAttribute(or)||"0",10);return isFinite(e)?e:0},wg=function(){c.useEffect(function(){return document.body.setAttribute(or,(xa()+1).toString()),function(){var e=xa()-1;e<=0?document.body.removeAttribute(or):document.body.setAttribute(or,e.toString())}},[])},Ng=function(e){var t=e.noRelative,r=e.noImportant,o=e.gapMode,s=o===void 0?"margin":o;wg();var a=c.useMemo(function(){return vg(s)},[s]);return c.createElement(bg,{styles:yg(a,!t,s,r?"":"!important")})},Bn=!1;if(typeof window<"u")try{var io=Object.defineProperty({},"passive",{get:function(){return Bn=!0,!0}});window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Bn=!1}var Xt=Bn?{passive:!1}:!1,jg=function(e){return e.tagName==="TEXTAREA"},Ll=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jg(e)&&r[t]==="visible")},Sg=function(e){return Ll(e,"overflowY")},kg=function(e){return Ll(e,"overflowX")},va=function(e,t){var r=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var s=Dl(e,o);if(s){var a=Bl(e,o),l=a[1],i=a[2];if(l>i)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},Cg=function(e){var t=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[t,r,o]},Eg=function(e){var t=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[t,r,o]},Dl=function(e,t){return e==="v"?Sg(t):kg(t)},Bl=function(e,t){return e==="v"?Cg(t):Eg(t)},Rg=function(e,t){return e==="h"&&t==="rtl"?-1:1},Tg=function(e,t,r,o,s){var a=Rg(e,window.getComputedStyle(t).direction),l=a*o,i=r.target,d=t.contains(i),u=!1,p=l>0,h=0,f=0;do{var g=Bl(e,i),v=g[0],m=g[1],x=g[2],b=m-x-a*v;(v||b)&&Dl(e,i)&&(h+=b,f+=v),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!d&&i!==document.body||d&&(t.contains(i)||t===i));return(p&&(Math.abs(h)<1||!s)||!p&&(Math.abs(f)<1||!s))&&(u=!0),u},lo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ba=function(e){return[e.deltaX,e.deltaY]},ya=function(e){return e&&"current"in e?e.current:e},Pg=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ag=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Mg=0,Jt=[];function Og(e){var t=c.useRef([]),r=c.useRef([0,0]),o=c.useRef(),s=c.useState(Mg++)[0],a=c.useState(_l)[0],l=c.useRef(e);c.useEffect(function(){l.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=yd([e.lockRef.current],(e.shards||[]).map(ya),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=c.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!l.current.allowPinchZoom;var b=lo(m),y=r.current,w="deltaX"in m?m.deltaX:y[0]-b[0],j="deltaY"in m?m.deltaY:y[1]-b[1],S,E=m.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var T=va(C,E);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=va(C,E)),!T)return!1;if(!o.current&&"changedTouches"in m&&(w||j)&&(o.current=S),!S)return!0;var k=o.current||S;return Tg(k,x,m,k==="h"?w:j,!0)},[]),d=c.useCallback(function(m){var x=m;if(!(!Jt.length||Jt[Jt.length-1]!==a)){var b="deltaY"in x?ba(x):lo(x),y=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&Pg(S.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(l.current.shards||[]).map(ya).filter(Boolean).filter(function(S){return S.contains(x.target)}),j=w.length>0?i(x,w[0]):!l.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=c.useCallback(function(m,x,b,y){var w={name:m,delta:x,target:b,should:y,shadowParent:Ig(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),p=c.useCallback(function(m){r.current=lo(m),o.current=void 0},[]),h=c.useCallback(function(m){u(m.type,ba(m),m.target,i(m,e.lockRef.current))},[]),f=c.useCallback(function(m){u(m.type,lo(m),m.target,i(m,e.lockRef.current))},[]);c.useEffect(function(){return Jt.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",d,Xt),document.addEventListener("touchmove",d,Xt),document.addEventListener("touchstart",p,Xt),function(){Jt=Jt.filter(function(m){return m!==a}),document.removeEventListener("wheel",d,Xt),document.removeEventListener("touchmove",d,Xt),document.removeEventListener("touchstart",p,Xt)}},[]);var g=e.removeScrollBar,v=e.inert;return c.createElement(c.Fragment,null,v?c.createElement(a,{styles:Ag(s)}):null,g?c.createElement(Ng,{gapMode:e.gapMode}):null)}function Ig(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _g=cg(Il,Og);var Fl=c.forwardRef(function(e,t){return c.createElement(_o,xt({},e,{ref:t,sideCar:_g}))});Fl.classNames=_o.classNames;var Lg=[" ","Enter","ArrowUp","ArrowDown"],Dg=[" ","Enter"],Qr="Select",[Lo,Do,Bg]=Vn(Qr),[Pr,tv]=kr(Qr,[Bg,Mo]),Bo=Mo(),[Fg,At]=Pr(Qr),[$g,Hg]=Pr(Qr),$l=e=>{const{__scopeSelect:t,children:r,open:o,defaultOpen:s,onOpenChange:a,value:l,defaultValue:i,onValueChange:d,dir:u,name:p,autoComplete:h,disabled:f,required:g,form:v}=e,m=Bo(t),[x,b]=c.useState(null),[y,w]=c.useState(null),[j,S]=c.useState(!1),E=bs(u),[C=!1,T]=vr({prop:o,defaultProp:s,onChange:a}),[k,R]=vr({prop:l,defaultProp:i,onChange:d}),_=c.useRef(null),M=x?v||!!x.closest("form"):!0,[B,P]=c.useState(new Set),D=Array.from(B).map(I=>I.props.value).join(";");return n.jsx(rm,{...m,children:n.jsxs(Fg,{required:g,scope:t,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Ro(),value:k,onValueChange:R,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:_,disabled:f,children:[n.jsx(Lo.Provider,{scope:t,children:n.jsx($g,{scope:e.__scopeSelect,onNativeOptionAdd:c.useCallback(I=>{P(F=>new Set(F).add(I))},[]),onNativeOptionRemove:c.useCallback(I=>{P(F=>{const A=new Set(F);return A.delete(I),A})},[]),children:r})}),M?n.jsxs(uc,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:h,value:k,onChange:I=>R(I.target.value),disabled:f,form:v,children:[k===void 0?n.jsx("option",{value:""}):null,Array.from(B)]},D):null]})})};$l.displayName=Qr;var Hl="SelectTrigger",zl=c.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:o=!1,...s}=e,a=Bo(r),l=At(Hl,r),i=l.disabled||o,d=ue(t,l.onTriggerChange),u=Do(r),p=c.useRef("touch"),[h,f,g]=fc(m=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===l.value),y=hc(x,m,b);y!==void 0&&l.onValueChange(y.value)}),v=m=>{i||(l.onOpenChange(!0),g()),m&&(l.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return n.jsx(Vi,{asChild:!0,...a,children:n.jsx(G.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":dc(l.value)?"":void 0,...s,ref:d,onClick:U(s.onClick,m=>{m.currentTarget.focus(),p.current!=="mouse"&&v(m)}),onPointerDown:U(s.onPointerDown,m=>{p.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:U(s.onKeyDown,m=>{const x=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(x&&m.key===" ")&&Lg.includes(m.key)&&(v(),m.preventDefault())})})})});zl.displayName=Hl;var Ul="SelectValue",Wl=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:o,style:s,children:a,placeholder:l="",...i}=e,d=At(Ul,r),{onValueNodeHasChildrenChange:u}=d,p=a!==void 0,h=ue(t,d.onValueNodeChange);return Ce(()=>{u(p)},[u,p]),n.jsx(G.span,{...i,ref:h,style:{pointerEvents:"none"},children:dc(d.value)?n.jsx(n.Fragment,{children:l}):a})});Wl.displayName=Ul;var zg="SelectIcon",Kl=c.forwardRef((e,t)=>{const{__scopeSelect:r,children:o,...s}=e;return n.jsx(G.span,{"aria-hidden":!0,...s,ref:t,children:o||"▼"})});Kl.displayName=zg;var Ug="SelectPortal",ql=e=>n.jsx(Gn,{asChild:!0,...e});ql.displayName=Ug;var Kt="SelectContent",Vl=c.forwardRef((e,t)=>{const r=At(Kt,e.__scopeSelect),[o,s]=c.useState();if(Ce(()=>{s(new DocumentFragment)},[]),!r.open){const a=o;return a?jr.createPortal(n.jsx(Gl,{scope:e.__scopeSelect,children:n.jsx(Lo.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),a):null}return n.jsx(Yl,{...e,ref:t})});Vl.displayName=Kt;var Ve=10,[Gl,Mt]=Pr(Kt),Wg="SelectContentImpl",Yl=c.forwardRef((e,t)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:i,sideOffset:d,align:u,alignOffset:p,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:x,...b}=e,y=At(Kt,r),[w,j]=c.useState(null),[S,E]=c.useState(null),C=ue(t,z=>j(z)),[T,k]=c.useState(null),[R,_]=c.useState(null),M=Do(r),[B,P]=c.useState(!1),D=c.useRef(!1);c.useEffect(()=>{if(w)return eg(w)},[w]),Up();const I=c.useCallback(z=>{const[ne,...xe]=M().map(oe=>oe.ref.current),[re]=xe.slice(-1),se=document.activeElement;for(const oe of z)if(oe===se||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===ne&&S&&(S.scrollTop=0),oe===re&&S&&(S.scrollTop=S.scrollHeight),oe==null||oe.focus(),document.activeElement!==se))return},[M,S]),F=c.useCallback(()=>I([T,w]),[I,T,w]);c.useEffect(()=>{B&&F()},[B,F]);const{onOpenChange:A,triggerPointerDownPosRef:$}=y;c.useEffect(()=>{if(w){let z={x:0,y:0};const ne=re=>{var se,oe;z={x:Math.abs(Math.round(re.pageX)-(((se=$.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(re.pageY)-(((oe=$.current)==null?void 0:oe.y)??0))}},xe=re=>{z.x<=10&&z.y<=10?re.preventDefault():w.contains(re.target)||A(!1),document.removeEventListener("pointermove",ne),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",xe,{capture:!0})}}},[w,A,$]),c.useEffect(()=>{const z=()=>A(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[A]);const[me,H]=fc(z=>{const ne=M().filter(se=>!se.disabled),xe=ne.find(se=>se.ref.current===document.activeElement),re=hc(ne,z,xe);re&&setTimeout(()=>re.ref.current.focus())}),Y=c.useCallback((z,ne,xe)=>{const re=!D.current&&!xe;(y.value!==void 0&&y.value===ne||re)&&(k(z),re&&(D.current=!0))},[y.value]),ee=c.useCallback(()=>w==null?void 0:w.focus(),[w]),ge=c.useCallback((z,ne,xe)=>{const re=!D.current&&!xe;(y.value!==void 0&&y.value===ne||re)&&_(z)},[y.value]),Pe=o==="popper"?Fn:Ql,ie=Pe===Fn?{side:i,sideOffset:d,align:u,alignOffset:p,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:m,avoidCollisions:x}:{};return n.jsx(Gl,{scope:r,content:w,viewport:S,onViewportChange:E,itemRefCallback:Y,selectedItem:T,onItemLeave:ee,itemTextRefCallback:ge,focusSelectedItem:F,selectedItemText:R,position:o,isPositioned:B,searchRef:me,children:n.jsx(Fl,{as:xr,allowPinchZoom:!0,children:n.jsx(Pl,{asChild:!0,trapped:y.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:U(s,z=>{var ne;(ne=y.trigger)==null||ne.focus({preventScroll:!0}),z.preventDefault()}),children:n.jsx(ko,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(Pe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:z=>z.preventDefault(),...b,...ie,onPlaced:()=>P(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:U(b.onKeyDown,z=>{const ne=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!ne&&z.key.length===1&&H(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let re=M().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(z.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const se=z.target,oe=re.indexOf(se);re=re.slice(oe+1)}setTimeout(()=>I(re)),z.preventDefault()}})})})})})})});Yl.displayName=Wg;var Kg="SelectItemAlignedPosition",Ql=c.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:o,...s}=e,a=At(Kt,r),l=Mt(Kt,r),[i,d]=c.useState(null),[u,p]=c.useState(null),h=ue(t,C=>p(C)),f=Do(r),g=c.useRef(!1),v=c.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=l,w=c.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&u&&m&&x&&b){const C=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),R=b.getBoundingClientRect();if(a.dir!=="rtl"){const se=R.left-T.left,oe=k.left-se,Ee=C.left-oe,Oe=C.width+Ee,ut=Math.max(Oe,T.width),$e=window.innerWidth-Ve,Ot=da(oe,[Ve,Math.max(Ve,$e-ut)]);i.style.minWidth=Oe+"px",i.style.left=Ot+"px"}else{const se=T.right-R.right,oe=window.innerWidth-k.right-se,Ee=window.innerWidth-C.right-oe,Oe=C.width+Ee,ut=Math.max(Oe,T.width),$e=window.innerWidth-Ve,Ot=da(oe,[Ve,Math.max(Ve,$e-ut)]);i.style.minWidth=Oe+"px",i.style.right=Ot+"px"}const _=f(),M=window.innerHeight-Ve*2,B=m.scrollHeight,P=window.getComputedStyle(u),D=parseInt(P.borderTopWidth,10),I=parseInt(P.paddingTop,10),F=parseInt(P.borderBottomWidth,10),A=parseInt(P.paddingBottom,10),$=D+I+B+A+F,me=Math.min(x.offsetHeight*5,$),H=window.getComputedStyle(m),Y=parseInt(H.paddingTop,10),ee=parseInt(H.paddingBottom,10),ge=C.top+C.height/2-Ve,Pe=M-ge,ie=x.offsetHeight/2,z=x.offsetTop+ie,ne=D+I+z,xe=$-ne;if(ne<=ge){const se=_.length>0&&x===_[_.length-1].ref.current;i.style.bottom="0px";const oe=u.clientHeight-m.offsetTop-m.offsetHeight,Ee=Math.max(Pe,ie+(se?ee:0)+oe+F),Oe=ne+Ee;i.style.height=Oe+"px"}else{const se=_.length>0&&x===_[0].ref.current;i.style.top="0px";const Ee=Math.max(ge,D+m.offsetTop+(se?Y:0)+ie)+xe;i.style.height=Ee+"px",m.scrollTop=ne-ge+m.offsetTop}i.style.margin=`${Ve}px 0`,i.style.minHeight=me+"px",i.style.maxHeight=M+"px",o==null||o(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,i,u,m,x,b,a.dir,o]);Ce(()=>w(),[w]);const[j,S]=c.useState();Ce(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=c.useCallback(C=>{C&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return n.jsx(Vg,{scope:r,contentWrapper:i,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:n.jsx(G.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ql.displayName=Kg;var qg="SelectPopperPosition",Fn=c.forwardRef((e,t)=>{const{__scopeSelect:r,align:o="start",collisionPadding:s=Ve,...a}=e,l=Bo(r);return n.jsx(Gi,{...l,...a,ref:t,align:o,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fn.displayName=qg;var[Vg,ws]=Pr(Kt,{}),$n="SelectViewport",Xl=c.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:o,...s}=e,a=Mt($n,r),l=ws($n,r),i=ue(t,a.onViewportChange),d=c.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),n.jsx(Lo.Slot,{scope:r,children:n.jsx(G.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:U(s.onScroll,u=>{const p=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=l;if(f!=null&&f.current&&h){const g=Math.abs(d.current-p.scrollTop);if(g>0){const v=window.innerHeight-Ve*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),b=Math.max(m,x);if(b<v){const y=b+g,w=Math.min(v,y),j=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(p.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});Xl.displayName=$n;var Jl="SelectGroup",[Gg,Yg]=Pr(Jl),Qg=c.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,s=Ro();return n.jsx(Gg,{scope:r,id:s,children:n.jsx(G.div,{role:"group","aria-labelledby":s,...o,ref:t})})});Qg.displayName=Jl;var Zl="SelectLabel",ec=c.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,s=Yg(Zl,r);return n.jsx(G.div,{id:s.id,...o,ref:t})});ec.displayName=Zl;var No="SelectItem",[Xg,tc]=Pr(No),rc=c.forwardRef((e,t)=>{const{__scopeSelect:r,value:o,disabled:s=!1,textValue:a,...l}=e,i=At(No,r),d=Mt(No,r),u=i.value===o,[p,h]=c.useState(a??""),[f,g]=c.useState(!1),v=ue(t,y=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,y,o,s)}),m=Ro(),x=c.useRef("touch"),b=()=>{s||(i.onValueChange(o),i.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(Xg,{scope:r,value:o,disabled:s,textId:m,isSelected:u,onItemTextChange:c.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(Lo.ItemSlot,{scope:r,value:o,disabled:s,textValue:p,children:n.jsx(G.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:v,onFocus:U(l.onFocus,()=>g(!0)),onBlur:U(l.onBlur,()=>g(!1)),onClick:U(l.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:U(l.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:U(l.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:U(l.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=d.onItemLeave)==null||w.call(d):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:U(l.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:U(l.onKeyDown,y=>{var j;((j=d.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(Dg.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});rc.displayName=No;var _r="SelectItemText",oc=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:o,style:s,...a}=e,l=At(_r,r),i=Mt(_r,r),d=tc(_r,r),u=Hg(_r,r),[p,h]=c.useState(null),f=ue(t,b=>h(b),d.onItemTextChange,b=>{var y;return(y=i.itemTextRefCallback)==null?void 0:y.call(i,b,d.value,d.disabled)}),g=p==null?void 0:p.textContent,v=c.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return Ce(()=>(m(v),()=>x(v)),[m,x,v]),n.jsxs(n.Fragment,{children:[n.jsx(G.span,{id:d.textId,...a,ref:f}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?jr.createPortal(a.children,l.valueNode):null]})});oc.displayName=_r;var nc="SelectItemIndicator",sc=c.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e;return tc(nc,r).isSelected?n.jsx(G.span,{"aria-hidden":!0,...o,ref:t}):null});sc.displayName=nc;var Hn="SelectScrollUpButton",ac=c.forwardRef((e,t)=>{const r=Mt(Hn,e.__scopeSelect),o=ws(Hn,e.__scopeSelect),[s,a]=c.useState(!1),l=ue(t,o.onScrollButtonChange);return Ce(()=>{if(r.viewport&&r.isPositioned){let i=function(){const u=d.scrollTop>0;a(u)};const d=r.viewport;return i(),d.addEventListener("scroll",i),()=>d.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),s?n.jsx(lc,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:d}=r;i&&d&&(i.scrollTop=i.scrollTop-d.offsetHeight)}}):null});ac.displayName=Hn;var zn="SelectScrollDownButton",ic=c.forwardRef((e,t)=>{const r=Mt(zn,e.__scopeSelect),o=ws(zn,e.__scopeSelect),[s,a]=c.useState(!1),l=ue(t,o.onScrollButtonChange);return Ce(()=>{if(r.viewport&&r.isPositioned){let i=function(){const u=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<u;a(p)};const d=r.viewport;return i(),d.addEventListener("scroll",i),()=>d.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),s?n.jsx(lc,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:d}=r;i&&d&&(i.scrollTop=i.scrollTop+d.offsetHeight)}}):null});ic.displayName=zn;var lc=c.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:o,...s}=e,a=Mt("SelectScrollButton",r),l=c.useRef(null),i=Do(r),d=c.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),Ce(()=>{var p;const u=i().find(h=>h.ref.current===document.activeElement);(p=u==null?void 0:u.ref.current)==null||p.scrollIntoView({block:"nearest"})},[i]),n.jsx(G.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:U(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(o,50))}),onPointerMove:U(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),l.current===null&&(l.current=window.setInterval(o,50))}),onPointerLeave:U(s.onPointerLeave,()=>{d()})})}),Jg="SelectSeparator",cc=c.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e;return n.jsx(G.div,{"aria-hidden":!0,...o,ref:t})});cc.displayName=Jg;var Un="SelectArrow",Zg=c.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,s=Bo(r),a=At(Un,r),l=Mt(Un,r);return a.open&&l.position==="popper"?n.jsx(Yi,{...s,...o,ref:t}):null});Zg.displayName=Un;function dc(e){return e===""||e===void 0}var uc=c.forwardRef((e,t)=>{const{value:r,...o}=e,s=c.useRef(null),a=ue(t,s),l=ys(r);return c.useEffect(()=>{const i=s.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==r&&p){const h=new Event("change",{bubbles:!0});p.call(i,r),i.dispatchEvent(h)}},[l,r]),n.jsx(Vr,{asChild:!0,children:n.jsx("select",{...o,ref:a,defaultValue:r})})});uc.displayName="BubbleSelect";function fc(e){const t=Me(e),r=c.useRef(""),o=c.useRef(0),s=c.useCallback(l=>{const i=r.current+l;t(i),function d(u){r.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>d(""),1e3))}(i)},[t]),a=c.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,s,a]}function hc(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let l=ex(e,Math.max(a,0));s.length===1&&(l=l.filter(u=>u!==r));const d=l.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function ex(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var tx=$l,mc=zl,rx=Wl,ox=Kl,nx=ql,pc=Vl,sx=Xl,gc=ec,xc=rc,ax=oc,ix=sc,vc=ac,bc=ic,yc=cc;const wc=tx,Nc=rx,Ns=c.forwardRef(({className:e,children:t,...r},o)=>n.jsxs(mc,{ref:o,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(ox,{asChild:!0,children:n.jsx(pi,{className:"h-4 w-4 opacity-50"})})]}));Ns.displayName=mc.displayName;const jc=c.forwardRef(({className:e,...t},r)=>n.jsx(vc,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Eu,{className:"h-4 w-4"})}));jc.displayName=vc.displayName;const Sc=c.forwardRef(({className:e,...t},r)=>n.jsx(bc,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(pi,{className:"h-4 w-4"})}));Sc.displayName=bc.displayName;const js=c.forwardRef(({className:e,children:t,position:r="popper",...o},s)=>n.jsx(nx,{children:n.jsxs(pc,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[n.jsx(jc,{}),n.jsx(sx,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Sc,{})]})}));js.displayName=pc.displayName;const lx=c.forwardRef(({className:e,...t},r)=>n.jsx(gc,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));lx.displayName=gc.displayName;const Ss=c.forwardRef(({className:e,children:t,...r},o)=>n.jsxs(xc,{ref:o,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(ix,{children:n.jsx(br,{className:"h-4 w-4"})})}),n.jsx(ax,{children:t})]}));Ss.displayName=xc.displayName;const cx=c.forwardRef(({className:e,...t},r)=>n.jsx(yc,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));cx.displayName=yc.displayName;function dx(e,t=[]){let r=[];function o(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];function u(h){const{scope:f,children:g,...v}=h,m=(f==null?void 0:f[e][d])||i,x=c.useMemo(()=>v,Object.values(v));return n.jsx(m.Provider,{value:x,children:g})}function p(h,f){const g=(f==null?void 0:f[e][d])||i,v=c.useContext(g);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,p]}const s=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return s.scopeName=e,[o,ux(s,...t)]}function ux(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=o.reduce((i,{useScope:d,scopeName:u})=>{const h=d(a)[`__scope${u}`];return{...i,...h}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var ln="rovingFocusGroup.onEntryFocus",fx={bubbles:!1,cancelable:!0},Fo="RovingFocusGroup",[Wn,kc,hx]=Vn(Fo),[mx,Cc]=dx(Fo,[hx]),[px,gx]=mx(Fo),Ec=c.forwardRef((e,t)=>n.jsx(Wn.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Wn.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(xx,{...e,ref:t})})}));Ec.displayName=Fo;var xx=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...h}=e,f=c.useRef(null),g=ue(t,f),v=bs(a),[m=null,x]=vr({prop:l,defaultProp:i,onChange:d}),[b,y]=c.useState(!1),w=Me(u),j=kc(r),S=c.useRef(!1),[E,C]=c.useState(0);return c.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(ln,w),()=>T.removeEventListener(ln,w)},[w]),n.jsx(px,{scope:r,orientation:o,dir:v,loop:s,currentTabStopId:m,onItemFocus:c.useCallback(T=>x(T),[x]),onItemShiftTab:c.useCallback(()=>y(!0),[]),onFocusableItemAdd:c.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:c.useCallback(()=>C(T=>T-1),[]),children:n.jsx(G.div,{tabIndex:b||E===0?-1:0,"data-orientation":o,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{S.current=!0}),onFocus:U(e.onFocus,T=>{const k=!S.current;if(T.target===T.currentTarget&&k&&!b){const R=new CustomEvent(ln,fx);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const _=j().filter(I=>I.focusable),M=_.find(I=>I.active),B=_.find(I=>I.id===m),D=[M,B,..._].filter(Boolean).map(I=>I.ref.current);Pc(D,p)}}S.current=!1}),onBlur:U(e.onBlur,()=>y(!1))})})}),Rc="RovingFocusGroupItem",Tc=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:a,...l}=e,i=Ro(),d=a||i,u=gx(Rc,r),p=u.currentTabStopId===d,h=kc(r),{onFocusableItemAdd:f,onFocusableItemRemove:g}=u;return c.useEffect(()=>{if(o)return f(),()=>g()},[o,f,g]),n.jsx(Wn.ItemSlot,{scope:r,id:d,focusable:o,active:s,children:n.jsx(G.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:U(e.onMouseDown,v=>{o?u.onItemFocus(d):v.preventDefault()}),onFocus:U(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:U(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=yx(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const y=b.indexOf(v.currentTarget);b=u.loop?wx(b,y+1):b.slice(y+1)}setTimeout(()=>Pc(b))}})})})});Tc.displayName=Rc;var vx={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bx(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yx(e,t,r){const o=bx(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return vx[o]}function Pc(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function wx(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var Nx=Ec,jx=Tc,ks="Radio",[Sx,Ac]=kr(ks),[kx,Cx]=Sx(ks),Mc=c.forwardRef((e,t)=>{const{__scopeRadio:r,name:o,checked:s=!1,required:a,disabled:l,value:i="on",onCheck:d,form:u,...p}=e,[h,f]=c.useState(null),g=ue(t,x=>f(x)),v=c.useRef(!1),m=h?u||!!h.closest("form"):!0;return n.jsxs(kx,{scope:r,checked:s,disabled:l,children:[n.jsx(G.button,{type:"button",role:"radio","aria-checked":s,"data-state":_c(s),"data-disabled":l?"":void 0,disabled:l,value:i,...p,ref:g,onClick:U(e.onClick,x=>{s||d==null||d(),m&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),m&&n.jsx(Ex,{control:h,bubbles:!v.current,name:o,value:i,checked:s,required:a,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Mc.displayName=ks;var Oc="RadioIndicator",Ic=c.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:o,...s}=e,a=Cx(Oc,r);return n.jsx(qr,{present:o||a.checked,children:n.jsx(G.span,{"data-state":_c(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});Ic.displayName=Oc;var Ex=e=>{const{control:t,checked:r,bubbles:o=!0,...s}=e,a=c.useRef(null),l=ys(r),i=is(t);return c.useEffect(()=>{const d=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==r&&h){const f=new Event("click",{bubbles:o});h.call(d,r),d.dispatchEvent(f)}},[l,r,o]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _c(e){return e?"checked":"unchecked"}var Rx=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Cs="RadioGroup",[Tx,rv]=kr(Cs,[Cc,Ac]),Lc=Cc(),Dc=Ac(),[Px,Ax]=Tx(Cs),Bc=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:o,defaultValue:s,value:a,required:l=!1,disabled:i=!1,orientation:d,dir:u,loop:p=!0,onValueChange:h,...f}=e,g=Lc(r),v=bs(u),[m,x]=vr({prop:a,defaultProp:s,onChange:h});return n.jsx(Px,{scope:r,name:o,required:l,disabled:i,value:m,onValueChange:x,children:n.jsx(Nx,{asChild:!0,...g,orientation:d,dir:v,loop:p,children:n.jsx(G.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":i?"":void 0,dir:v,...f,ref:t})})})});Bc.displayName=Cs;var Fc="RadioGroupItem",$c=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:o,...s}=e,a=Ax(Fc,r),l=a.disabled||o,i=Lc(r),d=Dc(r),u=c.useRef(null),p=ue(t,u),h=a.value===s.value,f=c.useRef(!1);return c.useEffect(()=>{const g=m=>{Rx.includes(m.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),n.jsx(jx,{asChild:!0,...i,focusable:!l,active:h,children:n.jsx(Mc,{disabled:l,required:a.required,checked:h,...d,...s,name:a.name,ref:p,onCheck:()=>a.onValueChange(s.value),onKeyDown:U(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:U(s.onFocus,()=>{var g;f.current&&((g=u.current)==null||g.click())})})})});$c.displayName=Fc;var Mx="RadioGroupIndicator",Hc=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...o}=e,s=Dc(r);return n.jsx(Ic,{...s,...o,ref:t})});Hc.displayName=Mx;var zc=Bc,Uc=$c,Ox=Hc;const Wc=c.forwardRef(({className:e,...t},r)=>n.jsx(zc,{className:J("grid gap-2",e),...t,ref:r}));Wc.displayName=zc.displayName;const Kn=c.forwardRef(({className:e,...t},r)=>n.jsx(Uc,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(Ox,{className:"flex items-center justify-center",children:n.jsx(Pu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Kn.displayName=Uc.displayName;const cn=["Like New","Very Good","Good","Fair","Poor"],co="No Preference",Ix=()=>{var T;const e=qt(),t=jo(),{user:r}=Tr(),[o,s]=c.useState(""),[a,l]=c.useState([]),[i,d]=c.useState(null),[u,p]=c.useState(!1),[h,f]=c.useState(!1),[g,v]=c.useState("have"),[m,x]=c.useState(""),[b,y]=c.useState({condition:""}),[w,j]=c.useState(cn);c.useEffect(()=>{g==="want"?j([...cn,co]):(j(cn),b.condition===co&&y(k=>({...k,condition:""})))},[g,b.condition]),c.useEffect(()=>{if(!r){e("/auth");return}async function k(){try{const R=ye(V,de.PROFILES,r.uid),_=await Fe(R);if(_.exists()){const M=_.data();M.neighborhood?x(M.neighborhood):(ce.error("Please set your default neighborhood in your profile first."),e("/profile"))}else ce.error("Profile not found. Please complete your profile."),e("/profile")}catch(R){ce.error("Error fetching your neighborhood from profile."),console.error("Error fetching profile neighborhood:",R)}}k()},[r,e]),c.useEffect(()=>{new URLSearchParams(t.search).get("type")==="want"&&v("want")},[t]);const S=async()=>{if(o.trim()){p(!0);try{const k=await vp(o);l(k)}catch(k){console.error("Search error:",k),ce.error("Error searching for books")}finally{p(!1)}}},E=k=>{d(k),l([]),s("")},C=async k=>{var _,M,B,P;k.preventDefault();let R=b.condition;if(g==="want"&&b.condition===co&&(R="any"),!i||!R||!r||!m){m?R?ce.error("Please fill in all required fields and ensure your neighborhood is set in your profile."):ce.error("Please select a book condition."):ce.error("Your default neighborhood is not set. Please update your profile.");return}f(!0);try{const D=(_=i.volumeInfo.imageLinks)!=null&&_.thumbnail?"#"+i.id.slice(0,6):"#436B95",I={title:i.volumeInfo.title,author:((M=i.volumeInfo.authors)==null?void 0:M[0])||"Unknown Author",description:i.volumeInfo.description||"",cover_color:D,condition:R,neighborhood:m,google_books_id:i.id,genres:i.volumeInfo.categories||[]};if(g==="have"){const F={...I,owner:{id:r.uid,name:r.email||r.displayName||"Anonymous",neighborhood:m}},A=await tp(F);try{await Rp(A,i.volumeInfo.title,((B=i.volumeInfo.authors)==null?void 0:B[0])||"Unknown Author",r.uid,R,m)}catch($){console.error("Failed to send book availability notifications:",$)}ce.success("Book added to your collection!")}else{const F={title:i.volumeInfo.title,author:((P=i.volumeInfo.authors)==null?void 0:P[0])||"Unknown Author",description:i.volumeInfo.description||"",google_books_id:i.id,user_id:r.uid,condition:R,neighborhood:m,genres:i.volumeInfo.categories||[]};await rp(F),ce.success("Book added to your want list!")}e("/my-books")}catch(D){console.error("Submission error:",D),ce.error(`Error adding book: ${D.message||"Unknown error"}`)}finally{f(!1)}};return n.jsx(be,{children:n.jsxs("div",{className:"page-container max-w-3xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Add Your Book"}),n.jsxs("div",{className:"mb-8 bg-muted/30 p-4 rounded-lg border",children:[n.jsx(It,{className:"text-lg font-medium mb-3 block",children:"What would you like to do?"}),n.jsxs(Wc,{value:g,onValueChange:k=>{v(k),k==="have"&&b.condition===co&&y(R=>({...R,condition:""}))},className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:`flex items-start space-x-2 border rounded-lg p-3 ${g==="have"?"bg-primary/10 border-primary":"bg-white"}`,children:[n.jsx(Kn,{value:"have",id:"have",className:"mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs(It,{htmlFor:"have",className:"text-base font-medium flex items-center",children:[n.jsx(Dr,{className:"mr-2 h-5 w-5 text-primary"}),"Add a book I have"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a book to your collection that you are willing to swap with others"})]})]}),n.jsxs("div",{className:`flex items-start space-x-2 border rounded-lg p-3 ${g==="want"?"bg-primary/10 border-primary":"bg-white"}`,children:[n.jsx(Kn,{value:"want",id:"want",className:"mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs(It,{htmlFor:"want",className:"text-base font-medium flex items-center",children:[n.jsx(mi,{className:"mr-2 h-5 w-5 text-primary"}),"Add a book I want"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a book to your wishlist that you are looking to acquire"})]})]})]})]}),n.jsx("div",{className:"bg-white border border-border rounded-lg p-6 md:p-8",children:n.jsx("form",{onSubmit:C,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(It,{children:"Search for your book"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Pt,{value:o,onChange:k=>s(k.target.value),placeholder:"Search by title, author, or ISBN",className:"flex-1"}),n.jsxs(Z,{type:"button",onClick:S,disabled:u,children:[u?n.jsx(go,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(yr,{className:"w-4 h-4 mr-2"}),u?"Searching...":"Search"]})]}),a.length>0&&n.jsx("div",{className:"mt-4 border rounded-md divide-y",children:a.map(k=>{var R;return n.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer flex items-start gap-4",onClick:()=>E(k),children:[((R=k.volumeInfo.imageLinks)==null?void 0:R.thumbnail)&&n.jsx("img",{src:k.volumeInfo.imageLinks.thumbnail,alt:k.volumeInfo.title,className:"w-16 h-auto object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium",children:k.volumeInfo.title}),k.volumeInfo.authors&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",k.volumeInfo.authors.join(", ")]}),k.volumeInfo.publishedDate&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Published: ",new Date(k.volumeInfo.publishedDate).getFullYear()]})]})]},k.id)})}),i&&n.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted/20",children:n.jsxs("div",{className:"flex items-start gap-4",children:[((T=i.volumeInfo.imageLinks)==null?void 0:T.thumbnail)&&n.jsx("img",{src:i.volumeInfo.imageLinks.thumbnail,alt:i.volumeInfo.title,className:"w-20 h-auto"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium",children:i.volumeInfo.title}),i.volumeInfo.authors&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",i.volumeInfo.authors.join(", ")]}),i.volumeInfo.description&&n.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-3",children:i.volumeInfo.description}),n.jsx(Z,{type:"button",variant:"ghost",className:"mt-2 h-8 text-sm",onClick:()=>d(null),children:"Change Book"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(It,{htmlFor:"condition",children:"Condition *"}),n.jsxs(wc,{value:b.condition,onValueChange:k=>y(R=>({...R,condition:k})),children:[n.jsx(Ns,{id:"condition",children:n.jsx(Nc,{placeholder:"Select condition"})}),n.jsx(js,{children:w.map(k=>n.jsx(Ss,{value:k,children:k},k))})]})]}),m&&n.jsxs("div",{children:[n.jsx(It,{className:"block text-sm font-medium mb-1",children:"Your Default Neighborhood (from profile)"}),n.jsx("p",{className:"text-md p-2 border rounded-md bg-muted/50",children:m})]})]}),n.jsx("div",{className:"pt-4",children:n.jsx(Z,{type:"submit",className:"w-full",disabled:!i||!b.condition||!m||h,children:h?n.jsxs(n.Fragment,{children:[n.jsx(go,{className:"w-4 h-4 mr-2 animate-spin"}),g==="have"?"Adding to Collection...":"Adding to Want List..."]}):g==="have"?"Add Book to My Collection":"Add Book to My Want List"})})]})})}),n.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[n.jsx("p",{children:"All books added are available for swapping. There are no points or financial transactions."}),n.jsx("p",{children:"Book Swap Jerusalem is based on goodwill and community sharing."})]})]})})},_x=()=>{const{user:e}=Tr(),{data:t=[],isLoading:r,error:o}=Wt({queryKey:["matches",e==null?void 0:e.uid],queryFn:async()=>{if(!e)throw new Error("Not authenticated");const l=e.uid,i=await pl(l),d=await gl(l),u=we(V,de.BOOKS),p=Ue(u,We("owner.id","!=",l)),f=(await Ke(p)).docs.map(w=>({id:w.id,...w.data()})),g=we(V,de.WANTED_BOOKS),v=Ue(g,We("user_id","!=",l)),x=(await Ke(v)).docs.map(w=>({id:w.id,...w.data()})),b={};f.forEach(w=>{const j=w.owner.id;b[j]||(b[j]={id:j,name:w.owner.name||"Unknown User",neighborhood:w.owner.neighborhood||"Unknown",books:[],wantedBooks:[]}),b[j].books.push(w)}),x.forEach(w=>{const j=w.user_id;b[j]&&b[j].wantedBooks.push(w)});const y=[];for(const w in b){const j=b[w],S=j.books,E=j.wantedBooks||[],C=[],T=[];let k=0;for(const R of S){const _=d.some(B=>B.title.toLowerCase()===R.title.toLowerCase()&&B.author.toLowerCase()===R.author.toLowerCase()&&(B.condition==="any"||B.condition===R.condition)),M={id:R.id,title:R.title,author:R.author,coverColor:R.cover_color||"#436B95",description:R.description||"",condition:R.condition,owner:{name:j.name,neighborhood:j.neighborhood}};_?(C.push(M),k+=5):d.some(P=>P.author.toLowerCase()===R.author.toLowerCase()&&(P.condition==="any"||P.condition===R.condition))?(C.push(M),k+=2):d.some(D=>{const I=D.title.toLowerCase().split(" "),F=R.title.toLowerCase().split(" ");return I.some(A=>A.length>3&&F.includes(A))&&(D.condition==="any"||D.condition===R.condition)})&&(C.push(M),k+=1)}for(const R of i){const _=E.some(B=>B.title.toLowerCase()===R.title.toLowerCase()&&B.author.toLowerCase()===R.author.toLowerCase()&&(B.condition==="any"||B.condition===R.condition)),M={id:R.id,title:R.title,author:R.author,coverColor:R.cover_color||"#436B95",description:R.description||"",condition:R.condition,owner:{name:e.displayName||e.email||"You",neighborhood:R.neighborhood}};_?(T.push(M),k+=5):E.some(P=>P.author.toLowerCase()===R.author.toLowerCase()&&(P.condition==="any"||P.condition===R.condition))?(T.push(M),k+=2):E.some(D=>{const I=D.title.toLowerCase().split(" "),F=R.title.toLowerCase().split(" ");return I.some(A=>A.length>3&&F.includes(A))&&(D.condition==="any"||D.condition===R.condition)})&&(T.push(M),k+=1)}if(C.length>0||T.length>0){const R=Math.min(Math.round(k/2),10);y.push({user:{id:w,name:j.name,neighborhood:j.neighborhood,booksOffered:C,booksWanted:T},matchScore:R})}}return y.sort((w,j)=>j.matchScore-w.matchScore)},enabled:!!e}),s=l=>{De({title:"Swap requested",description:"We'll notify you when the owner responds."})},a=l=>{navigate(`/chat/${l}`),De({title:"Chat started",description:"You can now coordinate the book swap."})};return e?r?n.jsx(be,{children:n.jsxs("div",{className:"page-container",children:[n.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("p",{className:"text-lg",children:"Loading matches..."})})]})}):o?n.jsx(be,{children:n.jsxs("div",{className:"page-container",children:[n.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg text-red-600 font-medium mb-2",children:"Error loading matches"}),n.jsx("p",{className:"text-muted-foreground",children:o.message||"Please try again later"})]})})]})}):n.jsx(be,{children:n.jsxs("div",{className:"page-container",children:[n.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),n.jsx("p",{className:"text-center text-muted-foreground mb-8 max-w-2xl mx-auto",children:"These are potential swap partners based on the books you have listed and the books you are looking for. Higher match scores indicate more opportunities to swap multiple books with the same person."}),t.length===0?n.jsxs("div",{className:"bg-white border border-border rounded-lg p-8 text-center",children:[n.jsx("h2",{className:"text-xl font-bold mb-3",children:"No Matches Found Yet"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"To increase your chances of finding matches:"}),n.jsxs("ul",{className:"text-left max-w-md mx-auto space-y-2 mb-6",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2",children:"•"}),n.jsx("span",{children:"Add more books that you are willing to swap"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2",children:"•"}),n.jsx("span",{children:"Add books you are looking for to your wishlist"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2",children:"•"}),n.jsx("span",{children:"Check back regularly as new books are added daily"})]})]}),n.jsx(Z,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsx(te,{to:"/add",children:"Add More Books"})})]}):n.jsx("div",{className:"space-y-10",children:t.map(l=>n.jsxs("div",{className:"bg-white border border-border rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-bookswap-blue p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-1",children:l.user.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Neighborhood: ",l.user.neighborhood," • Match Score: ",l.matchScore,"/10"]})]}),n.jsxs(Z,{variant:"outline",className:"mt-3 md:mt-0 bg-white",onClick:()=>a(l.user.id),children:[n.jsx(Zt,{className:"mr-2 h-4 w-4"}),"Message"]})]}),n.jsxs("div",{className:"p-4 md:p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Books They Have (That You Might Like)"}),l.user.booksOffered.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:l.user.booksOffered.map(i=>n.jsx(Dn,{book:i,onRequestSwap:s},i.id))}):n.jsx("p",{className:"text-muted-foreground",children:"No matching books found in this category."})]}),n.jsxs("div",{className:"pt-4 border-t border-border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Your Books (That They Might Like)"}),l.user.booksWanted.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:l.user.booksWanted.map(i=>n.jsx(Dn,{book:i,onRequestSwap:s},i.id))}):n.jsx("p",{className:"text-muted-foreground",children:"No matching books found in this category."})]})]})]},l.user.id))})]})}):n.jsx(be,{children:n.jsx("div",{className:"page-container",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-lg text-muted-foreground",children:"Please sign in to see your matches"}),n.jsx(Z,{asChild:!0,className:"mt-4 bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsx(te,{to:"/auth",children:"Sign In"})})]})})})},wa=()=>{const{chatId:e}=sd(),t=qt(),[r,o]=c.useState(e||null),[s,a]=c.useState(""),[l,i]=c.useState([]),[d,u]=c.useState(!1),p=ps(),{data:h=[],isLoading:f,error:g}=Wt({queryKey:["chats"],queryFn:async()=>{const b=Jo();if(!b)throw new Error("Not authenticated");const y=b.uid,w=await cp(y);return await Promise.all(w.map(async S=>{var T;const E=(T=S.participants)==null?void 0:T.find(k=>k!==y);let C="Unknown User";if(E)try{const k=await Fe(ye(V,de.PROFILES,E));if(k.exists()){const R=k.data();C=R.display_name||R.username||"Unknown User"}}catch(k){console.error("Error fetching user profile:",k)}return{id:S.id,name:C,displayName:C,otherUserId:E||"",lastMessage:S.last_message||"No messages yet",lastMessageTime:S.updated_at?new Date(S.updated_at.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:S.unread||!1}}))}});c.useEffect(()=>{e?o(e):h.length>0&&!r&&o(h[0].id)},[h,e]),c.useEffect(()=>{if(!r)return;(async()=>{u(!0);try{const y=Jo();if(!y)throw new Error("Not authenticated");const w=we(V,de.MESSAGES),j=Ue(w,We("chat_id","==",r),qn("created_at","asc")),S=wd(j,E=>{const C=E.docs.map(T=>{const k=T.data();return{id:T.id,text:k.content||"",sender:k.sender_id===y.uid?"user":"other",timestamp:k.created_at?new Date(k.created_at.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",sender_id:k.sender_id}});i(C),u(!1)});return()=>S()}catch(y){console.error("Error loading messages:",y),u(!1),De({title:"Error loading messages",description:"Unable to load messages. Please try again.",variant:"destructive"})}})()},[r]);const v=async b=>{if(b.preventDefault(),!(!s.trim()||!r))try{const y=Jo();if(!y)throw new Error("Not authenticated");await dp(r,s,y.uid),a(""),p.invalidateQueries({queryKey:["chats"]})}catch(y){De({title:"Error sending message",description:"Unable to send message. Please try again.",variant:"destructive"}),console.error(y)}},m=b=>{o(b),t(`/chat/${b}`,{replace:!0})},x=h.find(b=>b.id===r);return f?n.jsx(be,{children:n.jsx("div",{className:"page-container",children:n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue"})})})}):g?n.jsx(be,{children:n.jsx("div",{className:"page-container",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-lg text-red-600",children:"Error loading chats"}),n.jsx("p",{className:"text-muted-foreground",children:g.message})]})})}):n.jsx(be,{children:n.jsxs("div",{className:"page-container max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(Zt,{className:"h-8 w-8 text-bookswap-darkblue"}),n.jsx("h1",{className:"text-3xl font-bold",children:"Messages"})]}),n.jsx("div",{className:"bg-white border border-border rounded-lg overflow-hidden min-h-[600px] shadow-sm",children:n.jsxs("div",{className:"flex h-full",children:[n.jsxs("div",{className:"w-80 border-r border-border bg-gray-50/50",children:[n.jsxs("div",{className:"p-4 border-b border-border bg-white",children:[n.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[n.jsx(Zn,{className:"h-5 w-5"}),"Conversations"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[h.length," active conversation",h.length!==1?"s":""]})]}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(600px-80px)]",children:h.length>0?h.map(b=>n.jsx("div",{className:`p-4 cursor-pointer transition-all duration-200 border-l-4 ${r===b.id?"bg-bookswap-blue/10 border-l-bookswap-darkblue shadow-sm":"border-l-transparent hover:bg-gray-100/70"}`,onClick:()=>m(b.id),children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg mr-3 ${r===b.id?"bg-bookswap-darkblue text-white":"bg-bookswap-blue text-bookswap-darkblue"}`,children:b.name.charAt(0).toUpperCase()}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("h3",{className:`font-medium truncate ${r===b.id?"text-bookswap-darkblue":"text-gray-900"}`,children:b.name}),n.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-2",children:b.lastMessageTime})]}),n.jsx("p",{className:"text-sm text-muted-foreground truncate",children:b.lastMessage})]}),b.unread&&n.jsx("div",{className:"w-3 h-3 bg-bookswap-darkblue rounded-full ml-2 flex-shrink-0"})]})},b.id)):n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Zt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground font-medium",children:"No conversations yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start messaging other users about book swaps"}),n.jsx(Z,{asChild:!0,className:"mt-4 bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsx(te,{to:"/books",children:"Browse Books"})})]})})]}),n.jsx("div",{className:"flex-1 flex flex-col",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-4 border-b border-border bg-white",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-bookswap-darkblue text-white flex items-center justify-center font-bold text-lg mr-3",children:x.name.charAt(0).toUpperCase()}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold text-lg",children:x.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Book swap conversation"})]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50/30",children:d?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-bookswap-darkblue mx-auto mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading messages..."})]})}):l.length>0?l.map(b=>n.jsx("div",{className:`flex ${b.sender==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[75%] rounded-2xl px-4 py-3 shadow-sm ${b.sender==="user"?"bg-bookswap-darkblue text-white":"bg-white border border-gray-200"}`,children:[n.jsx("p",{className:"text-sm leading-relaxed",children:b.text}),n.jsx("p",{className:`text-xs mt-2 ${b.sender==="user"?"text-white/80":"text-muted-foreground"}`,children:b.timestamp})]})},b.id)):n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Zt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground font-medium",children:"No messages yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start the conversation about your book swap!"})]})})}),n.jsxs("div",{className:"p-4 border-t border-border bg-white",children:[n.jsxs("form",{onSubmit:v,className:"flex gap-3",children:[n.jsx(Pt,{value:s,onChange:b=>a(b.target.value),placeholder:`Message ${x.name}...`,className:"flex-1 rounded-full px-4"}),n.jsx(Z,{type:"submit",disabled:!s.trim(),className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90 rounded-full px-6",children:n.jsx(hi,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Keep communication focused on book swaps and meeting arrangements."})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50/30",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx(Zt,{className:"h-20 w-20 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Select a conversation"}),n.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Choose a conversation from the sidebar to start messaging, or find new matches to begin swapping books."}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[n.jsx(Z,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsx(te,{to:"/matches",children:"Find Matches"})}),n.jsx(Z,{asChild:!0,variant:"outline",children:n.jsx(te,{to:"/books",children:"Browse Books"})})]})]})})})]})})]})})};function Lx({value:e,onSelect:t}){return n.jsxs(wc,{value:e||"",onValueChange:t,children:[n.jsx(Ns,{className:"w-full",children:n.jsx(Nc,{placeholder:"Select neighborhood"})}),n.jsx(js,{children:Ir.map(r=>n.jsx(Ss,{value:r,children:r},r))})]})}var Es="Checkbox",[Dx,ov]=kr(Es),[Bx,Fx]=Dx(Es),Kc=c.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:o,checked:s,defaultChecked:a,required:l,disabled:i,value:d="on",onCheckedChange:u,form:p,...h}=e,[f,g]=c.useState(null),v=ue(t,j=>g(j)),m=c.useRef(!1),x=f?p||!!f.closest("form"):!0,[b=!1,y]=vr({prop:s,defaultProp:a,onChange:u}),w=c.useRef(b);return c.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const S=()=>y(w.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[f,y]),n.jsxs(Bx,{scope:r,state:b,disabled:i,children:[n.jsx(G.button,{type:"button",role:"checkbox","aria-checked":kt(b)?"mixed":b,"aria-required":l,"data-state":Gc(b),"data-disabled":i?"":void 0,disabled:i,value:d,...h,ref:v,onKeyDown:U(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:U(e.onClick,j=>{y(S=>kt(S)?!0:!S),x&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})}),x&&n.jsx($x,{control:f,bubbles:!m.current,name:o,value:d,checked:b,required:l,disabled:i,form:p,style:{transform:"translateX(-100%)"},defaultChecked:kt(a)?!1:a})]})});Kc.displayName=Es;var qc="CheckboxIndicator",Vc=c.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:o,...s}=e,a=Fx(qc,r);return n.jsx(qr,{present:o||kt(a.state)||a.state===!0,children:n.jsx(G.span,{"data-state":Gc(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Vc.displayName=qc;var $x=e=>{const{control:t,checked:r,bubbles:o=!0,defaultChecked:s,...a}=e,l=c.useRef(null),i=ys(r),d=is(t);c.useEffect(()=>{const p=l.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(i!==r&&g){const v=new Event("click",{bubbles:o});p.indeterminate=kt(r),g.call(p,kt(r)?!1:r),p.dispatchEvent(v)}},[i,r,o]);const u=c.useRef(kt(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kt(e){return e==="indeterminate"}function Gc(e){return kt(e)?"indeterminate":e?"checked":"unchecked"}var Yc=Kc,Hx=Vc;const Qc=c.forwardRef(({className:e,...t},r)=>n.jsx(Yc,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(Hx,{className:J("flex items-center justify-center text-current"),children:n.jsx(br,{className:"h-4 w-4"})})}));Qc.displayName=Yc.displayName;function zx(){const{user:e}=Tr(),t=qt(),[r,o]=c.useState(!0),[s,a]=c.useState(""),[l,i]=c.useState(""),[d,u]=c.useState(""),[p,h]=c.useState(""),[f,g]=c.useState(!0);c.useEffect(()=>{if(!e){t("/auth");return}async function m(){var x;o(!0);try{const b=ye(V,de.PROFILES,e.uid),y=await Fe(b);if(y.exists()){const w=y.data();a(w.display_name??""),i(w.bio??""),u(w.neighborhood??""),h(w.neighborhood??""),g(((x=w.email_notifications)==null?void 0:x.new_messages)??!0),!w.email&&e.email&&(console.log("Adding email to existing profile:",e.email),await dn(b,{email:e.email,updated_at:Se()}))}else await Nd(b,{id:e.uid,display_name:"",bio:"",neighborhood:"",email:e.email||"",email_notifications:{new_matches:!0,book_availability:!0,new_messages:!0},created_at:Se(),updated_at:Se()}),h("")}catch(b){console.error("Error loading profile:",b),ce.error("Error loading profile")}finally{o(!1)}}m()},[e,t]);async function v(){if(!e||!d){ce.error("Neighborhood cannot be empty. Please select a neighborhood.");return}o(!0);try{const m=ye(V,de.PROFILES,e.uid);if(await dn(m,{display_name:s,bio:l,neighborhood:d,email:e.email||"",email_notifications:{new_matches:f,book_availability:f,new_messages:f},updated_at:Se()}),ce.success("Profile updated successfully"),d!==p){ce.info("Updating neighborhood for your books...");const x=jd(V),b=Ue(we(V,de.BOOKS),We("owner.id","==",e.uid));(await Ke(b)).forEach(S=>{const E=ye(V,de.BOOKS,S.id);x.update(E,{neighborhood:d,"owner.neighborhood":d})});const w=Ue(we(V,de.WANTED_BOOKS),We("user_id","==",e.uid));(await Ke(w)).forEach(S=>{const E=ye(V,de.WANTED_BOOKS,S.id);x.update(E,{neighborhood:d})}),await x.commit(),h(d),ce.success("Neighborhood for all your books has been updated.")}}catch(m){console.error("Error updating profile or books:",m),ce.error("Error updating profile or books. Please try again.")}finally{o(!1)}}return r&&!e?n.jsx(be,{children:n.jsx("div",{className:"page-container flex justify-center items-center min-h-[calc(100vh-200px)]",children:n.jsx("p",{children:"Loading user data..."})})}):r&&e?n.jsx(be,{children:n.jsx("div",{className:"page-container flex justify-center items-center min-h-[calc(100vh-200px)]",children:n.jsx("p",{children:"Loading profile..."})})}):n.jsx(be,{children:n.jsxs("div",{className:"page-container max-w-2xl mx-auto",children:[n.jsx("h1",{className:"section-heading",children:"Profile Settings"}),n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium mb-2",children:"Display Name"}),n.jsx(Pt,{id:"displayName",type:"text",value:s,onChange:m=>a(m.target.value),placeholder:"Enter your display name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium mb-2",children:"Bio"}),n.jsx("textarea",{id:"bio",value:l,onChange:m=>i(m.target.value),placeholder:"Write a short bio about yourself",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default Neighborhood (this will apply to all your books)"}),n.jsx(Lx,{value:d,onSelect:u})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qc,{id:"emailNotifications",checked:f,onCheckedChange:g}),n.jsx("label",{htmlFor:"emailNotifications",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I want to receive email notifications about messages, matches, and books on my want list"})]}),n.jsx(Z,{onClick:v,disabled:r,className:"w-full",children:r?"Saving...":"Save Changes"})]})})]})})}const Ux=()=>{const e=jo();return c.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function Wx({booksIHave:e,booksIWant:t}){const[r,o]=c.useState(null),s=ps(),a=async u=>{o(u);try{await op(u),ce.success("Book removed successfully"),s.invalidateQueries({queryKey:["my-books-have"]})}catch(p){console.error("Error deleting book:",p),ce.error("Failed to remove book")}finally{o(null)}},l=async u=>{o(u);try{await np(u),ce.success("Book removed from wishlist"),s.invalidateQueries({queryKey:["my-books-want"]})}catch(p){console.error("Error deleting wanted book:",p),ce.error("Failed to remove book from wishlist")}finally{o(null)}},i=u=>n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:u==="have"?"You haven't added any books you own yet":"You haven't added any books you're looking for yet"}),n.jsx(Z,{variant:"default",onClick:()=>window.location.href=u==="have"?"/add":"/add?type=want",children:u==="have"?n.jsxs(n.Fragment,{children:[n.jsx(Dr,{className:"mr-2 h-4 w-4"}),"Add a Book You Own"]}):n.jsxs(n.Fragment,{children:[n.jsx(yr,{className:"mr-2 h-4 w-4"}),"Add a Book You Want"]})})]}),d=(u,p)=>n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:u.map(h=>n.jsxs(xs,{className:"relative",children:[n.jsx(Z,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 z-10",onClick:()=>p==="have"?a(h.id):l(h.id),disabled:r===h.id,children:n.jsx(Mu,{className:"h-4 w-4"})}),n.jsxs(vs,{className:"pt-4",children:[h.google_books_id?n.jsx("div",{className:"w-full h-48 bg-cover bg-center rounded-lg mb-4",style:{backgroundImage:`url(https://books.google.com/books/content?id=${h.google_books_id}&printsec=frontcover&img=1&zoom=1&source=gbs_api)`}}):n.jsxs("div",{className:"w-full h-48 p-4 flex flex-col justify-center items-center text-center rounded-lg mb-4",style:{backgroundColor:h.coverColor||h.cover_color||"#436B95"},children:[n.jsx("h3",{className:"font-bold text-white",children:h.title}),n.jsx("p",{className:"text-sm text-white/80",children:h.author})]}),n.jsx("h3",{className:"font-bold text-lg mb-1",children:h.title}),n.jsx("p",{className:"text-sm font-medium mb-2",children:h.author}),p==="have"&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Condition: ",h.condition]}),p==="want"&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"On your wishlist"})]})]},h.id))});return n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(Dr,{className:"mr-2 h-5 w-5"}),n.jsx("h2",{className:"text-xl font-bold",children:"Books I Have"})]}),e.length===0?i("have"):d(e,"have")]}),n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(yr,{className:"mr-2 h-5 w-5"}),n.jsx("h2",{className:"text-xl font-bold",children:"Books I Want"})]}),t.length===0?i("want"):d(t,"want")]})]})})}function Kx(){const{user:e}=Tr(),{data:t=[],isLoading:r,error:o}=Wt({queryKey:["my-books-have"],queryFn:async()=>{if(!e)return[];try{const h=await pl(e.uid);return i(h,"have")}catch(h){throw console.error("Error fetching books I have:",h),h}},enabled:!!e}),{data:s=[],isLoading:a,error:l}=Wt({queryKey:["my-books-want"],queryFn:async()=>{if(!e)return[];try{const h=await gl(e.uid);return i(h,"want")}catch(h){throw console.error("Error fetching books I want:",h),h}},enabled:!!e});function i(h,f){const g=[];for(const v of h){const m={id:String(v.id||""),title:String(v.title||""),author:String(v.author||""),coverColor:String(v.cover_color||"#436B95"),description:v.description?String(v.description):"",condition:f==="have"?String(v.condition||"Good"):void 0,owner:f==="have"?{name:d(v.owner,"name"),neighborhood:d(v.owner,"neighborhood")}:void 0,google_books_id:v.google_books_id?String(v.google_books_id):void 0,book_type:f};g.push(m)}return g}function d(h,f){if(h&&typeof h=="object"&&h!==null){const v=h[f];return typeof v=="string"?v:""}return""}if(!e)return n.jsx(be,{children:n.jsx("div",{className:"page-container",children:n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-lg text-muted-foreground",children:"Please sign in to manage your books"})})})});const u=r||a,p=o||l;return n.jsx(be,{children:n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"My Books"}),n.jsx(Z,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:n.jsxs(te,{to:"/add",className:"flex items-center",children:[n.jsx(Tu,{className:"mr-2 h-4 w-4"}),"Add a Book"]})})]}),u?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue mx-auto mb-4"}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading your books..."})]}):p?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-lg text-red-600",children:"Error loading your books"})}):n.jsx(Wx,{booksIHave:t,booksIWant:s})]})})}const qx=new Lm,Vx=()=>n.jsx($m,{client:qx,children:n.jsx(up,{children:n.jsxs(bm,{children:[n.jsx(xf,{}),n.jsx(qf,{}),n.jsx(ad,{children:n.jsxs(id,{children:[n.jsx(et,{path:"/",element:n.jsx(Mp,{})}),n.jsx(et,{path:"/auth",element:n.jsx(Lp,{})}),n.jsx(et,{path:"/books",element:n.jsx(Fp,{})}),n.jsx(et,{path:"/add",element:n.jsx(Ix,{})}),n.jsx(et,{path:"/my-books",element:n.jsx(Kx,{})}),n.jsx(et,{path:"/matches",element:n.jsx(_x,{})}),n.jsx(et,{path:"/chat",element:n.jsx(wa,{})}),n.jsx(et,{path:"/chat/:chatId",element:n.jsx(wa,{})}),n.jsx(et,{path:"/profile",element:n.jsx(zx,{})}),n.jsx(et,{path:"*",element:n.jsx(Ux,{})})]})})]})})}),Na=document.getElementById("root");if(!Na)console.error("Root element not found");else{const e=Ba(Na);try{e.render(n.jsx(Vx,{}))}catch(t){console.error("Error rendering application:",t),e.render(n.jsxs("div",{className:"error-boundary",children:[n.jsx("h1",{children:"Something went wrong"}),n.jsx("p",{children:"The application encountered an error. Please try refreshing the page."}),n.jsx("pre",{children:t instanceof Error?t.message:String(t)})]}))}}
