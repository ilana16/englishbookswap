var Cs=e=>{throw TypeError(e)};var Dn=(e,t,r)=>t.has(e)||Cs("Cannot "+r);var w=(e,t,r)=>(Dn(e,t,"read from private field"),r?r.call(e):t.get(e)),U=(e,t,r)=>t.has(e)?Cs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_=(e,t,r,n)=>(Dn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Y=(e,t,r)=>(Dn(e,t,"access private method"),r);var Vr=(e,t,r,n)=>({set _(s){_(e,t,s,r)},get _(){return w(e,t,n)}});import{r as l,a as gr,e as M,G as Ca,R as Xl,u as gn,L as ee,b as Na,B as Jl,c as Zl,d as Ze}from"./react-DgqyT3Go.js";import{i as ed,g as td,a as rd,b as nd,s as od,c as sd,d as ad,e as id,G as cd,f as ld,o as dd,r as ud,u as fd,h as hd,j as dr,k as Ho,l as He,q as It,w as ur,m as Ot,n as Wo,p as Rr,t as ja,v as Ea,x as md,y as pd,_ as dt,z as ka,A as gd,B as vd,C as xd,D as yd}from"./firebase-Bceu1vCh.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Ra={exports:{}},vn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=l,wd=Symbol.for("react.element"),Sd=Symbol.for("react.fragment"),Cd=Object.prototype.hasOwnProperty,Nd=bd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jd={key:!0,ref:!0,__self:!0,__source:!0};function Ta(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Cd.call(t,n)&&!jd.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:wd,type:e,key:a,ref:i,props:s,_owner:Nd.current}}vn.Fragment=Sd;vn.jsx=Ta;vn.jsxs=Ta;Ra.exports=vn;var o=Ra.exports,Pa,Ns=gr;Pa=Ns.createRoot,Ns.hydrateRoot;const Ed=1,kd=1e6;let Fn=0;function Rd(){return Fn=(Fn+1)%Number.MAX_SAFE_INTEGER,Fn.toString()}const Bn=new Map,js=e=>{if(Bn.has(e))return;const t=setTimeout(()=>{Bn.delete(e),kr({type:"REMOVE_TOAST",toastId:e})},kd);Bn.set(e,t)},Td=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ed)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?js(r):e.toasts.forEach(n=>{js(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tn=[];let rn={toasts:[]};function kr(e){rn=Td(rn,e),tn.forEach(t=>{t(rn)})}function fr({...e}){const t=Rd(),r=s=>kr({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>kr({type:"DISMISS_TOAST",toastId:t});return kr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Pd(){const[e,t]=l.useState(rn);return l.useEffect(()=>(tn.push(t),()=>{const r=tn.indexOf(t);r>-1&&tn.splice(r,1)}),[e]),{...e,toast:fr,dismiss:r=>kr({type:"DISMISS_TOAST",toastId:r})}}function z(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ad(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Aa(...e){return t=>e.forEach(r=>Ad(r,t))}function de(...e){return l.useCallback(Aa(...e),e)}function Md(e,t=[]){let r=[];function n(a,i){const c=l.createContext(i),u=r.length;r=[...r,i];function d(m){const{scope:f,children:g,...v}=m,h=(f==null?void 0:f[e][u])||c,x=l.useMemo(()=>v,Object.values(v));return o.jsx(h.Provider,{value:x,children:g})}function p(m,f){const g=(f==null?void 0:f[e][u])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,p]}const s=()=>{const a=r.map(i=>l.createContext(i));return function(c){const u=(c==null?void 0:c[e])||a;return l.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[n,Id(s,...t)]}function Id(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((c,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var hr=l.forwardRef((e,t)=>{const{children:r,...n}=e,s=l.Children.toArray(r),a=s.find(Od);if(a){const i=a.props.children,c=s.map(u=>u===a?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:u);return o.jsx(to,{...n,ref:t,children:l.isValidElement(i)?l.cloneElement(i,void 0,c):null})}return o.jsx(to,{...n,ref:t,children:r})});hr.displayName="Slot";var to=l.forwardRef((e,t)=>{const{children:r,...n}=e;if(l.isValidElement(r)){const s=Ld(r);return l.cloneElement(r,{..._d(n,r.props),ref:t?Aa(t,s):s})}return l.Children.count(r)>1?l.Children.only(null):null});to.displayName="SlotClone";var Ma=({children:e})=>o.jsx(o.Fragment,{children:e});function Od(e){return l.isValidElement(e)&&e.type===Ma}function _d(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...c)=>{a(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function Ld(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Uo(e){const t=e+"CollectionProvider",[r,n]=Md(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:h}=g,x=M.useRef(null),y=M.useRef(new Map).current;return o.jsx(s,{scope:v,itemMap:y,collectionRef:x,children:h})};i.displayName=t;const c=e+"CollectionSlot",u=M.forwardRef((g,v)=>{const{scope:h,children:x}=g,y=a(c,h),b=de(v,y.collectionRef);return o.jsx(hr,{ref:b,children:x})});u.displayName=c;const d=e+"CollectionItemSlot",p="data-radix-collection-item",m=M.forwardRef((g,v)=>{const{scope:h,children:x,...y}=g,b=M.useRef(null),C=de(v,b),N=a(d,h);return M.useEffect(()=>(N.itemMap.set(b,{ref:b,...y}),()=>void N.itemMap.delete(b))),o.jsx(hr,{[p]:"",ref:C,children:x})});m.displayName=d;function f(g){const v=a(e+"CollectionConsumer",g);return M.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(v.itemMap.values()).sort((N,S)=>y.indexOf(N.ref.current)-y.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},f,n]}function vr(e,t=[]){let r=[];function n(a,i){const c=l.createContext(i),u=r.length;r=[...r,i];const d=m=>{var y;const{scope:f,children:g,...v}=m,h=((y=f==null?void 0:f[e])==null?void 0:y[u])||c,x=l.useMemo(()=>v,Object.values(v));return o.jsx(h.Provider,{value:x,children:g})};d.displayName=a+"Provider";function p(m,f){var h;const g=((h=f==null?void 0:f[e])==null?void 0:h[u])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,p]}const s=()=>{const a=r.map(i=>l.createContext(i));return function(c){const u=(c==null?void 0:c[e])||a;return l.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[n,Dd(s,...t)]}function Dd(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((c,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Fd=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],G=Fd.reduce((e,t)=>{const r=l.forwardRef((n,s)=>{const{asChild:a,...i}=n,c=a?hr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ia(e,t){e&&gr.flushSync(()=>e.dispatchEvent(t))}function ke(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Bd(e,t=globalThis==null?void 0:globalThis.document){const r=ke(e);l.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $d="DismissableLayer",ro="dismissableLayer.update",Hd="dismissableLayer.pointerDownOutside",Wd="dismissableLayer.focusOutside",Es,Oa=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xn=l.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:c,...u}=e,d=l.useContext(Oa),[p,m]=l.useState(null),f=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=l.useState({}),v=de(t,E=>m(E)),h=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=h.indexOf(x),b=p?h.indexOf(p):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,N=b>=y,S=zd(E=>{const k=E.target,A=[...d.branches].some(L=>L.contains(k));!N||A||(s==null||s(E),i==null||i(E),E.defaultPrevented||c==null||c())},f),j=Vd(E=>{const k=E.target;[...d.branches].some(L=>L.contains(k))||(a==null||a(E),i==null||i(E),E.defaultPrevented||c==null||c())},f);return Bd(E=>{b===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},f),l.useEffect(()=>{if(p)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Es=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),ks(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Es)}},[p,f,r,d]),l.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),ks())},[p,d]),l.useEffect(()=>{const E=()=>g({});return document.addEventListener(ro,E),()=>document.removeEventListener(ro,E)},[]),o.jsx(G.div,{...u,ref:v,style:{pointerEvents:C?N?"auto":"none":void 0,...e.style},onFocusCapture:z(e.onFocusCapture,j.onFocusCapture),onBlurCapture:z(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:z(e.onPointerDownCapture,S.onPointerDownCapture)})});xn.displayName=$d;var Ud="DismissableLayerBranch",_a=l.forwardRef((e,t)=>{const r=l.useContext(Oa),n=l.useRef(null),s=de(t,n);return l.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(G.div,{...e,ref:s})});_a.displayName=Ud;function zd(e,t=globalThis==null?void 0:globalThis.document){const r=ke(e),n=l.useRef(!1),s=l.useRef(()=>{});return l.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let u=function(){La(Hd,r,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Vd(e,t=globalThis==null?void 0:globalThis.document){const r=ke(e),n=l.useRef(!1);return l.useEffect(()=>{const s=a=>{a.target&&!n.current&&La(Wd,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ks(){const e=new CustomEvent(ro);document.dispatchEvent(e)}function La(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ia(s,a):s.dispatchEvent(a)}var Kd=xn,Gd=_a,ge=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},qd="Portal",zo=l.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[s,a]=l.useState(!1);ge(()=>a(!0),[]);const i=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?Ca.createPortal(o.jsx(G.div,{...n,ref:t}),i):null});zo.displayName=qd;function Yd(e,t){return l.useReducer((r,n)=>t[r][n]??r,e)}var yn=e=>{const{present:t,children:r}=e,n=Qd(t),s=typeof r=="function"?r({present:n.isPresent}):l.Children.only(r),a=de(n.ref,Xd(s));return typeof r=="function"||n.isPresent?l.cloneElement(s,{ref:a}):null};yn.displayName="Presence";function Qd(e){const[t,r]=l.useState(),n=l.useRef({}),s=l.useRef(e),a=l.useRef("none"),i=e?"mounted":"unmounted",[c,u]=Yd(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const d=Kr(n.current);a.current=c==="mounted"?d:"none"},[c]),ge(()=>{const d=n.current,p=s.current;if(p!==e){const f=a.current,g=Kr(d);e?u("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(p&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),ge(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,m=g=>{const h=Kr(n.current).includes(g.animationName);if(g.target===t&&h&&(u("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=g=>{g.target===t&&(a.current=Kr(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Kr(e){return(e==null?void 0:e.animationName)||"none"}function Xd(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Tr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Jd({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,c=ke(r),u=l.useCallback(d=>{if(a){const m=typeof d=="function"?d(e):d;m!==e&&c(m)}else s(d)},[a,e,s,c]);return[i,u]}function Jd({defaultProp:e,onChange:t}){const r=l.useState(e),[n]=r,s=l.useRef(n),a=ke(t);return l.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var Zd="VisuallyHidden",Br=l.forwardRef((e,t)=>o.jsx(G.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Br.displayName=Zd;var eu=Br,Vo="ToastProvider",[Ko,tu,ru]=Uo("Toast"),[Da,Bv]=vr("Toast",[ru]),[nu,bn]=Da(Vo),Fa=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[c,u]=l.useState(null),[d,p]=l.useState(0),m=l.useRef(!1),f=l.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vo}\`. Expected non-empty \`string\`.`),o.jsx(Ko.Provider,{scope:t,children:o.jsx(nu,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:c,onViewportChange:u,onToastAdd:l.useCallback(()=>p(g=>g+1),[]),onToastRemove:l.useCallback(()=>p(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:i})})};Fa.displayName=Vo;var Ba="ToastViewport",ou=["F8"],no="toast.viewportPause",oo="toast.viewportResume",$a=l.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=ou,label:s="Notifications ({hotkey})",...a}=e,i=bn(Ba,r),c=tu(r),u=l.useRef(null),d=l.useRef(null),p=l.useRef(null),m=l.useRef(null),f=de(t,m,i.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;l.useEffect(()=>{const x=y=>{var C;n.length!==0&&n.every(N=>y[N]||y.code===N)&&((C=m.current)==null||C.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),l.useEffect(()=>{const x=u.current,y=m.current;if(v&&x&&y){const b=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(no);y.dispatchEvent(j),i.isClosePausedRef.current=!0}},C=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(oo);y.dispatchEvent(j),i.isClosePausedRef.current=!1}},N=j=>{!x.contains(j.relatedTarget)&&C()},S=()=>{x.contains(document.activeElement)||C()};return x.addEventListener("focusin",b),x.addEventListener("focusout",N),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",C),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",C)}}},[v,i.isClosePausedRef]);const h=l.useCallback(({tabbingDirection:x})=>{const b=c().map(C=>{const N=C.ref.current,S=[N,...vu(N)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?b.reverse():b).flat()},[c]);return l.useEffect(()=>{const x=m.current;if(x){const y=b=>{var S,j,E;const C=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!C){const k=document.activeElement,A=b.shiftKey;if(b.target===x&&A){(S=d.current)==null||S.focus();return}const I=h({tabbingDirection:A?"backwards":"forwards"}),W=I.findIndex(R=>R===k);$n(I.slice(W+1))?b.preventDefault():A?(j=d.current)==null||j.focus():(E=p.current)==null||E.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[c,h]),o.jsxs(Gd,{ref:u,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(so,{ref:d,onFocusFromOutsideViewport:()=>{const x=h({tabbingDirection:"forwards"});$n(x)}}),o.jsx(Ko.Slot,{scope:r,children:o.jsx(G.ol,{tabIndex:-1,...a,ref:f})}),v&&o.jsx(so,{ref:p,onFocusFromOutsideViewport:()=>{const x=h({tabbingDirection:"backwards"});$n(x)}})]})});$a.displayName=Ba;var Ha="ToastFocusProxy",so=l.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=bn(Ha,r);return o.jsx(Br,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var d;const c=i.relatedTarget;!((d=a.viewport)!=null&&d.contains(c))&&n()}})});so.displayName=Ha;var wn="Toast",su="toast.swipeStart",au="toast.swipeMove",iu="toast.swipeCancel",cu="toast.swipeEnd",Wa=l.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[c=!0,u]=Tr({prop:n,defaultProp:s,onChange:a});return o.jsx(yn,{present:r||c,children:o.jsx(uu,{open:c,...i,ref:t,onClose:()=>u(!1),onPause:ke(e.onPause),onResume:ke(e.onResume),onSwipeStart:z(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:z(e.onSwipeMove,d=>{const{x:p,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:z(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:z(e.onSwipeEnd,d=>{const{x:p,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});Wa.displayName=wn;var[lu,du]=Da(wn,{onClose(){}}),uu=l.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:c,onPause:u,onResume:d,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:g,...v}=e,h=bn(wn,r),[x,y]=l.useState(null),b=de(t,R=>y(R)),C=l.useRef(null),N=l.useRef(null),S=s||h.duration,j=l.useRef(0),E=l.useRef(S),k=l.useRef(0),{onToastAdd:A,onToastRemove:L}=h,P=ke(()=>{var F;(x==null?void 0:x.contains(document.activeElement))&&((F=h.viewport)==null||F.focus()),i()}),I=l.useCallback(R=>{!R||R===1/0||(window.clearTimeout(k.current),j.current=new Date().getTime(),k.current=window.setTimeout(P,R))},[P]);l.useEffect(()=>{const R=h.viewport;if(R){const F=()=>{I(E.current),d==null||d()},O=()=>{const B=new Date().getTime()-j.current;E.current=E.current-B,window.clearTimeout(k.current),u==null||u()};return R.addEventListener(no,O),R.addEventListener(oo,F),()=>{R.removeEventListener(no,O),R.removeEventListener(oo,F)}}},[h.viewport,S,u,d,I]),l.useEffect(()=>{a&&!h.isClosePausedRef.current&&I(S)},[a,S,h.isClosePausedRef,I]),l.useEffect(()=>(A(),()=>L()),[A,L]);const W=l.useMemo(()=>x?Ya(x):null,[x]);return h.viewport?o.jsxs(o.Fragment,{children:[W&&o.jsx(fu,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),o.jsx(lu,{scope:r,onClose:P,children:gr.createPortal(o.jsx(Ko.ItemSlot,{scope:r,children:o.jsx(Kd,{asChild:!0,onEscapeKeyDown:z(c,()=>{h.isFocusedToastEscapeKeyDownRef.current||P(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(G.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":h.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:z(e.onKeyDown,R=>{R.key==="Escape"&&(c==null||c(R.nativeEvent),R.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:z(e.onPointerDown,R=>{R.button===0&&(C.current={x:R.clientX,y:R.clientY})}),onPointerMove:z(e.onPointerMove,R=>{if(!C.current)return;const F=R.clientX-C.current.x,O=R.clientY-C.current.y,B=!!N.current,T=["left","right"].includes(h.swipeDirection),D=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,ue=T?D(0,F):0,$=T?0:D(0,O),q=R.pointerType==="touch"?10:2,X={x:ue,y:$},fe={originalEvent:R,delta:X};B?(N.current=X,Gr(au,m,fe,{discrete:!1})):Rs(X,h.swipeDirection,q)?(N.current=X,Gr(su,p,fe,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(F)>q||Math.abs(O)>q)&&(C.current=null)}),onPointerUp:z(e.onPointerUp,R=>{const F=N.current,O=R.target;if(O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),N.current=null,C.current=null,F){const B=R.currentTarget,T={originalEvent:R,delta:F};Rs(F,h.swipeDirection,h.swipeThreshold)?Gr(cu,g,T,{discrete:!0}):Gr(iu,f,T,{discrete:!0}),B.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),fu=e=>{const{__scopeToast:t,children:r,...n}=e,s=bn(wn,t),[a,i]=l.useState(!1),[c,u]=l.useState(!1);return pu(()=>i(!0)),l.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:o.jsx(zo,{asChild:!0,children:o.jsx(Br,{...n,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},hu="ToastTitle",Ua=l.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(G.div,{...n,ref:t})});Ua.displayName=hu;var mu="ToastDescription",za=l.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(G.div,{...n,ref:t})});za.displayName=mu;var Va="ToastAction",Ka=l.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(qa,{altText:r,asChild:!0,children:o.jsx(Go,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Va}\`. Expected non-empty \`string\`.`),null)});Ka.displayName=Va;var Ga="ToastClose",Go=l.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=du(Ga,r);return o.jsx(qa,{asChild:!0,children:o.jsx(G.button,{type:"button",...n,ref:t,onClick:z(e.onClick,s.onClose)})})});Go.displayName=Ga;var qa=l.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(G.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Ya(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),gu(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Ya(n))}}),t}function Gr(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ia(s,a):s.dispatchEvent(a)}var Rs=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function pu(e=()=>{}){const t=ke(e);ge(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function gu(e){return e.nodeType===e.ELEMENT_NODE}function vu(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $n(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var xu=Fa,Qa=$a,Xa=Wa,Ja=Ua,Za=za,ei=Ka,ti=Go;function ri(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ri(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ni(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ri(e))&&(n&&(n+=" "),n+=t);return n}const Ts=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ps=ni,qo=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Ps(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(d=>{const p=r==null?void 0:r[d],m=a==null?void 0:a[d];if(p===null)return null;const f=Ts(p)||Ts(m);return s[d][f]}),c=r&&Object.entries(r).reduce((d,p)=>{let[m,f]=p;return f===void 0||(d[m]=f),d},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,p)=>{let{class:m,className:f,...g}=p;return Object.entries(g).every(v=>{let[h,x]=v;return Array.isArray(x)?x.includes({...a,...c}[h]):{...a,...c}[h]===x})?[...d,m,f]:d},[]);return Ps(e,i,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oi=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=l.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...c},u)=>l.createElement("svg",{ref:u,...bu,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:oi("lucide",s),...c},[...i.map(([d,p])=>l.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const r=l.forwardRef(({className:n,...s},a)=>l.createElement(wu,{ref:a,iconNode:t,className:oi(`lucide-${yu(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ve("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=ve("BookPlus",[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ve("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ve("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yo="-",Pu=e=>{const t=Mu(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const c=i.split(Yo);return c[0]===""&&c.length!==1&&c.shift(),li(c,t)||Au(i)},getConflictingClassGroupIds:(i,c)=>{const u=r[i]||[];return c&&n[i]?[...u,...n[i]]:u}}},li=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?li(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Yo);return(i=t.validators.find(({validator:c})=>c(a)))==null?void 0:i.classGroupId},Is=/^\[(.+)\]$/,Au=e=>{if(Is.test(e)){const t=Is.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Mu=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ou(Object.entries(e.classGroups),r).forEach(([a,i])=>{lo(i,n,a,t)}),n},lo=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Os(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Iu(s)){lo(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{lo(i,Os(t,a),r,n)})})},Os=(e,t)=>{let r=e;return t.split(Yo).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Iu=e=>e.isThemeGetter,Ou=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,c])=>[t+i,c])):a);return[r,s]}):e,_u=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},di="!",Lu=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=c=>{const u=[];let d=0,p=0,m;for(let x=0;x<c.length;x++){let y=c[x];if(d===0){if(y===s&&(n||c.slice(x,x+a)===t)){u.push(c.slice(p,x)),p=x+a;continue}if(y==="/"){m=x;continue}}y==="["?d++:y==="]"&&d--}const f=u.length===0?c:c.substring(p),g=f.startsWith(di),v=g?f.substring(1):f,h=m&&m>p?m-p:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:h}};return r?c=>r({className:c,parseClassName:i}):i},Du=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Fu=e=>({cache:_u(e.cacheSize),parseClassName:Lu(e),...Pu(e)}),Bu=/\s+/,$u=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(Bu);let c="";for(let u=i.length-1;u>=0;u-=1){const d=i[u],{modifiers:p,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}=r(d);let v=!!g,h=n(v?f.substring(0,g):f);if(!h){if(!v){c=d+(c.length>0?" "+c:c);continue}if(h=n(f),!h){c=d+(c.length>0?" "+c:c);continue}v=!1}const x=Du(p).join(":"),y=m?x+di:x,b=y+h;if(a.includes(b))continue;a.push(b);const C=s(h,v);for(let N=0;N<C.length;++N){const S=C[N];a.push(y+S)}c=d+(c.length>0?" "+c:c)}return c};function Hu(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ui(t))&&(n&&(n+=" "),n+=r);return n}const ui=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ui(e[n]))&&(r&&(r+=" "),r+=t);return r};function Wu(e,...t){let r,n,s,a=i;function i(u){const d=t.reduce((p,m)=>m(p),e());return r=Fu(d),n=r.cache.get,s=r.cache.set,a=c,c(u)}function c(u){const d=n(u);if(d)return d;const p=$u(u,r);return s(u,p),p}return function(){return a(Hu.apply(null,arguments))}}const le=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},fi=/^\[(?:([a-z-]+):)?(.+)\]$/i,Uu=/^\d+\/\d+$/,zu=new Set(["px","full","screen"]),Vu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ku=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,et=e=>Gt(e)||zu.has(e)||Uu.test(e),at=e=>xr(e,"length",nf),Gt=e=>!!e&&!Number.isNaN(Number(e)),Hn=e=>xr(e,"number",Gt),Cr=e=>!!e&&Number.isInteger(Number(e)),Qu=e=>e.endsWith("%")&&Gt(e.slice(0,-1)),K=e=>fi.test(e),it=e=>Vu.test(e),Xu=new Set(["length","size","percentage"]),Ju=e=>xr(e,Xu,hi),Zu=e=>xr(e,"position",hi),ef=new Set(["image","url"]),tf=e=>xr(e,ef,sf),rf=e=>xr(e,"",of),Nr=()=>!0,xr=(e,t,r)=>{const n=fi.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},nf=e=>Ku.test(e)&&!Gu.test(e),hi=()=>!1,of=e=>qu.test(e),sf=e=>Yu.test(e),af=()=>{const e=le("colors"),t=le("spacing"),r=le("blur"),n=le("brightness"),s=le("borderColor"),a=le("borderRadius"),i=le("borderSpacing"),c=le("borderWidth"),u=le("contrast"),d=le("grayscale"),p=le("hueRotate"),m=le("invert"),f=le("gap"),g=le("gradientColorStops"),v=le("gradientColorStopPositions"),h=le("inset"),x=le("margin"),y=le("opacity"),b=le("padding"),C=le("saturate"),N=le("scale"),S=le("sepia"),j=le("skew"),E=le("space"),k=le("translate"),A=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",K,t],I=()=>[K,t],W=()=>["",et,at],R=()=>["auto",Gt,K],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",K],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Gt,K];return{cacheSize:500,separator:":",theme:{colors:[Nr],spacing:[et,at],blur:["none","",it,K],brightness:$(),borderColor:[e],borderRadius:["none","","full",it,K],borderSpacing:I(),borderWidth:W(),contrast:$(),grayscale:D(),hueRotate:$(),invert:D(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[Qu,at],inset:P(),margin:P(),opacity:$(),padding:I(),saturate:$(),scale:$(),sepia:D(),skew:$(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[it]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),K]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cr,K]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Cr,K]}],"grid-cols":[{"grid-cols":[Nr]}],"col-start-end":[{col:["auto",{span:["full",Cr,K]},K]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Nr]}],"row-start-end":[{row:["auto",{span:[Cr,K]},K]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,t]}],"min-w":[{"min-w":[K,t,"min","max","fit"]}],"max-w":[{"max-w":[K,t,"none","full","min","max","fit","prose",{screen:[it]},it]}],h:[{h:[K,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,t,"auto","min","max","fit"]}],"font-size":[{text:["base",it,at]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hn]}],"font-family":[{font:[Nr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",Gt,Hn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",et,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",et,at]}],"underline-offset":[{"underline-offset":["auto",et,K]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Zu]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ju]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tf]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[et,K]}],"outline-w":[{outline:[et,at]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[et,at]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",it,rf]}],"shadow-color":[{shadow:[Nr]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",it,K]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[C]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Cr,K]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[et,at,Hn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cf=Wu(af);function oe(...e){return cf(ni(e))}const lf=xu,mi=l.forwardRef(({className:e,...t},r)=>o.jsx(Qa,{ref:r,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mi.displayName=Qa.displayName;const df=qo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pi=l.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(Xa,{ref:n,className:oe(df({variant:t}),e),...r}));pi.displayName=Xa.displayName;const uf=l.forwardRef(({className:e,...t},r)=>o.jsx(ei,{ref:r,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));uf.displayName=ei.displayName;const gi=l.forwardRef(({className:e,...t},r)=>o.jsx(ti,{ref:r,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(ci,{className:"h-4 w-4"})}));gi.displayName=ti.displayName;const vi=l.forwardRef(({className:e,...t},r)=>o.jsx(Ja,{ref:r,className:oe("text-sm font-semibold",e),...t}));vi.displayName=Ja.displayName;const xi=l.forwardRef(({className:e,...t},r)=>o.jsx(Za,{ref:r,className:oe("text-sm opacity-90",e),...t}));xi.displayName=Za.displayName;function ff(){const{toasts:e}=Pd();return o.jsxs(lf,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return o.jsxs(pi,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(vi,{children:r}),n&&o.jsx(xi,{children:n})]}),s,o.jsx(gi,{})]},t)}),o.jsx(mi,{})]})}var _s=["light","dark"],hf="(prefers-color-scheme: dark)",mf=l.createContext(void 0),pf={setTheme:e=>{},themes:[]},gf=()=>{var e;return(e=l.useContext(mf))!=null?e:pf};l.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:c,nonce:u})=>{let d=a==="system",p=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=s?_s.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,h=!1,x=!0)=>{let y=i?i[v]:v,b=h?v+"|| ''":`'${y}'`,C="";return s&&x&&!h&&_s.includes(v)&&(C+=`d.style.colorScheme = '${v}';`),r==="class"?h||y?C+=`c.add(${b})`:C+="null":y&&(C+=`d[s](n,${b})`),C},g=e?`!function(){${p}${f(e)}}()`:n?`!function(){try{${p}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${hf}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${d?"":"else{"+f(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${m}}catch(t){}}();`;return l.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:g}})});var vf=e=>{switch(e){case"success":return bf;case"info":return Sf;case"warning":return wf;case"error":return Cf;default:return null}},xf=Array(12).fill(0),yf=({visible:e})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},M.createElement("div",{className:"sonner-spinner"},xf.map((t,r)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bf=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wf=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Sf=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Cf=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Nf=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},uo=1,jf=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:uo++,a=this.toasts.find(c=>c.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:i,title:r}):c):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(kf(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:i,description:c})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,c=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:i,description:c})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,c=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:i,description:c})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||uo++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Me=new jf,Ef=(e,t)=>{let r=(t==null?void 0:t.id)||uo++;return Me.addToast({title:e,...t,id:r}),r},kf=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Rf=Ef,Tf=()=>Me.toasts,be=Object.assign(Rf,{success:Me.success,info:Me.info,warning:Me.warning,error:Me.error,custom:Me.custom,message:Me.message,promise:Me.promise,dismiss:Me.dismiss,loading:Me.loading},{getHistory:Tf});function Pf(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Pf(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qr(e){return e.label!==void 0}var Af=3,Mf="32px",If=4e3,Of=356,_f=14,Lf=20,Df=200;function Ff(...e){return e.filter(Boolean).join(" ")}var Bf=e=>{var t,r,n,s,a,i,c,u,d,p;let{invert:m,toast:f,unstyled:g,interacting:v,setHeights:h,visibleToasts:x,heights:y,index:b,toasts:C,expanded:N,removeToast:S,defaultRichColors:j,closeButton:E,style:k,cancelButtonStyle:A,actionButtonStyle:L,className:P="",descriptionClassName:I="",duration:W,position:R,gap:F,loadingIcon:O,expandByDefault:B,classNames:T,icons:D,closeButtonAriaLabel:ue="Close toast",pauseWhenPageIsHidden:$,cn:q}=e,[X,fe]=M.useState(!1),[Re,ae]=M.useState(!1),[H,te]=M.useState(!1),[he,J]=M.useState(!1),[re,Z]=M.useState(0),[Ne,Pe]=M.useState(0),ot=M.useRef(null),_e=M.useRef(null),Nt=b===0,On=b+1<=x,xe=f.type,$t=f.dismissible!==!1,zl=f.className||"",Vl=f.descriptionClassName||"",Ur=M.useMemo(()=>y.findIndex(V=>V.toastId===f.id)||0,[y,f.id]),Kl=M.useMemo(()=>{var V;return(V=f.closeButton)!=null?V:E},[f.closeButton,E]),xs=M.useMemo(()=>f.duration||W||If,[f.duration,W]),_n=M.useRef(0),Ht=M.useRef(0),ys=M.useRef(0),Wt=M.useRef(null),[bs,Gl]=R.split("-"),ws=M.useMemo(()=>y.reduce((V,ce,ie)=>ie>=Ur?V:V+ce.height,0),[y,Ur]),Ss=Nf(),ql=f.invert||m,Ln=xe==="loading";Ht.current=M.useMemo(()=>Ur*F+ws,[Ur,ws]),M.useEffect(()=>{fe(!0)},[]),M.useLayoutEffect(()=>{if(!X)return;let V=_e.current,ce=V.style.height;V.style.height="auto";let ie=V.getBoundingClientRect().height;V.style.height=ce,Pe(ie),h(ze=>ze.find(Ve=>Ve.toastId===f.id)?ze.map(Ve=>Ve.toastId===f.id?{...Ve,height:ie}:Ve):[{toastId:f.id,height:ie,position:f.position},...ze])},[X,f.title,f.description,h,f.id]);let st=M.useCallback(()=>{ae(!0),Z(Ht.current),h(V=>V.filter(ce=>ce.toastId!==f.id)),setTimeout(()=>{S(f)},Df)},[f,S,h,Ht]);M.useEffect(()=>{if(f.promise&&xe==="loading"||f.duration===1/0||f.type==="loading")return;let V,ce=xs;return N||v||$&&Ss?(()=>{if(ys.current<_n.current){let ie=new Date().getTime()-_n.current;ce=ce-ie}ys.current=new Date().getTime()})():ce!==1/0&&(_n.current=new Date().getTime(),V=setTimeout(()=>{var ie;(ie=f.onAutoClose)==null||ie.call(f,f),st()},ce)),()=>clearTimeout(V)},[N,v,B,f,xs,st,f.promise,xe,$,Ss]),M.useEffect(()=>{let V=_e.current;if(V){let ce=V.getBoundingClientRect().height;return Pe(ce),h(ie=>[{toastId:f.id,height:ce,position:f.position},...ie]),()=>h(ie=>ie.filter(ze=>ze.toastId!==f.id))}},[h,f.id]),M.useEffect(()=>{f.delete&&st()},[st,f.delete]);function Yl(){return D!=null&&D.loading?M.createElement("div",{className:"sonner-loader","data-visible":xe==="loading"},D.loading):O?M.createElement("div",{className:"sonner-loader","data-visible":xe==="loading"},O):M.createElement(yf,{visible:xe==="loading"})}return M.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:_e,className:q(P,zl,T==null?void 0:T.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[xe],(r=f==null?void 0:f.classNames)==null?void 0:r[xe]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:j,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":X,"data-promise":!!f.promise,"data-removed":Re,"data-visible":On,"data-y-position":bs,"data-x-position":Gl,"data-index":b,"data-front":Nt,"data-swiping":H,"data-dismissible":$t,"data-type":xe,"data-invert":ql,"data-swipe-out":he,"data-expanded":!!(N||B&&X),style:{"--index":b,"--toasts-before":b,"--z-index":C.length-b,"--offset":`${Re?re:Ht.current}px`,"--initial-height":B?"auto":`${Ne}px`,...k,...f.style},onPointerDown:V=>{Ln||!$t||(ot.current=new Date,Z(Ht.current),V.target.setPointerCapture(V.pointerId),V.target.tagName!=="BUTTON"&&(te(!0),Wt.current={x:V.clientX,y:V.clientY}))},onPointerUp:()=>{var V,ce,ie,ze;if(he||!$t)return;Wt.current=null;let Ve=Number(((V=_e.current)==null?void 0:V.style.getPropertyValue("--swipe-amount").replace("px",""))||0),zr=new Date().getTime()-((ce=ot.current)==null?void 0:ce.getTime()),Ql=Math.abs(Ve)/zr;if(Math.abs(Ve)>=Lf||Ql>.11){Z(Ht.current),(ie=f.onDismiss)==null||ie.call(f,f),st(),J(!0);return}(ze=_e.current)==null||ze.style.setProperty("--swipe-amount","0px"),te(!1)},onPointerMove:V=>{var ce;if(!Wt.current||!$t)return;let ie=V.clientY-Wt.current.y,ze=V.clientX-Wt.current.x,Ve=(bs==="top"?Math.min:Math.max)(0,ie),zr=V.pointerType==="touch"?10:2;Math.abs(Ve)>zr?(ce=_e.current)==null||ce.style.setProperty("--swipe-amount",`${ie}px`):Math.abs(ze)>zr&&(Wt.current=null)}},Kl&&!f.jsx?M.createElement("button",{"aria-label":ue,"data-disabled":Ln,"data-close-button":!0,onClick:Ln||!$t?()=>{}:()=>{var V;st(),(V=f.onDismiss)==null||V.call(f,f)},className:q(T==null?void 0:T.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||M.isValidElement(f.title)?f.jsx||f.title:M.createElement(M.Fragment,null,xe||f.icon||f.promise?M.createElement("div",{"data-icon":"",className:q(T==null?void 0:T.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Yl():null,f.type!=="loading"?f.icon||(D==null?void 0:D[xe])||vf(xe):null):null,M.createElement("div",{"data-content":"",className:q(T==null?void 0:T.content,(i=f==null?void 0:f.classNames)==null?void 0:i.content)},M.createElement("div",{"data-title":"",className:q(T==null?void 0:T.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},f.title),f.description?M.createElement("div",{"data-description":"",className:q(I,Vl,T==null?void 0:T.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},f.description):null),M.isValidElement(f.cancel)?f.cancel:f.cancel&&qr(f.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:V=>{var ce,ie;qr(f.cancel)&&$t&&((ie=(ce=f.cancel).onClick)==null||ie.call(ce,V),st())},className:q(T==null?void 0:T.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,M.isValidElement(f.action)?f.action:f.action&&qr(f.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||L,onClick:V=>{var ce,ie;qr(f.action)&&(V.defaultPrevented||((ie=(ce=f.action).onClick)==null||ie.call(ce,V),st()))},className:q(T==null?void 0:T.actionButton,(p=f==null?void 0:f.classNames)==null?void 0:p.actionButton)},f.action.label):null))};function Ls(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var $f=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:c,theme:u="light",richColors:d,duration:p,style:m,visibleToasts:f=Af,toastOptions:g,dir:v=Ls(),gap:h=_f,loadingIcon:x,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:C,cn:N=Ff}=e,[S,j]=M.useState([]),E=M.useMemo(()=>Array.from(new Set([r].concat(S.filter($=>$.position).map($=>$.position)))),[S,r]),[k,A]=M.useState([]),[L,P]=M.useState(!1),[I,W]=M.useState(!1),[R,F]=M.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=M.useRef(null),B=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=M.useRef(null),D=M.useRef(!1),ue=M.useCallback($=>{var q;(q=S.find(X=>X.id===$.id))!=null&&q.delete||Me.dismiss($.id),j(X=>X.filter(({id:fe})=>fe!==$.id))},[S]);return M.useEffect(()=>Me.subscribe($=>{if($.dismiss){j(q=>q.map(X=>X.id===$.id?{...X,delete:!0}:X));return}setTimeout(()=>{Ca.flushSync(()=>{j(q=>{let X=q.findIndex(fe=>fe.id===$.id);return X!==-1?[...q.slice(0,X),{...q[X],...$},...q.slice(X+1)]:[$,...q]})})})}),[]),M.useEffect(()=>{if(u!=="system"){F(u);return}u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{F($?"dark":"light")})},[u]),M.useEffect(()=>{S.length<=1&&P(!1)},[S]),M.useEffect(()=>{let $=q=>{var X,fe;n.every(Re=>q[Re]||q.code===Re)&&(P(!0),(X=O.current)==null||X.focus()),q.code==="Escape"&&(document.activeElement===O.current||(fe=O.current)!=null&&fe.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[n]),M.useEffect(()=>{if(O.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,D.current=!1)}},[O.current]),S.length?M.createElement("section",{"aria-label":`${b} ${B}`,tabIndex:-1},E.map(($,q)=>{var X;let[fe,Re]=$.split("-");return M.createElement("ol",{key:$,dir:v==="auto"?Ls():v,tabIndex:-1,ref:O,className:i,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":fe,"data-x-position":Re,style:{"--front-toast-height":`${((X=k[0])==null?void 0:X.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||Mf,"--width":`${Of}px`,"--gap":`${h}px`,...m},onBlur:ae=>{D.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(D.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||D.current||(D.current=!0,T.current=ae.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{I||P(!1)},onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},S.filter(ae=>!ae.position&&q===0||ae.position===$).map((ae,H)=>{var te,he;return M.createElement(Bf,{key:ae.id,icons:y,index:H,toast:ae,defaultRichColors:d,duration:(te=g==null?void 0:g.duration)!=null?te:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:f,closeButton:(he=g==null?void 0:g.closeButton)!=null?he:a,interacting:I,position:$,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ue,toasts:S.filter(J=>J.position==ae.position),heights:k.filter(J=>J.position==ae.position),setHeights:A,expandByDefault:s,gap:h,loadingIcon:x,expanded:L,pauseWhenPageIsHidden:C,cn:N})}))})):null};const Hf=({...e})=>{const{theme:t="system"}=gf();return o.jsx($f,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Wf=Xl.useId||(()=>{}),Uf=0;function Sn(e){const[t,r]=l.useState(Wf());return ge(()=>{r(n=>n??String(Uf++))},[e]),t?`radix-${t}`:""}const zf=["top","right","bottom","left"],xt=Math.min,Ie=Math.max,an=Math.round,Yr=Math.floor,yt=e=>({x:e,y:e}),Vf={left:"right",right:"left",bottom:"top",top:"bottom"},Kf={start:"end",end:"start"};function fo(e,t,r){return Ie(e,xt(t,r))}function rt(e,t){return typeof e=="function"?e(t):e}function nt(e){return e.split("-")[0]}function yr(e){return e.split("-")[1]}function Qo(e){return e==="x"?"y":"x"}function Xo(e){return e==="y"?"height":"width"}function bt(e){return["top","bottom"].includes(nt(e))?"y":"x"}function Jo(e){return Qo(bt(e))}function Gf(e,t,r){r===void 0&&(r=!1);const n=yr(e),s=Jo(e),a=Xo(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=cn(i)),[i,cn(i)]}function qf(e){const t=cn(e);return[ho(e),t,ho(t)]}function ho(e){return e.replace(/start|end/g,t=>Kf[t])}function Yf(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:i;default:return[]}}function Qf(e,t,r,n){const s=yr(e);let a=Yf(nt(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(ho)))),a}function cn(e){return e.replace(/left|right|bottom|top/g,t=>Vf[t])}function Xf(e){return{top:0,right:0,bottom:0,left:0,...e}}function yi(e){return typeof e!="number"?Xf(e):{top:e,right:e,bottom:e,left:e}}function ln(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ds(e,t,r){let{reference:n,floating:s}=e;const a=bt(t),i=Jo(t),c=Xo(i),u=nt(t),d=a==="y",p=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,f=n[c]/2-s[c]/2;let g;switch(u){case"top":g={x:p,y:n.y-s.height};break;case"bottom":g={x:p,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-s.width,y:m};break;default:g={x:n.x,y:n.y}}switch(yr(t)){case"start":g[i]-=f*(r&&d?-1:1);break;case"end":g[i]+=f*(r&&d?-1:1);break}return g}const Jf=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,c=a.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:m}=Ds(d,n,u),f=n,g={},v=0;for(let h=0;h<c.length;h++){const{name:x,fn:y}=c[h],{x:b,y:C,data:N,reset:S}=await y({x:p,y:m,initialPlacement:n,placement:f,strategy:s,middlewareData:g,rects:d,platform:i,elements:{reference:e,floating:t}});p=b??p,m=C??m,g={...g,[x]:{...g[x],...N}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(d=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:p,y:m}=Ds(d,f,u)),h=-1)}return{x:p,y:m,placement:f,strategy:s,middlewareData:g}};async function Ar(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:c,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:f=!1,padding:g=0}=rt(t,e),v=yi(g),x=c[f?m==="floating"?"reference":"floating":m],y=ln(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:u})),b=m==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),N=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},S=ln(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:C,strategy:u}):b);return{top:(y.top-S.top+v.top)/N.y,bottom:(S.bottom-y.bottom+v.bottom)/N.y,left:(y.left-S.left+v.left)/N.x,right:(S.right-y.right+v.right)/N.x}}const Zf=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:c,middlewareData:u}=t,{element:d,padding:p=0}=rt(e,t)||{};if(d==null)return{};const m=yi(p),f={x:r,y:n},g=Jo(s),v=Xo(g),h=await i.getDimensions(d),x=g==="y",y=x?"top":"left",b=x?"bottom":"right",C=x?"clientHeight":"clientWidth",N=a.reference[v]+a.reference[g]-f[g]-a.floating[v],S=f[g]-a.reference[g],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let E=j?j[C]:0;(!E||!await(i.isElement==null?void 0:i.isElement(j)))&&(E=c.floating[C]||a.floating[v]);const k=N/2-S/2,A=E/2-h[v]/2-1,L=xt(m[y],A),P=xt(m[b],A),I=L,W=E-h[v]-P,R=E/2-h[v]/2+k,F=fo(I,R,W),O=!u.arrow&&yr(s)!=null&&R!==F&&a.reference[v]/2-(R<I?L:P)-h[v]/2<0,B=O?R<I?R-I:R-W:0;return{[g]:f[g]+B,data:{[g]:F,centerOffset:R-F-B,...O&&{alignmentOffset:B}},reset:O}}}),eh=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:h=!0,...x}=rt(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=nt(s),b=bt(c),C=nt(c)===c,N=await(u.isRTL==null?void 0:u.isRTL(d.floating)),S=f||(C||!h?[cn(c)]:qf(c)),j=v!=="none";!f&&j&&S.push(...Qf(c,h,v,N));const E=[c,...S],k=await Ar(t,x),A=[];let L=((n=a.flip)==null?void 0:n.overflows)||[];if(p&&A.push(k[y]),m){const R=Gf(s,i,N);A.push(k[R[0]],k[R[1]])}if(L=[...L,{placement:s,overflows:A}],!A.every(R=>R<=0)){var P,I;const R=(((P=a.flip)==null?void 0:P.index)||0)+1,F=E[R];if(F)return{data:{index:R,overflows:L},reset:{placement:F}};let O=(I=L.filter(B=>B.overflows[0]<=0).sort((B,T)=>B.overflows[1]-T.overflows[1])[0])==null?void 0:I.placement;if(!O)switch(g){case"bestFit":{var W;const B=(W=L.filter(T=>{if(j){const D=bt(T.placement);return D===b||D==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(D=>D>0).reduce((D,ue)=>D+ue,0)]).sort((T,D)=>T[1]-D[1])[0])==null?void 0:W[0];B&&(O=B);break}case"initialPlacement":O=c;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function Fs(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bs(e){return zf.some(t=>e[t]>=0)}const th=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=rt(e,t);switch(n){case"referenceHidden":{const a=await Ar(t,{...s,elementContext:"reference"}),i=Fs(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Bs(i)}}}case"escaped":{const a=await Ar(t,{...s,altBoundary:!0}),i=Fs(a,r.floating);return{data:{escapedOffsets:i,escaped:Bs(i)}}}default:return{}}}}};async function rh(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=nt(r),c=yr(r),u=bt(r)==="y",d=["left","top"].includes(i)?-1:1,p=a&&u?-1:1,m=rt(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof v=="number"&&(g=c==="end"?v*-1:v),u?{x:g*p,y:f*d}:{x:f*d,y:g*p}}const nh=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:c}=t,u=await rh(t,e);return i===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:a+u.y,data:{...u,placement:i}}}}},oh=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...u}=rt(e,t),d={x:r,y:n},p=await Ar(t,u),m=bt(nt(s)),f=Qo(m);let g=d[f],v=d[m];if(a){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+p[x],C=g-p[y];g=fo(b,g,C)}if(i){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",b=v+p[x],C=v-p[y];v=fo(b,v,C)}const h=c.fn({...t,[f]:g,[m]:v});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[f]:a,[m]:i}}}}}},sh=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=rt(e,t),p={x:r,y:n},m=bt(s),f=Qo(m);let g=p[f],v=p[m];const h=rt(c,t),x=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(u){const C=f==="y"?"height":"width",N=a.reference[f]-a.floating[C]+x.mainAxis,S=a.reference[f]+a.reference[C]-x.mainAxis;g<N?g=N:g>S&&(g=S)}if(d){var y,b;const C=f==="y"?"width":"height",N=["top","left"].includes(nt(s)),S=a.reference[m]-a.floating[C]+(N&&((y=i.offset)==null?void 0:y[m])||0)+(N?0:x.crossAxis),j=a.reference[m]+a.reference[C]+(N?0:((b=i.offset)==null?void 0:b[m])||0)-(N?x.crossAxis:0);v<S?v=S:v>j&&(v=j)}return{[f]:g,[m]:v}}}},ah=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:c}=t,{apply:u=()=>{},...d}=rt(e,t),p=await Ar(t,d),m=nt(s),f=yr(s),g=bt(s)==="y",{width:v,height:h}=a.floating;let x,y;m==="top"||m==="bottom"?(x=m,y=f===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(y=m,x=f==="end"?"top":"bottom");const b=h-p.top-p.bottom,C=v-p.left-p.right,N=xt(h-p[x],b),S=xt(v-p[y],C),j=!t.middlewareData.shift;let E=N,k=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=b),j&&!f){const L=Ie(p.left,0),P=Ie(p.right,0),I=Ie(p.top,0),W=Ie(p.bottom,0);g?k=v-2*(L!==0||P!==0?L+P:Ie(p.left,p.right)):E=h-2*(I!==0||W!==0?I+W:Ie(p.top,p.bottom))}await u({...t,availableWidth:k,availableHeight:E});const A=await i.getDimensions(c.floating);return v!==A.width||h!==A.height?{reset:{rects:!0}}:{}}}};function Cn(){return typeof window<"u"}function br(e){return bi(e)?(e.nodeName||"").toLowerCase():"#document"}function Oe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xe(e){var t;return(t=(bi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bi(e){return Cn()?e instanceof Node||e instanceof Oe(e).Node:!1}function We(e){return Cn()?e instanceof Element||e instanceof Oe(e).Element:!1}function Qe(e){return Cn()?e instanceof HTMLElement||e instanceof Oe(e).HTMLElement:!1}function $s(e){return!Cn()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Oe(e).ShadowRoot}function $r(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ue(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function ih(e){return["table","td","th"].includes(br(e))}function Nn(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Zo(e){const t=es(),r=We(e)?Ue(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ch(e){let t=wt(e);for(;Qe(t)&&!mr(t);){if(Zo(t))return t;if(Nn(t))return null;t=wt(t)}return null}function es(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mr(e){return["html","body","#document"].includes(br(e))}function Ue(e){return Oe(e).getComputedStyle(e)}function jn(e){return We(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wt(e){if(br(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$s(e)&&e.host||Xe(e);return $s(t)?t.host:t}function wi(e){const t=wt(e);return mr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qe(t)&&$r(t)?t:wi(t)}function Mr(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=wi(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=Oe(s);if(a){const c=mo(i);return t.concat(i,i.visualViewport||[],$r(s)?s:[],c&&r?Mr(c):[])}return t.concat(s,Mr(s,[],r))}function mo(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Si(e){const t=Ue(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Qe(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,c=an(r)!==a||an(n)!==i;return c&&(r=a,n=i),{width:r,height:n,$:c}}function ts(e){return We(e)?e:e.contextElement}function qt(e){const t=ts(e);if(!Qe(t))return yt(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Si(t);let i=(a?an(r.width):r.width)/n,c=(a?an(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const lh=yt(0);function Ci(e){const t=Oe(e);return!es()||!t.visualViewport?lh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dh(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Oe(e)?!1:t}function _t(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=ts(e);let i=yt(1);t&&(n?We(n)&&(i=qt(n)):i=qt(e));const c=dh(a,r,n)?Ci(a):yt(0);let u=(s.left+c.x)/i.x,d=(s.top+c.y)/i.y,p=s.width/i.x,m=s.height/i.y;if(a){const f=Oe(a),g=n&&We(n)?Oe(n):n;let v=f,h=mo(v);for(;h&&n&&g!==v;){const x=qt(h),y=h.getBoundingClientRect(),b=Ue(h),C=y.left+(h.clientLeft+parseFloat(b.paddingLeft))*x.x,N=y.top+(h.clientTop+parseFloat(b.paddingTop))*x.y;u*=x.x,d*=x.y,p*=x.x,m*=x.y,u+=C,d+=N,v=Oe(h),h=mo(v)}}return ln({width:p,height:m,x:u,y:d})}function uh(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Xe(n),c=t?Nn(t.floating):!1;if(n===i||c&&a)return r;let u={scrollLeft:0,scrollTop:0},d=yt(1);const p=yt(0),m=Qe(n);if((m||!m&&!a)&&((br(n)!=="body"||$r(i))&&(u=jn(n)),Qe(n))){const f=_t(n);d=qt(n),p.x=f.x+n.clientLeft,p.y=f.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+p.x,y:r.y*d.y-u.scrollTop*d.y+p.y}}function fh(e){return Array.from(e.getClientRects())}function po(e,t){const r=jn(e).scrollLeft;return t?t.left+r:_t(Xe(e)).left+r}function hh(e){const t=Xe(e),r=jn(e),n=e.ownerDocument.body,s=Ie(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ie(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+po(e);const c=-r.scrollTop;return Ue(n).direction==="rtl"&&(i+=Ie(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:c}}function mh(e,t){const r=Oe(e),n=Xe(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,c=0,u=0;if(s){a=s.width,i=s.height;const d=es();(!d||d&&t==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:a,height:i,x:c,y:u}}function ph(e,t){const r=_t(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Qe(e)?qt(e):yt(1),i=e.clientWidth*a.x,c=e.clientHeight*a.y,u=s*a.x,d=n*a.y;return{width:i,height:c,x:u,y:d}}function Hs(e,t,r){let n;if(t==="viewport")n=mh(e,r);else if(t==="document")n=hh(Xe(e));else if(We(t))n=ph(t,r);else{const s=Ci(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return ln(n)}function Ni(e,t){const r=wt(e);return r===t||!We(r)||mr(r)?!1:Ue(r).position==="fixed"||Ni(r,t)}function gh(e,t){const r=t.get(e);if(r)return r;let n=Mr(e,[],!1).filter(c=>We(c)&&br(c)!=="body"),s=null;const a=Ue(e).position==="fixed";let i=a?wt(e):e;for(;We(i)&&!mr(i);){const c=Ue(i),u=Zo(i);!u&&c.position==="fixed"&&(s=null),(a?!u&&!s:!u&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||$r(i)&&!u&&Ni(e,i))?n=n.filter(p=>p!==i):s=c,i=wt(i)}return t.set(e,n),n}function vh(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Nn(t)?[]:gh(t,this._c):[].concat(r),n],c=i[0],u=i.reduce((d,p)=>{const m=Hs(t,p,s);return d.top=Ie(m.top,d.top),d.right=xt(m.right,d.right),d.bottom=xt(m.bottom,d.bottom),d.left=Ie(m.left,d.left),d},Hs(t,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function xh(e){const{width:t,height:r}=Si(e);return{width:t,height:r}}function yh(e,t,r){const n=Qe(t),s=Xe(t),a=r==="fixed",i=_t(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const u=yt(0);if(n||!n&&!a)if((br(t)!=="body"||$r(s))&&(c=jn(t)),n){const g=_t(t,!0,a,t);u.x=g.x+t.clientLeft,u.y=g.y+t.clientTop}else s&&(u.x=po(s));let d=0,p=0;if(s&&!n&&!a){const g=s.getBoundingClientRect();p=g.top+c.scrollTop,d=g.left+c.scrollLeft-po(s,g)}const m=i.left+c.scrollLeft-u.x-d,f=i.top+c.scrollTop-u.y-p;return{x:m,y:f,width:i.width,height:i.height}}function Wn(e){return Ue(e).position==="static"}function Ws(e,t){if(!Qe(e)||Ue(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xe(e)===r&&(r=r.ownerDocument.body),r}function ji(e,t){const r=Oe(e);if(Nn(e))return r;if(!Qe(e)){let s=wt(e);for(;s&&!mr(s);){if(We(s)&&!Wn(s))return s;s=wt(s)}return r}let n=Ws(e,t);for(;n&&ih(n)&&Wn(n);)n=Ws(n,t);return n&&mr(n)&&Wn(n)&&!Zo(n)?r:n||ch(e)||r}const bh=async function(e){const t=this.getOffsetParent||ji,r=this.getDimensions,n=await r(e.floating);return{reference:yh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wh(e){return Ue(e).direction==="rtl"}const Sh={convertOffsetParentRelativeRectToViewportRelativeRect:uh,getDocumentElement:Xe,getClippingRect:vh,getOffsetParent:ji,getElementRects:bh,getClientRects:fh,getDimensions:xh,getScale:qt,isElement:We,isRTL:wh};function Ch(e,t){let r=null,n;const s=Xe(e);function a(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const{left:d,top:p,width:m,height:f}=e.getBoundingClientRect();if(c||t(),!m||!f)return;const g=Yr(p),v=Yr(s.clientWidth-(d+m)),h=Yr(s.clientHeight-(p+f)),x=Yr(d),b={rootMargin:-g+"px "+-v+"px "+-h+"px "+-x+"px",threshold:Ie(0,xt(1,u))||1};let C=!0;function N(S){const j=S[0].intersectionRatio;if(j!==u){if(!C)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C=!1}try{r=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return i(!0),a}function Nh(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=ts(e),p=s||a?[...d?Mr(d):[],...Mr(t)]:[];p.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const m=d&&c?Ch(d,r):null;let f=-1,g=null;i&&(g=new ResizeObserver(y=>{let[b]=y;b&&b.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(t)})),r()}),d&&!u&&g.observe(d),g.observe(t));let v,h=u?_t(e):null;u&&x();function x(){const y=_t(e);h&&(y.x!==h.x||y.y!==h.y||y.width!==h.width||y.height!==h.height)&&r(),h=y,v=requestAnimationFrame(x)}return r(),()=>{var y;p.forEach(b=>{s&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),m==null||m(),(y=g)==null||y.disconnect(),g=null,u&&cancelAnimationFrame(v)}}const jh=nh,Eh=oh,kh=eh,Rh=ah,Th=th,Us=Zf,Ph=sh,Ah=(e,t,r)=>{const n=new Map,s={platform:Sh,...r},a={...s.platform,_c:n};return Jf(e,t,{...s,platform:a})};var nn=typeof document<"u"?l.useLayoutEffect:l.useEffect;function dn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!dn(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!dn(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ei(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zs(e,t){const r=Ei(e);return Math.round(t*r)/r}function Un(e){const t=l.useRef(e);return nn(()=>{t.current=e}),t}function Mh(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[p,m]=l.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=l.useState(n);dn(f,n)||g(n);const[v,h]=l.useState(null),[x,y]=l.useState(null),b=l.useCallback(T=>{T!==j.current&&(j.current=T,h(T))},[]),C=l.useCallback(T=>{T!==E.current&&(E.current=T,y(T))},[]),N=a||v,S=i||x,j=l.useRef(null),E=l.useRef(null),k=l.useRef(p),A=u!=null,L=Un(u),P=Un(s),I=Un(d),W=l.useCallback(()=>{if(!j.current||!E.current)return;const T={placement:t,strategy:r,middleware:f};P.current&&(T.platform=P.current),Ah(j.current,E.current,T).then(D=>{const ue={...D,isPositioned:I.current!==!1};R.current&&!dn(k.current,ue)&&(k.current=ue,gr.flushSync(()=>{m(ue)}))})},[f,t,r,P,I]);nn(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(T=>({...T,isPositioned:!1})))},[d]);const R=l.useRef(!1);nn(()=>(R.current=!0,()=>{R.current=!1}),[]),nn(()=>{if(N&&(j.current=N),S&&(E.current=S),N&&S){if(L.current)return L.current(N,S,W);W()}},[N,S,W,L,A]);const F=l.useMemo(()=>({reference:j,floating:E,setReference:b,setFloating:C}),[b,C]),O=l.useMemo(()=>({reference:N,floating:S}),[N,S]),B=l.useMemo(()=>{const T={position:r,left:0,top:0};if(!O.floating)return T;const D=zs(O.floating,p.x),ue=zs(O.floating,p.y);return c?{...T,transform:"translate("+D+"px, "+ue+"px)",...Ei(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:ue}},[r,c,O.floating,p.x,p.y]);return l.useMemo(()=>({...p,update:W,refs:F,elements:O,floatingStyles:B}),[p,W,F,O,B])}const Ih=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Us({element:n.current,padding:s}).fn(r):{}:n?Us({element:n,padding:s}).fn(r):{}}}},Oh=(e,t)=>({...jh(e),options:[e,t]}),_h=(e,t)=>({...Eh(e),options:[e,t]}),Lh=(e,t)=>({...Ph(e),options:[e,t]}),Dh=(e,t)=>({...kh(e),options:[e,t]}),Fh=(e,t)=>({...Rh(e),options:[e,t]}),Bh=(e,t)=>({...Th(e),options:[e,t]}),$h=(e,t)=>({...Ih(e),options:[e,t]});var Hh="Arrow",ki=l.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(G.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});ki.displayName=Hh;var Wh=ki;function Uh(e,t=[]){let r=[];function n(a,i){const c=l.createContext(i),u=r.length;r=[...r,i];function d(m){const{scope:f,children:g,...v}=m,h=(f==null?void 0:f[e][u])||c,x=l.useMemo(()=>v,Object.values(v));return o.jsx(h.Provider,{value:x,children:g})}function p(m,f){const g=(f==null?void 0:f[e][u])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,p]}const s=()=>{const a=r.map(i=>l.createContext(i));return function(c){const u=(c==null?void 0:c[e])||a;return l.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[n,zh(s,...t)]}function zh(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((c,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ri(e){const[t,r]=l.useState(void 0);return ge(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;i=d.inlineSize,c=d.blockSize}else i=e.offsetWidth,c=e.offsetHeight;r({width:i,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var rs="Popper",[Ti,En]=Uh(rs),[Vh,Pi]=Ti(rs),Ai=e=>{const{__scopePopper:t,children:r}=e,[n,s]=l.useState(null);return o.jsx(Vh,{scope:t,anchor:n,onAnchorChange:s,children:r})};Ai.displayName=rs;var Mi="PopperAnchor",Ii=l.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Pi(Mi,r),i=l.useRef(null),c=de(t,i);return l.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(G.div,{...s,ref:c})});Ii.displayName=Mi;var ns="PopperContent",[Kh,Gh]=Ti(ns),Oi=l.forwardRef((e,t)=>{var H,te,he,J,re,Z;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:v,...h}=e,x=Pi(ns,r),[y,b]=l.useState(null),C=de(t,Ne=>b(Ne)),[N,S]=l.useState(null),j=Ri(N),E=(j==null?void 0:j.width)??0,k=(j==null?void 0:j.height)??0,A=n+(a!=="center"?"-"+a:""),L=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},P=Array.isArray(d)?d:[d],I=P.length>0,W={padding:L,boundary:P.filter(Yh),altBoundary:I},{refs:R,floatingStyles:F,placement:O,isPositioned:B,middlewareData:T}=Mh({strategy:"fixed",placement:A,whileElementsMounted:(...Ne)=>Nh(...Ne,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[Oh({mainAxis:s+k,alignmentAxis:i}),u&&_h({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Lh():void 0,...W}),u&&Dh({...W}),Fh({...W,apply:({elements:Ne,rects:Pe,availableWidth:ot,availableHeight:_e})=>{const{width:Nt,height:On}=Pe.reference,xe=Ne.floating.style;xe.setProperty("--radix-popper-available-width",`${ot}px`),xe.setProperty("--radix-popper-available-height",`${_e}px`),xe.setProperty("--radix-popper-anchor-width",`${Nt}px`),xe.setProperty("--radix-popper-anchor-height",`${On}px`)}}),N&&$h({element:N,padding:c}),Qh({arrowWidth:E,arrowHeight:k}),f&&Bh({strategy:"referenceHidden",...W})]}),[D,ue]=Di(O),$=ke(v);ge(()=>{B&&($==null||$())},[B,$]);const q=(H=T.arrow)==null?void 0:H.x,X=(te=T.arrow)==null?void 0:te.y,fe=((he=T.arrow)==null?void 0:he.centerOffset)!==0,[Re,ae]=l.useState();return ge(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(J=T.transformOrigin)==null?void 0:J.x,(re=T.transformOrigin)==null?void 0:re.y].join(" "),...((Z=T.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Kh,{scope:r,placedSide:D,onArrowChange:S,arrowX:q,arrowY:X,shouldHideArrow:fe,children:o.jsx(G.div,{"data-side":D,"data-align":ue,...h,ref:C,style:{...h.style,animation:B?void 0:"none"}})})})});Oi.displayName=ns;var _i="PopperArrow",qh={top:"bottom",right:"left",bottom:"top",left:"right"},Li=l.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=Gh(_i,n),i=qh[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(Wh,{...s,ref:r,style:{...s.style,display:"block"}})})});Li.displayName=_i;function Yh(e){return e!==null}var Qh=e=>({name:"transformOrigin",options:e,fn(t){var x,y,b;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,c=i?0:e.arrowWidth,u=i?0:e.arrowHeight,[d,p]=Di(r),m={start:"0%",center:"50%",end:"100%"}[p],f=(((y=s.arrow)==null?void 0:y.x)??0)+c/2,g=(((b=s.arrow)==null?void 0:b.y)??0)+u/2;let v="",h="";return d==="bottom"?(v=i?m:`${f}px`,h=`${-u}px`):d==="top"?(v=i?m:`${f}px`,h=`${n.floating.height+u}px`):d==="right"?(v=`${-u}px`,h=i?m:`${g}px`):d==="left"&&(v=`${n.floating.width+u}px`,h=i?m:`${g}px`),{data:{x:v,y:h}}}});function Di(e){const[t,r="center"]=e.split("-");return[t,r]}var Xh=Ai,Fi=Ii,Bi=Oi,$i=Li,[kn,$v]=vr("Tooltip",[En]),os=En(),Hi="TooltipProvider",Jh=700,Vs="tooltip.open",[Zh,Wi]=kn(Hi),Ui=e=>{const{__scopeTooltip:t,delayDuration:r=Jh,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,c]=l.useState(!0),u=l.useRef(!1),d=l.useRef(0);return l.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),o.jsx(Zh,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:l.useCallback(()=>{window.clearTimeout(d.current),c(!1)},[]),onClose:l.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:l.useCallback(p=>{u.current=p},[]),disableHoverableContent:s,children:a})};Ui.displayName=Hi;var zi="Tooltip",[Hv,Rn]=kn(zi),go="TooltipTrigger",em=l.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Rn(go,r),a=Wi(go,r),i=os(r),c=l.useRef(null),u=de(t,c,s.onTriggerChange),d=l.useRef(!1),p=l.useRef(!1),m=l.useCallback(()=>d.current=!1,[]);return l.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),o.jsx(Fi,{asChild:!0,...i,children:o.jsx(G.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:z(e.onPointerMove,f=>{f.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:z(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:z(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:z(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:z(e.onBlur,s.onClose),onClick:z(e.onClick,s.onClose)})})});em.displayName=go;var tm="TooltipPortal",[Wv,rm]=kn(tm,{forceMount:void 0}),pr="TooltipContent",Vi=l.forwardRef((e,t)=>{const r=rm(pr,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=Rn(pr,e.__scopeTooltip);return o.jsx(yn,{present:n||i.open,children:i.disableHoverableContent?o.jsx(Ki,{side:s,...a,ref:t}):o.jsx(nm,{side:s,...a,ref:t})})}),nm=l.forwardRef((e,t)=>{const r=Rn(pr,e.__scopeTooltip),n=Wi(pr,e.__scopeTooltip),s=l.useRef(null),a=de(t,s),[i,c]=l.useState(null),{trigger:u,onClose:d}=r,p=s.current,{onPointerInTransitChange:m}=n,f=l.useCallback(()=>{c(null),m(!1)},[m]),g=l.useCallback((v,h)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},b=im(y,x.getBoundingClientRect()),C=cm(y,b),N=lm(h.getBoundingClientRect()),S=um([...C,...N]);c(S),m(!0)},[m]);return l.useEffect(()=>()=>f(),[f]),l.useEffect(()=>{if(u&&p){const v=x=>g(x,p),h=x=>g(x,u);return u.addEventListener("pointerleave",v),p.addEventListener("pointerleave",h),()=>{u.removeEventListener("pointerleave",v),p.removeEventListener("pointerleave",h)}}},[u,p,g,f]),l.useEffect(()=>{if(i){const v=h=>{const x=h.target,y={x:h.clientX,y:h.clientY},b=(u==null?void 0:u.contains(x))||(p==null?void 0:p.contains(x)),C=!dm(y,i);b?f():C&&(f(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[u,p,i,d,f]),o.jsx(Ki,{...e,ref:a})}),[om,sm]=kn(zi,{isInside:!1}),Ki=l.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...c}=e,u=Rn(pr,r),d=os(r),{onClose:p}=u;return l.useEffect(()=>(document.addEventListener(Vs,p),()=>document.removeEventListener(Vs,p)),[p]),l.useEffect(()=>{if(u.trigger){const m=f=>{const g=f.target;g!=null&&g.contains(u.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,p]),o.jsx(xn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:o.jsxs(Bi,{"data-state":u.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Ma,{children:n}),o.jsx(om,{scope:r,isInside:!0,children:o.jsx(eu,{id:u.contentId,role:"tooltip",children:s||n})})]})})});Vi.displayName=pr;var Gi="TooltipArrow",am=l.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=os(r);return sm(Gi,r).isInside?null:o.jsx($i,{...s,...n,ref:t})});am.displayName=Gi;function im(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cm(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function lm(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function dm(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const c=t[a].x,u=t[a].y,d=t[i].x,p=t[i].y;u>n!=p>n&&r<(d-c)*(n-u)/(p-u)+c&&(s=!s)}return s}function um(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),fm(t)}function fm(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var hm=Ui,qi=Vi;const mm=hm,pm=l.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(qi,{ref:n,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));pm.displayName=qi.displayName;var Hr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lt=typeof window>"u"||"Deno"in globalThis;function De(){}function gm(e,t){return typeof e=="function"?e(t):e}function vo(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yi(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yt(e,t){return typeof e=="function"?e(t):e}function $e(e,t){return typeof e=="function"?e(t):e}function Ks(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:c}=e;if(i){if(n){if(t.queryHash!==ss(i,t.options))return!1}else if(!Or(t.queryKey,i))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||a&&!a(t))}function Gs(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ir(t.options.mutationKey)!==Ir(a))return!1}else if(!Or(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ss(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ir)(e)}function Ir(e){return JSON.stringify(e,(t,r)=>yo(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Or(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Or(e[r],t[r])):!1}function Qi(e,t){if(e===t)return e;const r=qs(e)&&qs(t);if(r||yo(e)&&yo(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,c=r?[]:{};let u=0;for(let d=0;d<i;d++){const p=r?d:a[d];(!r&&n.includes(p)||r)&&e[p]===void 0&&t[p]===void 0?(c[p]=void 0,u++):(c[p]=Qi(e[p],t[p]),c[p]===e[p]&&e[p]!==void 0&&u++)}return s===i&&u===s?e:c}return t}function xo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function qs(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yo(e){if(!Ys(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ys(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ys(e){return Object.prototype.toString.call(e)==="[object Object]"}function vm(e){return new Promise(t=>{setTimeout(t,e)})}function bo(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Qi(e,t):t}function xm(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ym(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var as=Symbol();function Xi(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===as?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Et,ut,Xt,ma,bm=(ma=class extends Hr{constructor(){super();U(this,Et);U(this,ut);U(this,Xt);_(this,Xt,t=>{if(!Lt&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){w(this,ut)||this.setEventListener(w(this,Xt))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,ut))==null||t.call(this),_(this,ut,void 0))}setEventListener(t){var r;_(this,Xt,t),(r=w(this,ut))==null||r.call(this),_(this,ut,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){w(this,Et)!==t&&(_(this,Et,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof w(this,Et)=="boolean"?w(this,Et):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Et=new WeakMap,ut=new WeakMap,Xt=new WeakMap,ma),is=new bm,Jt,ft,Zt,pa,wm=(pa=class extends Hr{constructor(){super();U(this,Jt,!0);U(this,ft);U(this,Zt);_(this,Zt,t=>{if(!Lt&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){w(this,ft)||this.setEventListener(w(this,Zt))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,ft))==null||t.call(this),_(this,ft,void 0))}setEventListener(t){var r;_(this,Zt,t),(r=w(this,ft))==null||r.call(this),_(this,ft,t(this.setOnline.bind(this)))}setOnline(t){w(this,Jt)!==t&&(_(this,Jt,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return w(this,Jt)}},Jt=new WeakMap,ft=new WeakMap,Zt=new WeakMap,pa),un=new wm;function wo(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function Sm(e){return Math.min(1e3*2**e,3e4)}function Ji(e){return(e??"online")==="online"?un.isOnline():!0}var Zi=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zn(e){return e instanceof Zi}function ec(e){let t=!1,r=0,n=!1,s;const a=wo(),i=h=>{var x;n||(f(new Zi(h)),(x=e.abort)==null||x.call(e))},c=()=>{t=!0},u=()=>{t=!1},d=()=>is.isFocused()&&(e.networkMode==="always"||un.isOnline())&&e.canRun(),p=()=>Ji(e.networkMode)&&e.canRun(),m=h=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,h),s==null||s(),a.resolve(h))},f=h=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,h),s==null||s(),a.reject(h))},g=()=>new Promise(h=>{var x;s=y=>{(n||d())&&h(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var h;s=void 0,n||(h=e.onContinue)==null||h.call(e)}),v=()=>{if(n)return;let h;const x=r===0?e.initialPromise:void 0;try{h=x??e.fn()}catch(y){h=Promise.reject(y)}Promise.resolve(h).then(m).catch(y=>{var j;if(n)return;const b=e.retry??(Lt?0:3),C=e.retryDelay??Sm,N=typeof C=="function"?C(r,y):C,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!S){f(y);return}r++,(j=e.onFail)==null||j.call(e,r,y),vm(N).then(()=>d()?void 0:g()).then(()=>{t?f(y):v()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?v():g().then(v),a)}}function Cm(){let e=[],t=0,r=c=>{c()},n=c=>{c()},s=c=>setTimeout(c,0);const a=c=>{t?e.push(c):s(()=>{r(c)})},i=()=>{const c=e;e=[],c.length&&s(()=>{n(()=>{c.forEach(u=>{r(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||i()}return u},batchCalls:c=>(...u)=>{a(()=>{c(...u)})},schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var ye=Cm(),kt,ga,tc=(ga=class{constructor(){U(this,kt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vo(this.gcTime)&&_(this,kt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lt?1/0:5*60*1e3))}clearGcTimeout(){w(this,kt)&&(clearTimeout(w(this,kt)),_(this,kt,void 0))}},kt=new WeakMap,ga),er,tr,Le,we,_r,Rt,Be,tt,va,Nm=(va=class extends tc{constructor(t){super();U(this,Be);U(this,er);U(this,tr);U(this,Le);U(this,we);U(this,_r);U(this,Rt);_(this,Rt,!1),_(this,_r,t.defaultOptions),this.setOptions(t.options),this.observers=[],_(this,Le,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_(this,er,jm(this.options)),this.state=t.state??w(this,er),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=w(this,we))==null?void 0:t.promise}setOptions(t){this.options={...w(this,_r),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&w(this,Le).remove(this)}setData(t,r){const n=bo(this.state.data,t,this.options);return Y(this,Be,tt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Y(this,Be,tt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=w(this,we))==null?void 0:n.promise;return(s=w(this,we))==null||s.cancel(t),r?r.then(De).catch(De):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(w(this,er))}isActive(){return this.observers.some(t=>$e(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===as||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Yi(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=w(this,we))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=w(this,we))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),w(this,Le).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(w(this,we)&&(w(this,Rt)?w(this,we).cancel({revert:!0}):w(this,we).cancelRetry()),this.scheduleGc()),w(this,Le).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Y(this,Be,tt).call(this,{type:"invalidate"})}fetch(t,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(w(this,we))return w(this,we).continueRetry(),w(this,we).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(f=>f.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(_(this,Rt,!0),n.signal)})},a=()=>{const m=Xi(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),_(this,Rt,!1),this.options.persister?this.options.persister(m,f,this):m(f)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(u=this.options.behavior)==null||u.onFetch(i,this),_(this,tr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&Y(this,Be,tt).call(this,{type:"fetch",meta:(p=i.fetchOptions)==null?void 0:p.meta});const c=m=>{var f,g,v,h;zn(m)&&m.silent||Y(this,Be,tt).call(this,{type:"error",error:m}),zn(m)||((g=(f=w(this,Le).config).onError)==null||g.call(f,m,this),(h=(v=w(this,Le).config).onSettled)==null||h.call(v,this.state.data,m,this)),this.scheduleGc()};return _(this,we,ec({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var f,g,v,h;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){c(x);return}(g=(f=w(this,Le).config).onSuccess)==null||g.call(f,m,this),(h=(v=w(this,Le).config).onSettled)==null||h.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,f)=>{Y(this,Be,tt).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{Y(this,Be,tt).call(this,{type:"pause"})},onContinue:()=>{Y(this,Be,tt).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),w(this,we).start()}},er=new WeakMap,tr=new WeakMap,Le=new WeakMap,we=new WeakMap,_r=new WeakMap,Rt=new WeakMap,Be=new WeakSet,tt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...rc(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return zn(s)&&s.revert&&w(this,tr)?{...w(this,tr),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ye.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),w(this,Le).notify({query:this,type:"updated",action:t})})},va);function rc(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ji(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ke,xa,Em=(xa=class extends Hr{constructor(t={}){super();U(this,Ke);this.config=t,_(this,Ke,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??ss(s,r);let i=this.get(a);return i||(i=new Nm({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){w(this,Ke).has(t.queryHash)||(w(this,Ke).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=w(this,Ke).get(t.queryHash);r&&(t.destroy(),r===t&&w(this,Ke).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ye.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return w(this,Ke).get(t)}getAll(){return[...w(this,Ke).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ks(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Ks(t,n)):r}notify(t){ye.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ye.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ye.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ke=new WeakMap,xa),Ge,je,Tt,qe,ct,ya,km=(ya=class extends tc{constructor(t){super();U(this,qe);U(this,Ge);U(this,je);U(this,Tt);this.mutationId=t.mutationId,_(this,je,t.mutationCache),_(this,Ge,[]),this.state=t.state||Rm(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){w(this,Ge).includes(t)||(w(this,Ge).push(t),this.clearGcTimeout(),w(this,je).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_(this,Ge,w(this,Ge).filter(r=>r!==t)),this.scheduleGc(),w(this,je).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){w(this,Ge).length||(this.state.status==="pending"?this.scheduleGc():w(this,je).remove(this))}continue(){var t;return((t=w(this,Tt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,c,u,d,p,m,f,g,v,h,x,y,b,C,N,S,j,E;_(this,Tt,ec({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{Y(this,qe,ct).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{Y(this,qe,ct).call(this,{type:"pause"})},onContinue:()=>{Y(this,qe,ct).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>w(this,je).canRun(this)}));const r=this.state.status==="pending",n=!w(this,Tt).canStart();try{if(!r){Y(this,qe,ct).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=w(this,je).config).onMutate)==null?void 0:a.call(s,t,this));const A=await((c=(i=this.options).onMutate)==null?void 0:c.call(i,t));A!==this.state.context&&Y(this,qe,ct).call(this,{type:"pending",context:A,variables:t,isPaused:n})}const k=await w(this,Tt).start();return await((d=(u=w(this,je).config).onSuccess)==null?void 0:d.call(u,k,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,k,t,this.state.context)),await((g=(f=w(this,je).config).onSettled)==null?void 0:g.call(f,k,null,this.state.variables,this.state.context,this)),await((h=(v=this.options).onSettled)==null?void 0:h.call(v,k,null,t,this.state.context)),Y(this,qe,ct).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(x=w(this,je).config).onError)==null?void 0:y.call(x,k,t,this.state.context,this)),await((C=(b=this.options).onError)==null?void 0:C.call(b,k,t,this.state.context)),await((S=(N=w(this,je).config).onSettled)==null?void 0:S.call(N,void 0,k,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,k,t,this.state.context)),k}finally{Y(this,qe,ct).call(this,{type:"error",error:k})}}finally{w(this,je).runNext(this)}}},Ge=new WeakMap,je=new WeakMap,Tt=new WeakMap,qe=new WeakSet,ct=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ye.batch(()=>{w(this,Ge).forEach(n=>{n.onMutationUpdate(t)}),w(this,je).notify({mutation:this,type:"updated",action:t})})},ya);function Rm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ae,Lr,ba,Tm=(ba=class extends Hr{constructor(t={}){super();U(this,Ae);U(this,Lr);this.config=t,_(this,Ae,new Map),_(this,Lr,Date.now())}build(t,r,n){const s=new km({mutationCache:this,mutationId:++Vr(this,Lr)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Qr(t),n=w(this,Ae).get(r)??[];n.push(t),w(this,Ae).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Qr(t);if(w(this,Ae).has(r)){const s=(n=w(this,Ae).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?w(this,Ae).delete(r):w(this,Ae).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=w(this,Ae).get(Qr(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=w(this,Ae).get(Qr(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ye.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...w(this,Ae).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gs(r,n))}findAll(t={}){return this.getAll().filter(r=>Gs(t,r))}notify(t){ye.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ye.batch(()=>Promise.all(t.map(r=>r.continue().catch(De))))}},Ae=new WeakMap,Lr=new WeakMap,ba);function Qr(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Qs(e){return{onFetch:(t,r)=>{var p,m,f,g,v;const n=t.options,s=(f=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:f.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let h=!1;const x=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},y=Xi(t.options,t.fetchOptions),b=async(C,N,S)=>{if(h)return Promise.reject();if(N==null&&C.pages.length)return Promise.resolve(C);const j={queryKey:t.queryKey,pageParam:N,direction:S?"backward":"forward",meta:t.options.meta};x(j);const E=await y(j),{maxPages:k}=t.options,A=S?ym:xm;return{pages:A(C.pages,E,k),pageParams:A(C.pageParams,N,k)}};if(s&&a.length){const C=s==="backward",N=C?Pm:Xs,S={pages:a,pageParams:i},j=N(n,S);c=await b(S,j,C)}else{const C=e??a.length;do{const N=u===0?i[0]??n.initialPageParam:Xs(n,c);if(u>0&&N==null)break;c=await b(c,N),u++}while(u<C)}return c};t.options.persister?t.fetchFn=()=>{var h,x;return(x=(h=t.options).persister)==null?void 0:x.call(h,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Xs(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Pm(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var me,ht,mt,rr,nr,pt,or,sr,wa,Am=(wa=class{constructor(e={}){U(this,me);U(this,ht);U(this,mt);U(this,rr);U(this,nr);U(this,pt);U(this,or);U(this,sr);_(this,me,e.queryCache||new Em),_(this,ht,e.mutationCache||new Tm),_(this,mt,e.defaultOptions||{}),_(this,rr,new Map),_(this,nr,new Map),_(this,pt,0)}mount(){Vr(this,pt)._++,w(this,pt)===1&&(_(this,or,is.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,me).onFocus())})),_(this,sr,un.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,me).onOnline())})))}unmount(){var e,t;Vr(this,pt)._--,w(this,pt)===0&&((e=w(this,or))==null||e.call(this),_(this,or,void 0),(t=w(this,sr))==null||t.call(this),_(this,sr,void 0))}isFetching(e){return w(this,me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return w(this,ht).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=w(this,me).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=w(this,me).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Yt(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return w(this,me).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=w(this,me).get(n.queryHash),a=s==null?void 0:s.state.data,i=gm(t,a);if(i!==void 0)return w(this,me).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ye.batch(()=>w(this,me).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=w(this,me).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=w(this,me);ye.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=w(this,me),n={type:"active",...e};return ye.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ye.batch(()=>w(this,me).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(De).catch(De)}invalidateQueries(e={},t={}){return ye.batch(()=>{if(w(this,me).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ye.batch(()=>w(this,me).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(De)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(De)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=w(this,me).build(this,t);return r.isStaleByTime(Yt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(De).catch(De)}fetchInfiniteQuery(e){return e.behavior=Qs(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(De).catch(De)}ensureInfiniteQueryData(e){return e.behavior=Qs(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return un.isOnline()?w(this,ht).resumePausedMutations():Promise.resolve()}getQueryCache(){return w(this,me)}getMutationCache(){return w(this,ht)}getDefaultOptions(){return w(this,mt)}setDefaultOptions(e){_(this,mt,e)}setQueryDefaults(e,t){w(this,rr).set(Ir(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...w(this,rr).values()];let r={};return t.forEach(n=>{Or(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){w(this,nr).set(Ir(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...w(this,nr).values()];let r={};return t.forEach(n=>{Or(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...w(this,mt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ss(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===as&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...w(this,mt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){w(this,me).clear(),w(this,ht).clear()}},me=new WeakMap,ht=new WeakMap,mt=new WeakMap,rr=new WeakMap,nr=new WeakMap,pt=new WeakMap,or=new WeakMap,sr=new WeakMap,wa),Te,Q,Dr,Ee,Pt,ar,gt,Ye,Fr,ir,cr,At,Mt,vt,lr,ne,jr,So,Co,No,jo,Eo,ko,Ro,nc,Sa,Mm=(Sa=class extends Hr{constructor(t,r){super();U(this,ne);U(this,Te);U(this,Q);U(this,Dr);U(this,Ee);U(this,Pt);U(this,ar);U(this,gt);U(this,Ye);U(this,Fr);U(this,ir);U(this,cr);U(this,At);U(this,Mt);U(this,vt);U(this,lr,new Set);this.options=r,_(this,Te,t),_(this,Ye,null),_(this,gt,wo()),this.options.experimental_prefetchInRender||w(this,gt).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(w(this,Q).addObserver(this),Js(w(this,Q),this.options)?Y(this,ne,jr).call(this):this.updateResult(),Y(this,ne,jo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return To(w(this,Q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return To(w(this,Q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Y(this,ne,Eo).call(this),Y(this,ne,ko).call(this),w(this,Q).removeObserver(this)}setOptions(t,r){const n=this.options,s=w(this,Q);if(this.options=w(this,Te).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $e(this.options.enabled,w(this,Q))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Y(this,ne,Ro).call(this),w(this,Q).setOptions(this.options),n._defaulted&&!xo(this.options,n)&&w(this,Te).getQueryCache().notify({type:"observerOptionsUpdated",query:w(this,Q),observer:this});const a=this.hasListeners();a&&Zs(w(this,Q),s,this.options,n)&&Y(this,ne,jr).call(this),this.updateResult(r),a&&(w(this,Q)!==s||$e(this.options.enabled,w(this,Q))!==$e(n.enabled,w(this,Q))||Yt(this.options.staleTime,w(this,Q))!==Yt(n.staleTime,w(this,Q)))&&Y(this,ne,So).call(this);const i=Y(this,ne,Co).call(this);a&&(w(this,Q)!==s||$e(this.options.enabled,w(this,Q))!==$e(n.enabled,w(this,Q))||i!==w(this,vt))&&Y(this,ne,No).call(this,i)}getOptimisticResult(t){const r=w(this,Te).getQueryCache().build(w(this,Te),t),n=this.createResult(r,t);return Om(this,n)&&(_(this,Ee,n),_(this,ar,this.options),_(this,Pt,w(this,Q).state)),n}getCurrentResult(){return w(this,Ee)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){w(this,lr).add(t)}getCurrentQuery(){return w(this,Q)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=w(this,Te).defaultQueryOptions(t),n=w(this,Te).getQueryCache().build(w(this,Te),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Y(this,ne,jr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),w(this,Ee)))}createResult(t,r){var k;const n=w(this,Q),s=this.options,a=w(this,Ee),i=w(this,Pt),c=w(this,ar),d=t!==n?t.state:w(this,Dr),{state:p}=t;let m={...p},f=!1,g;if(r._optimisticResults){const A=this.hasListeners(),L=!A&&Js(t,r),P=A&&Zs(t,n,r,s);(L||P)&&(m={...m,...rc(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:h,status:x}=m;if(r.select&&m.data!==void 0)if(a&&m.data===(i==null?void 0:i.data)&&r.select===w(this,Fr))g=w(this,ir);else try{_(this,Fr,r.select),g=r.select(m.data),g=bo(a==null?void 0:a.data,g,r),_(this,ir,g),_(this,Ye,null)}catch(A){_(this,Ye,A)}else g=m.data;if(r.placeholderData!==void 0&&g===void 0&&x==="pending"){let A;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData))A=a.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((k=w(this,cr))==null?void 0:k.state.data,w(this,cr)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),_(this,Ye,null)}catch(L){_(this,Ye,L)}A!==void 0&&(x="success",g=bo(a==null?void 0:a.data,A,r),f=!0)}w(this,Ye)&&(v=w(this,Ye),g=w(this,ir),h=Date.now(),x="error");const y=m.fetchStatus==="fetching",b=x==="pending",C=x==="error",N=b&&y,S=g!==void 0,E={status:x,fetchStatus:m.fetchStatus,isPending:b,isSuccess:x==="success",isError:C,isInitialLoading:N,isLoading:N,data:g,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:h,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:C&&!S,isPaused:m.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&S,isStale:cs(t,r),refetch:this.refetch,promise:w(this,gt)};if(this.options.experimental_prefetchInRender){const A=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},L=()=>{const I=_(this,gt,E.promise=wo());A(I)},P=w(this,gt);switch(P.status){case"pending":t.queryHash===n.queryHash&&A(P);break;case"fulfilled":(E.status==="error"||E.data!==P.value)&&L();break;case"rejected":(E.status!=="error"||E.error!==P.reason)&&L();break}}return E}updateResult(t){const r=w(this,Ee),n=this.createResult(w(this,Q),this.options);if(_(this,Pt,w(this,Q).state),_(this,ar,this.options),w(this,Pt).data!==void 0&&_(this,cr,w(this,Q)),xo(n,r))return;_(this,Ee,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!w(this,lr).size)return!0;const u=new Set(c??w(this,lr));return this.options.throwOnError&&u.add("error"),Object.keys(w(this,Ee)).some(d=>{const p=d;return w(this,Ee)[p]!==r[p]&&u.has(p)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Y(this,ne,nc).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Y(this,ne,jo).call(this)}},Te=new WeakMap,Q=new WeakMap,Dr=new WeakMap,Ee=new WeakMap,Pt=new WeakMap,ar=new WeakMap,gt=new WeakMap,Ye=new WeakMap,Fr=new WeakMap,ir=new WeakMap,cr=new WeakMap,At=new WeakMap,Mt=new WeakMap,vt=new WeakMap,lr=new WeakMap,ne=new WeakSet,jr=function(t){Y(this,ne,Ro).call(this);let r=w(this,Q).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(De)),r},So=function(){Y(this,ne,Eo).call(this);const t=Yt(this.options.staleTime,w(this,Q));if(Lt||w(this,Ee).isStale||!vo(t))return;const n=Yi(w(this,Ee).dataUpdatedAt,t)+1;_(this,At,setTimeout(()=>{w(this,Ee).isStale||this.updateResult()},n))},Co=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(w(this,Q)):this.options.refetchInterval)??!1},No=function(t){Y(this,ne,ko).call(this),_(this,vt,t),!(Lt||$e(this.options.enabled,w(this,Q))===!1||!vo(w(this,vt))||w(this,vt)===0)&&_(this,Mt,setInterval(()=>{(this.options.refetchIntervalInBackground||is.isFocused())&&Y(this,ne,jr).call(this)},w(this,vt)))},jo=function(){Y(this,ne,So).call(this),Y(this,ne,No).call(this,Y(this,ne,Co).call(this))},Eo=function(){w(this,At)&&(clearTimeout(w(this,At)),_(this,At,void 0))},ko=function(){w(this,Mt)&&(clearInterval(w(this,Mt)),_(this,Mt,void 0))},Ro=function(){const t=w(this,Te).getQueryCache().build(w(this,Te),this.options);if(t===w(this,Q))return;const r=w(this,Q);_(this,Q,t),_(this,Dr,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},nc=function(t){ye.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(w(this,Ee))}),w(this,Te).getQueryCache().notify({query:w(this,Q),type:"observerResultsUpdated"})})},Sa);function Im(e,t){return $e(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Js(e,t){return Im(e,t)||e.state.data!==void 0&&To(e,t,t.refetchOnMount)}function To(e,t,r){if($e(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&cs(e,t)}return!1}function Zs(e,t,r,n){return(e!==t||$e(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&cs(e,r)}function cs(e,t){return $e(t.enabled,e)!==!1&&e.isStaleByTime(Yt(t.staleTime,e))}function Om(e,t){return!xo(e.getCurrentResult(),t)}var oc=l.createContext(void 0),ls=e=>{const t=l.useContext(oc);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},_m=({client:e,children:t})=>(l.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(oc.Provider,{value:e,children:t})),sc=l.createContext(!1),Lm=()=>l.useContext(sc);sc.Provider;function Dm(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Fm=l.createContext(Dm()),Bm=()=>l.useContext(Fm);function $m(e,t){return typeof e=="function"?e(...t):!!e}function Hm(){}var Wm=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Um=e=>{l.useEffect(()=>{e.clearReset()},[e])},zm=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&$m(r,[e.error,n]),Vm=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Km=(e,t)=>e.isLoading&&e.isFetching&&!t,Gm=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ea=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qm(e,t,r){var p,m,f,g,v;const n=ls(),s=Lm(),a=Bm(),i=n.defaultQueryOptions(e);(m=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,i),i._optimisticResults=s?"isRestoring":"optimistic",Vm(i),Wm(i,a),Um(a);const c=!n.getQueryCache().get(i.queryHash),[u]=l.useState(()=>new t(n,i)),d=u.getOptimisticResult(i);if(l.useSyncExternalStore(l.useCallback(h=>{const x=s?()=>{}:u.subscribe(ye.batchCalls(h));return u.updateResult(),x},[u,s]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),l.useEffect(()=>{u.setOptions(i,{listeners:!1})},[i,u]),Gm(i,d))throw ea(i,u,a);if(zm({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw d.error;if((g=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,i,d),i.experimental_prefetchInRender&&!Lt&&Km(d,s)){const h=c?ea(i,u,a):(v=n.getQueryCache().get(i.queryHash))==null?void 0:v.promise;h==null||h.catch(Hm).finally(()=>{u.updateResult()})}return i.notifyOnChangeProps?d:u.trackResult(d)}function Dt(e,t){return qm(e,Mm)}const Ym={apiKey:"AIzaSyAizi-kY4VH5VfqbYyrg9FwLt5TGbrX_RI",authDomain:"books-794a8.firebaseapp.com",projectId:"books-794a8",storageBucket:"books-794a8.firebasestorage.app",messagingSenderId:"28303860806",appId:"1:28303860806:web:df2ddcd86f08c7a4145647",measurementId:"G-LBNGSGFXGR"},ds=ed(Ym),Se=td(ds),Je=rd(ds),Qm=nd(ds);od(Je,sd).catch(e=>{console.error("Error setting auth persistence:",e)});const Ce={BOOKS:"books",WANTED_BOOKS:"wanted_books",CHATS:"chats",MESSAGES:"messages",PROFILES:"profiles"},Xm=async e=>{try{const t=Je.currentUser;if(!t)throw new Error("User not authenticated");const r={...e,owner:{id:t.uid,name:t.displayName||"Anonymous",neighborhood:e.neighborhood||"Unknown"},book_type:"have",created_at:dr(),updated_at:dr()};return{id:(await Ho(He(Se,Ce.BOOKS),r)).id,...r}}catch(t){throw console.error("Error adding book:",t),t}},Jm=async e=>{try{const t=Je.currentUser;if(!t)throw new Error("User not authenticated");const r={...e,user_id:t.uid,book_type:"want",created_at:dr(),updated_at:dr()};return{id:(await Ho(He(Se,Ce.WANTED_BOOKS),r)).id,...r}}catch(t){throw console.error("Error adding wanted book:",t),t}},Zm=async e=>{try{const t=Rr(Se,Ce.BOOKS,e);return await Ea(t),{success:!0}}catch(t){throw console.error("Error deleting book:",t),t}},ep=async e=>{try{const t=Rr(Se,Ce.WANTED_BOOKS,e);return await Ea(t),{success:!0}}catch(t){throw console.error("Error deleting wanted book:",t),t}},ac=async e=>{try{const t=He(Se,Ce.BOOKS),r=It(t,ur("owner.id","==",e));return(await Ot(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error getting books by user:",t),t}},ic=async e=>{try{const t=He(Se,Ce.WANTED_BOOKS),r=It(t,ur("user_id","==",e));return(await Ot(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error getting wanted books by user:",t),t}},tp=async(e,t)=>{try{return(await ad(Je,e,t)).user}catch(r){throw console.error("Error signing in:",r),r}},rp=async(e,t,r)=>{try{const n=await id(Je,e,t);return r&&n.user,n.user}catch(n){throw console.error("Error signing up:",n),n}},np=async()=>{try{const e=new cd;return(await ld(Je,e)).user}catch(e){throw console.error("Error signing in with Google:",e),e}},op=async()=>{try{return await md(Je),{success:!0}}catch(e){throw console.error("Error signing out:",e),e}},sp=e=>dd(Je,e),Vn=()=>Je.currentUser,ap=async(e,t)=>{try{const r=ud(Qm,t),n=await fd(r,e);return await hd(n.ref)}catch(r){throw console.error("Error uploading file:",r),r}},ip=async e=>{try{const t=He(Se,Ce.CHATS),r=It(t,ur("participants","array-contains",e),Wo("updated_at","desc"));return(await Ot(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error getting chats:",t),t}},cp=async(e,t,r)=>{try{const n=Je.currentUser;if(!n)throw new Error("User not authenticated");const s={chat_id:e,content:t,sender_id:r||n.uid,sender_name:n.displayName||"Anonymous",created_at:dr()},a=await Ho(He(Se,Ce.MESSAGES),s),i=Rr(Se,Ce.CHATS,e);return await ja(i,{updated_at:dr(),last_message:t}),{id:a.id,...s}}catch(n){throw console.error("Error sending message:",n),n}},cc=l.createContext({user:null});function lp({children:e}){const[t,r]=l.useState(null);return l.useEffect(()=>{const n=sp(s=>{r(s)});return()=>n()},[]),o.jsx(cc.Provider,{value:{user:t},children:e})}const wr=()=>l.useContext(cc),Kn=768;function dp(){const[e,t]=l.useState(void 0);return l.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Kn-1}px)`),n=()=>{t(window.innerWidth<Kn)};return r.addEventListener("change",n),t(window.innerWidth<Kn),()=>r.removeEventListener("change",n)},[]),!!e}const up=qo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=l.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?hr:"button";return o.jsx(i,{className:oe(up({variant:t,size:r,className:e})),ref:a,...s})});se.displayName="Button";function fp(){const{user:e}=wr(),t=gn(),r=dp(),[n,s]=l.useState(!1),a=()=>{s(!n)},i=async()=>{try{await op(),t("/")}catch{be.error("Error signing out")}};return o.jsx("header",{className:"bg-white border-b border-border sticky top-0 z-50",children:o.jsxs("div",{className:"container max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(io,{className:"h-6 w-6 text-bookswap-darkblue"}),o.jsx(ee,{to:"/",className:"font-playfair font-bold text-xl md:text-2xl text-bookswap-darkblue",children:"English Book Swap Jerusalem"})]}),r?o.jsxs(o.Fragment,{children:[o.jsx(se,{variant:"ghost",size:"icon",onClick:a,children:n?o.jsx(ci,{}):o.jsx(ku,{})}),n&&o.jsx("div",{className:"absolute top-16 left-0 right-0 bg-white border-b border-border p-4 shadow-lg animate-fade-in",children:o.jsxs("nav",{className:"flex flex-col space-y-4",children:[o.jsx(ee,{to:"/",className:"px-4 py-2 hover:bg-muted rounded-md",onClick:()=>s(!1),children:"Home"}),o.jsx(ee,{to:"/books",className:"px-4 py-2 hover:bg-muted rounded-md",onClick:()=>s(!1),children:"Browse Books"}),o.jsx(ee,{to:"/add",className:"px-4 py-2 hover:bg-muted rounded-md",onClick:()=>s(!1),children:"Add Book"}),o.jsxs(ee,{to:"/my-books",className:"px-4 py-2 hover:bg-muted rounded-md",onClick:()=>s(!1),children:[o.jsx(Cu,{className:"mr-2 h-4 w-4 inline"}),"My Books"]}),o.jsx(ee,{to:"/matches",className:"px-4 py-2 hover:bg-muted rounded-md",onClick:()=>s(!1),children:"Matches"}),o.jsx(ee,{to:"/chat",className:"px-4 py-2 hover:bg-muted rounded-md",onClick:()=>s(!1),children:"Messages"}),e&&o.jsx(ee,{to:"/profile",className:"px-4 py-2 hover:bg-muted rounded-md",onClick:()=>s(!1),children:"My Profile"}),e?o.jsxs(se,{variant:"ghost",onClick:i,className:"justify-start",children:[o.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Logout"]}):o.jsx(ee,{to:"/auth",className:"px-4 py-2 hover:bg-muted rounded-md",onClick:()=>s(!1),children:"Sign In"})]})})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[o.jsx(ee,{to:"/",className:"px-3 py-2 hover:bg-muted rounded-md text-sm",children:"Home"}),o.jsx(ee,{to:"/books",className:"px-3 py-2 hover:bg-muted rounded-md text-sm",children:"Browse Books"}),o.jsx(ee,{to:"/add",className:"px-3 py-2 hover:bg-muted rounded-md text-sm",children:"Add Book"}),o.jsx(ee,{to:"/my-books",className:"px-3 py-2 hover:bg-muted rounded-md text-sm",children:"My Books"}),o.jsx(ee,{to:"/matches",className:"px-3 py-2 hover:bg-muted rounded-md text-sm",children:"Matches"}),o.jsx(ee,{to:"/chat",className:"px-3 py-2 hover:bg-muted rounded-md text-sm",children:"Messages"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(se,{variant:"ghost",size:"icon",children:o.jsx(Pr,{className:"h-4 w-4"})}),e?o.jsxs(o.Fragment,{children:[o.jsx(se,{variant:"ghost",size:"icon",asChild:!0,children:o.jsx(ee,{to:"/profile",children:o.jsx(ii,{className:"h-4 w-4"})})}),o.jsx(se,{variant:"ghost",size:"icon",onClick:i,children:o.jsx(Ms,{className:"h-4 w-4"})})]}):o.jsx(se,{variant:"default",asChild:!0,children:o.jsx(ee,{to:"/auth",children:"Sign In"})})]})]})]})})}function hp(){return o.jsxs("div",{className:"bg-muted rounded-md p-4 flex items-start space-x-3",children:[o.jsx(ju,{className:"h-5 w-5 text-bookswap-darkblue shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("p",{className:"font-medium mb-1",children:"Safety First"}),o.jsx("p",{children:"Book Swap Jerusalem is a goodwill-based platform. When meeting to exchange books, please take common safety precautions: meet in public places during daylight hours, tell someone where you're going, and trust your instincts. We recommend initial meetings at cafés, libraries, or other public venues."})]})]})}function mp(){return o.jsx("footer",{className:"bg-white border-t border-border mt-auto",children:o.jsxs("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:[o.jsx(hp,{}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-8 pt-6 border-t border-border",children:[o.jsx("div",{className:"mb-4 md:mb-0",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," English Book Swap Jerusalem"]})}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(ee,{to:"/about",className:"text-sm text-muted-foreground hover:underline",children:"About"}),o.jsx(ee,{to:"/faq",className:"text-sm text-muted-foreground hover:underline",children:"FAQ"}),o.jsx(ee,{to:"/contact",className:"text-sm text-muted-foreground hover:underline",children:"Contact"}),o.jsx(ee,{to:"/terms",className:"text-sm text-muted-foreground hover:underline",children:"Terms"}),o.jsx(ee,{to:"/privacy",className:"text-sm text-muted-foreground hover:underline",children:"Privacy"})]})]})]})})}function pe({children:e}){return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(fp,{}),o.jsx("main",{className:"flex-grow",children:e}),o.jsx(mp,{})]})}const lc="AIzaSyDSGm97K_kt3evfXe3klrPtNF1Q4vrW_2Y",dc="https://www.googleapis.com/books/v1",pp=async e=>{try{const t=await fetch(`${dc}/volumes?q=${encodeURIComponent(e)}&key=${lc}&maxResults=10`);if(!t.ok)throw new Error("Failed to fetch books");const r=await t.json();return console.log("API Response:",r),r.items||[]}catch(t){throw console.error("Error searching books:",t),t}},gp=async e=>{try{const t=await fetch(`${dc}/volumes/${e}?key=${lc}`);if(!t.ok)throw new Error("Failed to fetch book details");return await t.json()}catch(t){throw console.error("Error fetching book details:",t),t}},us=l.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));us.displayName="Card";const vp=l.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));vp.displayName="CardHeader";const xp=l.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));xp.displayName="CardTitle";const yp=l.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:oe("text-sm text-muted-foreground",e),...t}));yp.displayName="CardDescription";const fs=l.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:oe("p-6 pt-0",e),...t}));fs.displayName="CardContent";const uc=l.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:oe("flex items-center p-6 pt-0",e),...t}));uc.displayName="CardFooter";function Po({book:e,onRequestSwap:t}){var s;const{data:r}=Dt({queryKey:["book",e.google_books_id],queryFn:()=>e.google_books_id?gp(e.google_books_id):null,enabled:!!e.google_books_id}),n=(s=r==null?void 0:r.volumeInfo.imageLinks)==null?void 0:s.thumbnail;return o.jsxs(us,{className:"h-full flex flex-col",children:[n?o.jsx("div",{className:"w-full h-48 bg-cover bg-center rounded-t-lg",style:{backgroundImage:`url(${n})`}}):o.jsxs("div",{className:"w-full h-48 p-4 flex flex-col justify-center items-center text-center rounded-t-lg",style:{backgroundColor:e.coverColor},children:[o.jsx("h3",{className:"font-bold text-white",children:e.title}),o.jsx("p",{className:"text-sm text-white/80",children:e.author})]}),o.jsxs(fs,{className:"flex-grow p-4",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:e.title}),o.jsx("p",{className:"text-sm font-medium mb-2",children:e.author}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Condition: ",e.condition]}),o.jsx("p",{className:"text-xs line-clamp-3 mb-3",children:e.description}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Available in: ",e.owner.neighborhood]})]}),o.jsx(uc,{className:"p-4 pt-0",children:o.jsx(se,{variant:"default",className:"w-full",onClick:()=>t(e.id),children:"Request Swap"})})]})}function fc({books:e,emptyMessage:t="No books found"}){const r=n=>{fr({title:"Swap requested",description:"We'll notify you when the owner responds."})};return e.length===0?o.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:o.jsx("p",{className:"text-muted-foreground",children:t})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:e.map(n=>o.jsx(Po,{book:n,onRequestSwap:r},n.id))})}const bp=()=>{const[e,t]=l.useState(null),{data:r=[],isLoading:n,error:s}=Dt({queryKey:["featuredBooks"],queryFn:async()=>{try{const a=He(Se,Ce.BOOKS),i=It(a,Wo("created_at","desc"),pd(5)),c=await Ot(i);return c.empty?[]:c.docs.map(u=>{const d=u.data();return{id:u.id,title:d.title,author:d.author,coverColor:d.cover_color||"#436B95",description:d.description||"",condition:d.condition,owner:d.owner}})}catch(a){throw console.error("Error fetching books:",a),a instanceof Error&&(a.message.includes("permission")?t("Unable to access book data. Please try again later."):t("Something went wrong. Please try again later.")),a}},retry:2,retryDelay:1e3});return r.length===0&&!n&&!s?o.jsxs(pe,{children:[o.jsx("div",{className:"bg-bookswap-blue py-16 md:py-24",children:o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"Welcome to English Book Swap Jerusalem"}),o.jsx("p",{className:"text-lg md:text-xl mb-8",children:"Be the first to add books to our community! No books have been added yet."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(se,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:o.jsx(ee,{to:"/add",children:"Add Your First Book"})}),o.jsx(se,{asChild:!0,size:"lg",variant:"outline",children:o.jsx(ee,{to:"/auth",children:"Sign In"})})]})]})})}),o.jsx("div",{className:"bg-white py-12 md:py-16 border-y border-border",children:o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:o.jsx(io,{className:"w-8 h-8 text-bookswap-darkblue"})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"List Your Books"}),o.jsx("p",{className:"text-muted-foreground",children:"Share the books you've enjoyed and are ready to pass on to another reader in Jerusalem."})]}),o.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[o.jsx("path",{d:"M16 3h5v5"}),o.jsx("path",{d:"M8 3H3v5"}),o.jsx("path",{d:"M21 13v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5"}),o.jsx("path",{d:"m21 8-5-5-5 5"}),o.jsx("path",{d:"m3 16 5 5 5-5"})]})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Find Matches"}),o.jsx("p",{className:"text-muted-foreground",children:"Our system matches you with local readers who have books you want or want books you have."})]}),o.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[o.jsx("path",{d:"M17 6.1H3"}),o.jsx("path",{d:"M21 12.1H3"}),o.jsx("path",{d:"M15.1 18H3"})]})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Meet & Swap"}),o.jsx("p",{className:"text-muted-foreground",children:"Arrange to meet at a convenient location in your neighborhood and exchange books."})]})]})})})]}):n?o.jsx(pe,{children:o.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"Loading featured books..."})]})})}):s?o.jsx(pe,{children:o.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-red-50 border border-red-100 rounded-lg",children:[o.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:e||"Error loading featured books"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"We're having trouble connecting to our database. This could be due to:"}),o.jsxs("ul",{className:"text-left text-gray-600 mb-4 space-y-1",children:[o.jsx("li",{children:"• Temporary connection issues"}),o.jsx("li",{children:"• Database maintenance"}),o.jsx("li",{children:"• Security configuration updates"})]}),o.jsx(se,{onClick:()=>window.location.reload(),className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:"Try Again"})]})})}):o.jsxs(pe,{children:[o.jsx("div",{className:"bg-bookswap-blue py-16 md:py-24",children:o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"Share the Joy of Reading in Jerusalem"}),o.jsx("p",{className:"text-lg md:text-xl mb-8",children:"Connect with fellow book lovers and swap English books locally. No money, no points—just a community sharing stories."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(se,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:o.jsx(ee,{to:"/books",children:"Browse Available Books"})}),o.jsx(se,{asChild:!0,size:"lg",variant:"outline",children:o.jsx(ee,{to:"/add",children:"Share Your Books"})})]})]})})}),o.jsxs("div",{className:"page-container py-12 md:py-16",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Recently Added Books"}),o.jsxs(ee,{to:"/books",className:"flex items-center text-bookswap-darkblue hover:underline",children:[o.jsx("span",{children:"View all"}),o.jsx(si,{className:"ml-1 w-4 h-4"})]})]}),o.jsx(fc,{books:r})]}),o.jsx("div",{className:"bg-white py-12 md:py-16 border-y border-border",children:o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:o.jsx(io,{className:"w-8 h-8 text-bookswap-darkblue"})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"List Your Books"}),o.jsx("p",{className:"text-muted-foreground",children:"Share the books you've enjoyed and are ready to pass on to another reader in Jerusalem."})]}),o.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[o.jsx("path",{d:"M16 3h5v5"}),o.jsx("path",{d:"M8 3H3v5"}),o.jsx("path",{d:"M21 13v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5"}),o.jsx("path",{d:"m21 8-5-5-5 5"}),o.jsx("path",{d:"m3 16 5 5 5-5"})]})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Find Matches"}),o.jsx("p",{className:"text-muted-foreground",children:"Our system matches you with local readers who have books you want or want books you have."})]}),o.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[o.jsx("path",{d:"M17 6.1H3"}),o.jsx("path",{d:"M21 12.1H3"}),o.jsx("path",{d:"M15.1 18H3"})]})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Meet & Swap"}),o.jsx("p",{className:"text-muted-foreground",children:"Arrange to meet at a convenient location in your neighborhood and exchange books."})]})]})})}),o.jsx("div",{className:"page-container py-12 md:py-16",children:o.jsxs("div",{className:"bg-bookswap-stone/20 border border-bookswap-stone/30 rounded-lg p-8 text-center",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Join Our Growing Community"}),o.jsx("p",{className:"text-lg mb-6 max-w-2xl mx-auto",children:"Help us maximize the circulation of English books throughout Jerusalem. Every book deserves new readers, and every reader deserves new books."}),o.jsx(se,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:o.jsx(ee,{to:"/books",children:"Start Swapping Now"})})]})})]})},Ft=l.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ft.displayName="Input";var wp="Separator",ta="horizontal",Sp=["horizontal","vertical"],hc=l.forwardRef((e,t)=>{const{decorative:r,orientation:n=ta,...s}=e,a=Cp(n)?n:ta,c=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(G.div,{"data-orientation":a,...c,...s,ref:t})});hc.displayName=wp;function Cp(e){return Sp.includes(e)}var mc=hc;const pc=l.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(mc,{ref:s,decorative:r,orientation:t,className:oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));pc.displayName=mc.displayName;function Np(){const e=gn(),[t,r]=l.useState(!1),[n,s]=l.useState(!1),[a,i]=l.useState(!0),[c,u]=l.useState(""),[d,p]=l.useState(""),m=async g=>{g.preventDefault(),r(!0);try{a?(await tp(c,d),e("/")):(await rp(c,d),be.success("Check your email to confirm your account!"))}catch(v){be.error(v.message)}finally{r(!1)}},f=async()=>{s(!0);try{await np(),e("/")}catch(g){be.error(g.message)}finally{s(!1)}};return o.jsx(pe,{children:o.jsx("div",{className:"flex min-h-[calc(100vh-4rem)] items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold",children:a?"Welcome back":"Create an account"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:a?"Sign in to your account":"Sign up for a new account"})]}),o.jsx(se,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:f,disabled:n,children:n?"Signing in...":o.jsxs(o.Fragment,{children:[o.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",children:o.jsx("path",{d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1Z",fill:"currentColor"})})}),"Continue with Google"]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx(pc,{})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{type:"email",placeholder:"Email",value:c,onChange:g=>u(g.target.value),required:!0}),o.jsx(Ft,{type:"password",placeholder:"Password",value:d,onChange:g=>p(g.target.value),required:!0})]}),o.jsx(se,{type:"submit",className:"w-full",disabled:t,children:t?"Loading...":a?"Sign In":"Sign Up"})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>i(!a),className:"text-sm text-muted-foreground hover:underline",children:a?"Need an account? Sign up":"Already have an account? Sign in"})})]})})})}const Kt=["Abu Tor","American Colony","Armenian Quarter","Arnona","Arzei HaBira","Atarot","Bab az-Zahra","Bab Hutta","Baka","Batei Munkacs","Batei Neitin","Batei Saidoff","Batei Ungarin","Batei Warsaw","Bayit VeGan","Beit David","Beit HaKerem","Beit Hanina","Beit Orot","Beit Safafa","Beit Ya'akov","Beit Yisrael","Bezetha","Bukharan Quarter","Christian Quarter","City of David","East Jerusalem","East Talpiot","Ein Karem","Emek Refaim","Even Yisrael","Ezrat Torah","Ezrat Yisrael","French Hill","German Colony","Geula","Gilo","Givat Beit HaKerem","Givat HaMatos","Givat HaMivtar","Givat Massuah","Givat Mordechai","Givat Moshe","Givat Oranim","Givat Ram","Givat Shaul","Greek Colony","Har Homa","Har Hotzvim","Har Nof","Hutzot HaYotzer","Ir Ganim","Jabel Mukaber","Jerusalem Gateway","Jerusalem Technology Park","Downtown Triangle","Jewish Quarter","Kafr 'Aqab","Katamon","Kerem Avraham","Kirya Ne'emana","Kiryat HaLeom","Kiryat HaMemshala","Kiryat HaYovel","Kiryat Itri","Kiryat Mattersdorf","Kiryat Menachem","Kiryat Menachem Begin","Kiryat Moshe","Kiryat Sanz","Kiryat Shmuel","Kiryat Shomrei Emunim","Kiryat Unsdorf","Kiryat Wolfson","Knesset Yisrael","Lifta","Ma'ale HaZeitim","Ma'alot Dafna","Mahane Israel","Mahane Yehuda","Malha","Mamilla","Mazkeret Moshe","Mea Shearim","Mekor Baruch","Mekor Chaim","Mishkenot Sha'ananim","Motza","Mughrabi Quarter","Muristan","Muslim Quarter","Musrara","Nachlaot","Nahalat Shimon","Nahalat Shiv'a","Nayot","Neve Granot","Neve Sha'anan","Neve Yaakov","Nof Zion","Ohel Shlomo","Old City","Mount of Olives","Pat","Pisgat Ze'ev","Al-Ram","Ramat Beit HaKerem","Ramat Denya","Ramat Eshkol","Ramat Rachel","Ramat Sharett","Ramat Shlomo","Ramot Polin","Ramot","Ras al-Amud","Ras Khamis","Rassco","Rehavia","Romema","Russian Compound","Sanhedria","Sanhedria Murhevet","Sha'arei Hesed","Sha'arei Yerushalayim","Sharafat","Sheikh Badr","Sheikh Jarrah","Shikun Chabad","Shimon HaTzadik","Shmuel HaNavi","Shuafat","Silwan","Sur Baher","Talbiya","Talpiot","Tel Arza","At-Tur","Umm Tuba","Wadi al-Joz","Wadi Hilweh","Al-Walaja","Yefeh Nof","Yemin Moshe","Zikhron Moshe","Zikhron Tuvya","Zikhron Yosef","Mount Zion"];function jp({selectedNeighborhoods:e,onChange:t}){const[r,n]=l.useState(!1),s=c=>{e.includes(c)?t(e.filter(u=>u!==c)):t([...e,c])},a=()=>{e.length===Kt.length?t([]):t([...Kt])},i=e.length===Kt.length;return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>n(!r),className:"flex items-center justify-between w-full px-4 py-2 text-sm border border-border rounded-md bg-white",children:[o.jsx("span",{children:e.length===0?"All Neighborhoods":`${e.length} selected`}),o.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-border rounded-md shadow-lg max-h-60 overflow-y-auto",children:o.jsxs("div",{className:"p-2",children:[o.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer border-b border-border mb-1",onClick:a,children:[o.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:i&&o.jsx(co,{className:"w-3 h-3 text-primary"})}),o.jsx("span",{className:"text-sm font-medium",children:"Select All"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:Kt.map(c=>o.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer",onClick:()=>s(c),children:[o.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:e.includes(c)&&o.jsx(co,{className:"w-3 h-3 text-primary"})}),o.jsx("span",{className:"text-sm",children:c})]},c))})]})})]})}const Ep=()=>{const[e,t]=l.useState(""),[r,n]=l.useState([]),{data:s=[],isLoading:a,error:i}=Dt({queryKey:["books",e,r],queryFn:async()=>{const c=He(Se,Ce.BOOKS);let p=(await Ot(c)).docs.map(m=>{const f=m.data();return{id:m.id,title:f.title,author:f.author,coverColor:f.cover_color,description:f.description||"",condition:f.condition,owner:f.owner}});if(e){const m=e.toLowerCase();p=p.filter(f=>f.title.toLowerCase().includes(m)||f.author.toLowerCase().includes(m)||f.description&&f.description.toLowerCase().includes(m))}return r.length>0&&(p=p.filter(m=>r.includes(m.owner.neighborhood))),console.log("Fetched books:",p.length),p}});return a?o.jsx(pe,{children:o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("p",{className:"text-lg",children:"Loading books..."})})})}):i?o.jsx(pe,{children:o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-lg text-red-600 font-medium mb-2",children:"Error loading books"}),o.jsx("p",{className:"text-muted-foreground",children:i.message||"Please try again later or contact support"})]})})})}):o.jsx(pe,{children:o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 md:mb-0",children:"Browse Available Books"}),o.jsx(se,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:o.jsx(ee,{to:"/add",children:"Add Your Book"})})]}),o.jsx("div",{className:"bg-white border border-border rounded-lg p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"col-span-1 md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),o.jsx(Ft,{placeholder:"Search by title, author, or description...",value:e,onChange:c=>t(c.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"col-span-1",children:o.jsx(jp,{selectedNeighborhoods:r,onChange:n})})]})}),o.jsx("div",{className:"mb-4",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.length," books"]})}),o.jsx(fc,{books:s,emptyMessage:"No books match your search criteria. Try adjusting your filters or add your own books to share!"})]})})};var kp="Label",gc=l.forwardRef((e,t)=>o.jsx(G.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));gc.displayName=kp;var vc=gc;const Rp=qo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jt=l.forwardRef(({className:e,...t},r)=>o.jsx(vc,{ref:r,className:oe(Rp(),e),...t}));jt.displayName=vc.displayName;function ra(e,[t,r]){return Math.min(r,Math.max(t,e))}var Tp=l.createContext(void 0);function hs(e){const t=l.useContext(Tp);return e||t||"ltr"}var Gn=0;function Pp(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??na()),document.body.insertAdjacentElement("beforeend",e[1]??na()),Gn++,()=>{Gn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gn--}},[])}function na(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qn="focusScope.autoFocusOnMount",Yn="focusScope.autoFocusOnUnmount",oa={bubbles:!1,cancelable:!0},Ap="FocusScope",xc=l.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[c,u]=l.useState(null),d=ke(s),p=ke(a),m=l.useRef(null),f=de(t,h=>u(h)),g=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let h=function(C){if(g.paused||!c)return;const N=C.target;c.contains(N)?m.current=N:lt(m.current,{select:!0})},x=function(C){if(g.paused||!c)return;const N=C.relatedTarget;N!==null&&(c.contains(N)||lt(m.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const S of C)S.removedNodes.length>0&&lt(c)};document.addEventListener("focusin",h),document.addEventListener("focusout",x);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",x),b.disconnect()}}},[n,c,g.paused]),l.useEffect(()=>{if(c){aa.add(g);const h=document.activeElement;if(!c.contains(h)){const y=new CustomEvent(qn,oa);c.addEventListener(qn,d),c.dispatchEvent(y),y.defaultPrevented||(Mp(Dp(yc(c)),{select:!0}),document.activeElement===h&&lt(c))}return()=>{c.removeEventListener(qn,d),setTimeout(()=>{const y=new CustomEvent(Yn,oa);c.addEventListener(Yn,p),c.dispatchEvent(y),y.defaultPrevented||lt(h??document.body,{select:!0}),c.removeEventListener(Yn,p),aa.remove(g)},0)}}},[c,d,p,g]);const v=l.useCallback(h=>{if(!r&&!n||g.paused)return;const x=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,y=document.activeElement;if(x&&y){const b=h.currentTarget,[C,N]=Ip(b);C&&N?!h.shiftKey&&y===N?(h.preventDefault(),r&&lt(C,{select:!0})):h.shiftKey&&y===C&&(h.preventDefault(),r&&lt(N,{select:!0})):y===b&&h.preventDefault()}},[r,n,g.paused]);return o.jsx(G.div,{tabIndex:-1,...i,ref:f,onKeyDown:v})});xc.displayName=Ap;function Mp(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(lt(n,{select:t}),document.activeElement!==r)return}function Ip(e){const t=yc(e),r=sa(t,e),n=sa(t.reverse(),e);return[r,n]}function yc(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sa(e,t){for(const r of e)if(!Op(r,{upTo:t}))return r}function Op(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _p(e){return e instanceof HTMLInputElement&&"select"in e}function lt(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&_p(e)&&t&&e.select()}}var aa=Lp();function Lp(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ia(e,t),e.unshift(t)},remove(t){var r;e=ia(e,t),(r=e[0])==null||r.resume()}}}function ia(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Dp(e){return e.filter(t=>t.tagName!=="A")}function bc(e){const t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Fp=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ut=new WeakMap,Xr=new WeakMap,Jr={},Qn=0,wc=function(e){return e&&(e.host||wc(e.parentNode))},Bp=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=wc(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},$p=function(e,t,r,n){var s=Bp(t,Array.isArray(e)?e:[e]);Jr[r]||(Jr[r]=new WeakMap);var a=Jr[r],i=[],c=new Set,u=new Set(s),d=function(m){!m||c.has(m)||(c.add(m),d(m.parentNode))};s.forEach(d);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(f){if(c.has(f))p(f);else try{var g=f.getAttribute(n),v=g!==null&&g!=="false",h=(Ut.get(f)||0)+1,x=(a.get(f)||0)+1;Ut.set(f,h),a.set(f,x),i.push(f),h===1&&v&&Xr.set(f,!0),x===1&&f.setAttribute(r,"true"),v||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return p(t),c.clear(),Qn++,function(){i.forEach(function(m){var f=Ut.get(m)-1,g=a.get(m)-1;Ut.set(m,f),a.set(m,g),f||(Xr.has(m)||m.removeAttribute(n),Xr.delete(m)),g||m.removeAttribute(r)}),Qn--,Qn||(Ut=new WeakMap,Ut=new WeakMap,Xr=new WeakMap,Jr={})}},Hp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Fp(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),$p(n,s,r,"aria-hidden")):function(){return null}},on="right-scroll-bar-position",sn="width-before-scroll-bar",Wp="with-scroll-bars-hidden",Up="--removed-body-scroll-bar-size";function Xn(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zp(e,t){var r=l.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Vp=typeof window<"u"?l.useLayoutEffect:l.useEffect,ca=new WeakMap;function Kp(e,t){var r=zp(null,function(n){return e.forEach(function(s){return Xn(s,n)})});return Vp(function(){var n=ca.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(c){a.has(c)||Xn(c,null)}),a.forEach(function(c){s.has(c)||Xn(c,i)})}ca.set(r,e)},[e]),r}function Gp(e){return e}function qp(e,t){t===void 0&&(t=Gp);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(c){return c!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(c){return a(c)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var c=r;r=[],c.forEach(a),i=r}var u=function(){var p=i;i=[],p.forEach(a)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(p){i.push(p),d()},filter:function(p){return i=i.filter(p),r}}}};return s}function Yp(e){e===void 0&&(e={});var t=qp(null);return t.options=dt({async:!0,ssr:!1},e),t}var Sc=function(e){var t=e.sideCar,r=ka(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return l.createElement(n,dt({},r))};Sc.isSideCarExport=!0;function Qp(e,t){return e.useMedium(t),Sc}var Cc=Yp(),Jn=function(){},Tn=l.forwardRef(function(e,t){var r=l.useRef(null),n=l.useState({onScrollCapture:Jn,onWheelCapture:Jn,onTouchMoveCapture:Jn}),s=n[0],a=n[1],i=e.forwardProps,c=e.children,u=e.className,d=e.removeScrollBar,p=e.enabled,m=e.shards,f=e.sideCar,g=e.noIsolation,v=e.inert,h=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,b=e.gapMode,C=ka(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,S=Kp([r,t]),j=dt(dt({},C),s);return l.createElement(l.Fragment,null,p&&l.createElement(N,{sideCar:Cc,removeScrollBar:d,shards:m,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!h,lockRef:r,gapMode:b}),i?l.cloneElement(l.Children.only(c),dt(dt({},j),{ref:S})):l.createElement(y,dt({},j,{className:u,ref:S}),c))});Tn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tn.classNames={fullWidth:sn,zeroRight:on};var Xp=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jp(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Xp();return t&&e.setAttribute("nonce",t),e}function Zp(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eg(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tg=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Jp())&&(Zp(t,r),eg(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rg=function(){var e=tg();return function(t,r){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Nc=function(){var e=rg(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},ng={left:0,top:0,right:0,gap:0},Zn=function(e){return parseInt(e||"",10)||0},og=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Zn(r),Zn(n),Zn(s)]},sg=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ng;var t=og(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ag=Nc(),Qt="data-scroll-locked",ig=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Wp,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Qt,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(on,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(sn,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(on," .").concat(on,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(sn," .").concat(sn,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qt,`] {
    `).concat(Up,": ").concat(c,`px;
  }
`)},la=function(){var e=parseInt(document.body.getAttribute(Qt)||"0",10);return isFinite(e)?e:0},cg=function(){l.useEffect(function(){return document.body.setAttribute(Qt,(la()+1).toString()),function(){var e=la()-1;e<=0?document.body.removeAttribute(Qt):document.body.setAttribute(Qt,e.toString())}},[])},lg=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;cg();var a=l.useMemo(function(){return sg(s)},[s]);return l.createElement(ag,{styles:ig(a,!t,s,r?"":"!important")})},Ao=!1;if(typeof window<"u")try{var Zr=Object.defineProperty({},"passive",{get:function(){return Ao=!0,!0}});window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Ao=!1}var zt=Ao?{passive:!1}:!1,dg=function(e){return e.tagName==="TEXTAREA"},jc=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dg(e)&&r[t]==="visible")},ug=function(e){return jc(e,"overflowY")},fg=function(e){return jc(e,"overflowX")},da=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Ec(e,n);if(s){var a=kc(e,n),i=a[1],c=a[2];if(i>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hg=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mg=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Ec=function(e,t){return e==="v"?ug(t):fg(t)},kc=function(e,t){return e==="v"?hg(t):mg(t)},pg=function(e,t){return e==="h"&&t==="rtl"?-1:1},gg=function(e,t,r,n,s){var a=pg(e,window.getComputedStyle(t).direction),i=a*n,c=r.target,u=t.contains(c),d=!1,p=i>0,m=0,f=0;do{var g=kc(e,c),v=g[0],h=g[1],x=g[2],y=h-x-a*v;(v||y)&&Ec(e,c)&&(m+=y,f+=v),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(p&&(Math.abs(m)<1||!s)||!p&&(Math.abs(f)<1||!s))&&(d=!0),d},en=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ua=function(e){return[e.deltaX,e.deltaY]},fa=function(e){return e&&"current"in e?e.current:e},vg=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xg=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yg=0,Vt=[];function bg(e){var t=l.useRef([]),r=l.useRef([0,0]),n=l.useRef(),s=l.useState(yg++)[0],a=l.useState(Nc)[0],i=l.useRef(e);l.useEffect(function(){i.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var h=gd([e.lockRef.current],(e.shards||[]).map(fa),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=l.useCallback(function(h,x){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!i.current.allowPinchZoom;var y=en(h),b=r.current,C="deltaX"in h?h.deltaX:b[0]-y[0],N="deltaY"in h?h.deltaY:b[1]-y[1],S,j=h.target,E=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in h&&E==="h"&&j.type==="range")return!1;var k=da(E,j);if(!k)return!0;if(k?S=E:(S=E==="v"?"h":"v",k=da(E,j)),!k)return!1;if(!n.current&&"changedTouches"in h&&(C||N)&&(n.current=S),!S)return!0;var A=n.current||S;return gg(A,x,h,A==="h"?C:N,!0)},[]),u=l.useCallback(function(h){var x=h;if(!(!Vt.length||Vt[Vt.length-1]!==a)){var y="deltaY"in x?ua(x):en(x),b=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&vg(S.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var C=(i.current.shards||[]).map(fa).filter(Boolean).filter(function(S){return S.contains(x.target)}),N=C.length>0?c(x,C[0]):!i.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),d=l.useCallback(function(h,x,y,b){var C={name:h,delta:x,target:y,should:b,shadowParent:wg(y)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(N){return N!==C})},1)},[]),p=l.useCallback(function(h){r.current=en(h),n.current=void 0},[]),m=l.useCallback(function(h){d(h.type,ua(h),h.target,c(h,e.lockRef.current))},[]),f=l.useCallback(function(h){d(h.type,en(h),h.target,c(h,e.lockRef.current))},[]);l.useEffect(function(){return Vt.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",u,zt),document.addEventListener("touchmove",u,zt),document.addEventListener("touchstart",p,zt),function(){Vt=Vt.filter(function(h){return h!==a}),document.removeEventListener("wheel",u,zt),document.removeEventListener("touchmove",u,zt),document.removeEventListener("touchstart",p,zt)}},[]);var g=e.removeScrollBar,v=e.inert;return l.createElement(l.Fragment,null,v?l.createElement(a,{styles:xg(s)}):null,g?l.createElement(lg,{gapMode:e.gapMode}):null)}function wg(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Sg=Qp(Cc,bg);var Rc=l.forwardRef(function(e,t){return l.createElement(Tn,dt({},e,{ref:t,sideCar:Sg}))});Rc.classNames=Tn.classNames;var Cg=[" ","Enter","ArrowUp","ArrowDown"],Ng=[" ","Enter"],Wr="Select",[Pn,An,jg]=Uo(Wr),[Sr,Uv]=vr(Wr,[jg,En]),Mn=En(),[Eg,St]=Sr(Wr),[kg,Rg]=Sr(Wr),Tc=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:c,onValueChange:u,dir:d,name:p,autoComplete:m,disabled:f,required:g,form:v}=e,h=Mn(t),[x,y]=l.useState(null),[b,C]=l.useState(null),[N,S]=l.useState(!1),j=hs(d),[E=!1,k]=Tr({prop:n,defaultProp:s,onChange:a}),[A,L]=Tr({prop:i,defaultProp:c,onChange:u}),P=l.useRef(null),I=x?v||!!x.closest("form"):!0,[W,R]=l.useState(new Set),F=Array.from(W).map(O=>O.props.value).join(";");return o.jsx(Xh,{...h,children:o.jsxs(Eg,{required:g,scope:t,trigger:x,onTriggerChange:y,valueNode:b,onValueNodeChange:C,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:Sn(),value:A,onValueChange:L,open:E,onOpenChange:k,dir:j,triggerPointerDownPosRef:P,disabled:f,children:[o.jsx(Pn.Provider,{scope:t,children:o.jsx(kg,{scope:e.__scopeSelect,onNativeOptionAdd:l.useCallback(O=>{R(B=>new Set(B).add(O))},[]),onNativeOptionRemove:l.useCallback(O=>{R(B=>{const T=new Set(B);return T.delete(O),T})},[]),children:r})}),I?o.jsxs(el,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:m,value:A,onChange:O=>L(O.target.value),disabled:f,form:v,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(W)]},F):null]})})};Tc.displayName=Wr;var Pc="SelectTrigger",Ac=l.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Mn(r),i=St(Pc,r),c=i.disabled||n,u=de(t,i.onTriggerChange),d=An(r),p=l.useRef("touch"),[m,f,g]=tl(h=>{const x=d().filter(C=>!C.disabled),y=x.find(C=>C.value===i.value),b=rl(x,h,y);b!==void 0&&i.onValueChange(b.value)}),v=h=>{c||(i.onOpenChange(!0),g()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return o.jsx(Fi,{asChild:!0,...a,children:o.jsx(G.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Zc(i.value)?"":void 0,...s,ref:u,onClick:z(s.onClick,h=>{h.currentTarget.focus(),p.current!=="mouse"&&v(h)}),onPointerDown:z(s.onPointerDown,h=>{p.current=h.pointerType;const x=h.target;x.hasPointerCapture(h.pointerId)&&x.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(v(h),h.preventDefault())}),onKeyDown:z(s.onKeyDown,h=>{const x=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&f(h.key),!(x&&h.key===" ")&&Cg.includes(h.key)&&(v(),h.preventDefault())})})})});Ac.displayName=Pc;var Mc="SelectValue",Ic=l.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...c}=e,u=St(Mc,r),{onValueNodeHasChildrenChange:d}=u,p=a!==void 0,m=de(t,u.onValueNodeChange);return ge(()=>{d(p)},[d,p]),o.jsx(G.span,{...c,ref:m,style:{pointerEvents:"none"},children:Zc(u.value)?o.jsx(o.Fragment,{children:i}):a})});Ic.displayName=Mc;var Tg="SelectIcon",Oc=l.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(G.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});Oc.displayName=Tg;var Pg="SelectPortal",_c=e=>o.jsx(zo,{asChild:!0,...e});_c.displayName=Pg;var Bt="SelectContent",Lc=l.forwardRef((e,t)=>{const r=St(Bt,e.__scopeSelect),[n,s]=l.useState();if(ge(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?gr.createPortal(o.jsx(Dc,{scope:e.__scopeSelect,children:o.jsx(Pn.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(Fc,{...e,ref:t})});Lc.displayName=Bt;var Fe=10,[Dc,Ct]=Sr(Bt),Ag="SelectContentImpl",Fc=l.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:c,sideOffset:u,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:h,avoidCollisions:x,...y}=e,b=St(Bt,r),[C,N]=l.useState(null),[S,j]=l.useState(null),E=de(t,H=>N(H)),[k,A]=l.useState(null),[L,P]=l.useState(null),I=An(r),[W,R]=l.useState(!1),F=l.useRef(!1);l.useEffect(()=>{if(C)return Hp(C)},[C]),Pp();const O=l.useCallback(H=>{const[te,...he]=I().map(Z=>Z.ref.current),[J]=he.slice(-1),re=document.activeElement;for(const Z of H)if(Z===re||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===te&&S&&(S.scrollTop=0),Z===J&&S&&(S.scrollTop=S.scrollHeight),Z==null||Z.focus(),document.activeElement!==re))return},[I,S]),B=l.useCallback(()=>O([k,C]),[O,k,C]);l.useEffect(()=>{W&&B()},[W,B]);const{onOpenChange:T,triggerPointerDownPosRef:D}=b;l.useEffect(()=>{if(C){let H={x:0,y:0};const te=J=>{var re,Z;H={x:Math.abs(Math.round(J.pageX)-(((re=D.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(J.pageY)-(((Z=D.current)==null?void 0:Z.y)??0))}},he=J=>{H.x<=10&&H.y<=10?J.preventDefault():C.contains(J.target)||T(!1),document.removeEventListener("pointermove",te),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,T,D]),l.useEffect(()=>{const H=()=>T(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[T]);const[ue,$]=tl(H=>{const te=I().filter(re=>!re.disabled),he=te.find(re=>re.ref.current===document.activeElement),J=rl(te,H,he);J&&setTimeout(()=>J.ref.current.focus())}),q=l.useCallback((H,te,he)=>{const J=!F.current&&!he;(b.value!==void 0&&b.value===te||J)&&(A(H),J&&(F.current=!0))},[b.value]),X=l.useCallback(()=>C==null?void 0:C.focus(),[C]),fe=l.useCallback((H,te,he)=>{const J=!F.current&&!he;(b.value!==void 0&&b.value===te||J)&&P(H)},[b.value]),Re=n==="popper"?Mo:Bc,ae=Re===Mo?{side:c,sideOffset:u,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:h,avoidCollisions:x}:{};return o.jsx(Dc,{scope:r,content:C,viewport:S,onViewportChange:j,itemRefCallback:q,selectedItem:k,onItemLeave:X,itemTextRefCallback:fe,focusSelectedItem:B,selectedItemText:L,position:n,isPositioned:W,searchRef:ue,children:o.jsx(Rc,{as:hr,allowPinchZoom:!0,children:o.jsx(xc,{asChild:!0,trapped:b.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:z(s,H=>{var te;(te=b.trigger)==null||te.focus({preventScroll:!0}),H.preventDefault()}),children:o.jsx(xn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(Re,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:H=>H.preventDefault(),...y,...ae,onPlaced:()=>R(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:z(y.onKeyDown,H=>{const te=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!te&&H.key.length===1&&$(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let J=I().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(H.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const re=H.target,Z=J.indexOf(re);J=J.slice(Z+1)}setTimeout(()=>O(J)),H.preventDefault()}})})})})})})});Fc.displayName=Ag;var Mg="SelectItemAlignedPosition",Bc=l.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=St(Bt,r),i=Ct(Bt,r),[c,u]=l.useState(null),[d,p]=l.useState(null),m=de(t,E=>p(E)),f=An(r),g=l.useRef(!1),v=l.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:y,focusSelectedItem:b}=i,C=l.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&d&&h&&x&&y){const E=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),A=a.valueNode.getBoundingClientRect(),L=y.getBoundingClientRect();if(a.dir!=="rtl"){const re=L.left-k.left,Z=A.left-re,Ne=E.left-Z,Pe=E.width+Ne,ot=Math.max(Pe,k.width),_e=window.innerWidth-Fe,Nt=ra(Z,[Fe,Math.max(Fe,_e-ot)]);c.style.minWidth=Pe+"px",c.style.left=Nt+"px"}else{const re=k.right-L.right,Z=window.innerWidth-A.right-re,Ne=window.innerWidth-E.right-Z,Pe=E.width+Ne,ot=Math.max(Pe,k.width),_e=window.innerWidth-Fe,Nt=ra(Z,[Fe,Math.max(Fe,_e-ot)]);c.style.minWidth=Pe+"px",c.style.right=Nt+"px"}const P=f(),I=window.innerHeight-Fe*2,W=h.scrollHeight,R=window.getComputedStyle(d),F=parseInt(R.borderTopWidth,10),O=parseInt(R.paddingTop,10),B=parseInt(R.borderBottomWidth,10),T=parseInt(R.paddingBottom,10),D=F+O+W+T+B,ue=Math.min(x.offsetHeight*5,D),$=window.getComputedStyle(h),q=parseInt($.paddingTop,10),X=parseInt($.paddingBottom,10),fe=E.top+E.height/2-Fe,Re=I-fe,ae=x.offsetHeight/2,H=x.offsetTop+ae,te=F+O+H,he=D-te;if(te<=fe){const re=P.length>0&&x===P[P.length-1].ref.current;c.style.bottom="0px";const Z=d.clientHeight-h.offsetTop-h.offsetHeight,Ne=Math.max(Re,ae+(re?X:0)+Z+B),Pe=te+Ne;c.style.height=Pe+"px"}else{const re=P.length>0&&x===P[0].ref.current;c.style.top="0px";const Ne=Math.max(fe,F+h.offsetTop+(re?q:0)+ae)+he;c.style.height=Ne+"px",h.scrollTop=te-fe+h.offsetTop}c.style.margin=`${Fe}px 0`,c.style.minHeight=ue+"px",c.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,c,d,h,x,y,a.dir,n]);ge(()=>C(),[C]);const[N,S]=l.useState();ge(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const j=l.useCallback(E=>{E&&v.current===!0&&(C(),b==null||b(),v.current=!1)},[C,b]);return o.jsx(Og,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:o.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(G.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Bc.displayName=Mg;var Ig="SelectPopperPosition",Mo=l.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Fe,...a}=e,i=Mn(r);return o.jsx(Bi,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mo.displayName=Ig;var[Og,ms]=Sr(Bt,{}),Io="SelectViewport",$c=l.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Ct(Io,r),i=ms(Io,r),c=de(t,a.onViewportChange),u=l.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Pn.Slot,{scope:r,children:o.jsx(G.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:z(s.onScroll,d=>{const p=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&m){const g=Math.abs(u.current-p.scrollTop);if(g>0){const v=window.innerHeight-Fe*2,h=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),y=Math.max(h,x);if(y<v){const b=y+g,C=Math.min(v,b),N=b-C;m.style.height=C+"px",m.style.bottom==="0px"&&(p.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});$c.displayName=Io;var Hc="SelectGroup",[_g,Lg]=Sr(Hc),Dg=l.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Sn();return o.jsx(_g,{scope:r,id:s,children:o.jsx(G.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Dg.displayName=Hc;var Wc="SelectLabel",Uc=l.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Lg(Wc,r);return o.jsx(G.div,{id:s.id,...n,ref:t})});Uc.displayName=Wc;var fn="SelectItem",[Fg,zc]=Sr(fn),Vc=l.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,c=St(fn,r),u=Ct(fn,r),d=c.value===n,[p,m]=l.useState(a??""),[f,g]=l.useState(!1),v=de(t,b=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,b,n,s)}),h=Sn(),x=l.useRef("touch"),y=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Fg,{scope:r,value:n,disabled:s,textId:h,isSelected:d,onItemTextChange:l.useCallback(b=>{m(C=>C||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(Pn.ItemSlot,{scope:r,value:n,disabled:s,textValue:p,children:o.jsx(G.div,{role:"option","aria-labelledby":h,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:z(i.onFocus,()=>g(!0)),onBlur:z(i.onBlur,()=>g(!1)),onClick:z(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:z(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:z(i.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:z(i.onPointerMove,b=>{var C;x.current=b.pointerType,s?(C=u.onItemLeave)==null||C.call(u):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:z(i.onPointerLeave,b=>{var C;b.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:z(i.onKeyDown,b=>{var N;((N=u.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(Ng.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});Vc.displayName=fn;var Er="SelectItemText",Kc=l.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=St(Er,r),c=Ct(Er,r),u=zc(Er,r),d=Rg(Er,r),[p,m]=l.useState(null),f=de(t,y=>m(y),u.onItemTextChange,y=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,y,u.value,u.disabled)}),g=p==null?void 0:p.textContent,v=l.useMemo(()=>o.jsx("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=d;return ge(()=>(h(v),()=>x(v)),[h,x,v]),o.jsxs(o.Fragment,{children:[o.jsx(G.span,{id:u.textId,...a,ref:f}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?gr.createPortal(a.children,i.valueNode):null]})});Kc.displayName=Er;var Gc="SelectItemIndicator",qc=l.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zc(Gc,r).isSelected?o.jsx(G.span,{"aria-hidden":!0,...n,ref:t}):null});qc.displayName=Gc;var Oo="SelectScrollUpButton",Yc=l.forwardRef((e,t)=>{const r=Ct(Oo,e.__scopeSelect),n=ms(Oo,e.__scopeSelect),[s,a]=l.useState(!1),i=de(t,n.onScrollButtonChange);return ge(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=u.scrollTop>0;a(d)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?o.jsx(Xc,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Yc.displayName=Oo;var _o="SelectScrollDownButton",Qc=l.forwardRef((e,t)=>{const r=Ct(_o,e.__scopeSelect),n=ms(_o,e.__scopeSelect),[s,a]=l.useState(!1),i=de(t,n.onScrollButtonChange);return ge(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<d;a(p)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?o.jsx(Xc,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});Qc.displayName=_o;var Xc=l.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Ct("SelectScrollButton",r),i=l.useRef(null),c=An(r),u=l.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return l.useEffect(()=>()=>u(),[u]),ge(()=>{var p;const d=c().find(m=>m.ref.current===document.activeElement);(p=d==null?void 0:d.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),o.jsx(G.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:z(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:z(s.onPointerLeave,()=>{u()})})}),Bg="SelectSeparator",Jc=l.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(G.div,{"aria-hidden":!0,...n,ref:t})});Jc.displayName=Bg;var Lo="SelectArrow",$g=l.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Mn(r),a=St(Lo,r),i=Ct(Lo,r);return a.open&&i.position==="popper"?o.jsx($i,{...s,...n,ref:t}):null});$g.displayName=Lo;function Zc(e){return e===""||e===void 0}var el=l.forwardRef((e,t)=>{const{value:r,...n}=e,s=l.useRef(null),a=de(t,s),i=bc(r);return l.useEffect(()=>{const c=s.current,u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==r&&p){const m=new Event("change",{bubbles:!0});p.call(c,r),c.dispatchEvent(m)}},[i,r]),o.jsx(Br,{asChild:!0,children:o.jsx("select",{...n,ref:a,defaultValue:r})})});el.displayName="BubbleSelect";function tl(e){const t=ke(e),r=l.useRef(""),n=l.useRef(0),s=l.useCallback(i=>{const c=r.current+i;t(c),function u(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(c)},[t]),a=l.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function rl(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Hg(e,Math.max(a,0));s.length===1&&(i=i.filter(d=>d!==r));const u=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function Hg(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Wg=Tc,nl=Ac,Ug=Ic,zg=Oc,Vg=_c,ol=Lc,Kg=$c,sl=Uc,al=Vc,Gg=Kc,qg=qc,il=Yc,cl=Qc,ll=Jc;const Do=Wg,Fo=Ug,hn=l.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(nl,{ref:n,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(zg,{asChild:!0,children:o.jsx(ai,{className:"h-4 w-4 opacity-50"})})]}));hn.displayName=nl.displayName;const dl=l.forwardRef(({className:e,...t},r)=>o.jsx(il,{ref:r,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Nu,{className:"h-4 w-4"})}));dl.displayName=il.displayName;const ul=l.forwardRef(({className:e,...t},r)=>o.jsx(cl,{ref:r,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(ai,{className:"h-4 w-4"})}));ul.displayName=cl.displayName;const mn=l.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(Vg,{children:o.jsxs(ol,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(dl,{}),o.jsx(Kg,{className:oe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(ul,{})]})}));mn.displayName=ol.displayName;const Yg=l.forwardRef(({className:e,...t},r)=>o.jsx(sl,{ref:r,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Yg.displayName=sl.displayName;const pn=l.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(al,{ref:n,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(qg,{children:o.jsx(co,{className:"h-4 w-4"})})}),o.jsx(Gg,{children:t})]}));pn.displayName=al.displayName;const Qg=l.forwardRef(({className:e,...t},r)=>o.jsx(ll,{ref:r,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));Qg.displayName=ll.displayName;function Xg(e,t=[]){let r=[];function n(a,i){const c=l.createContext(i),u=r.length;r=[...r,i];function d(m){const{scope:f,children:g,...v}=m,h=(f==null?void 0:f[e][u])||c,x=l.useMemo(()=>v,Object.values(v));return o.jsx(h.Provider,{value:x,children:g})}function p(m,f){const g=(f==null?void 0:f[e][u])||c,v=l.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,p]}const s=()=>{const a=r.map(i=>l.createContext(i));return function(c){const u=(c==null?void 0:c[e])||a;return l.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[n,Jg(s,...t)]}function Jg(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((c,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var eo="rovingFocusGroup.onEntryFocus",Zg={bubbles:!1,cancelable:!0},In="RovingFocusGroup",[Bo,fl,ev]=Uo(In),[tv,hl]=Xg(In,[ev]),[rv,nv]=tv(In),ml=l.forwardRef((e,t)=>o.jsx(Bo.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Bo.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ov,{...e,ref:t})})}));ml.displayName=In;var ov=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...m}=e,f=l.useRef(null),g=de(t,f),v=hs(a),[h=null,x]=Tr({prop:i,defaultProp:c,onChange:u}),[y,b]=l.useState(!1),C=ke(d),N=fl(r),S=l.useRef(!1),[j,E]=l.useState(0);return l.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(eo,C),()=>k.removeEventListener(eo,C)},[C]),o.jsx(rv,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:h,onItemFocus:l.useCallback(k=>x(k),[x]),onItemShiftTab:l.useCallback(()=>b(!0),[]),onFocusableItemAdd:l.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:l.useCallback(()=>E(k=>k-1),[]),children:o.jsx(G.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:z(e.onMouseDown,()=>{S.current=!0}),onFocus:z(e.onFocus,k=>{const A=!S.current;if(k.target===k.currentTarget&&A&&!y){const L=new CustomEvent(eo,Zg);if(k.currentTarget.dispatchEvent(L),!L.defaultPrevented){const P=N().filter(O=>O.focusable),I=P.find(O=>O.active),W=P.find(O=>O.id===h),F=[I,W,...P].filter(Boolean).map(O=>O.ref.current);vl(F,p)}}S.current=!1}),onBlur:z(e.onBlur,()=>b(!1))})})}),pl="RovingFocusGroupItem",gl=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,c=Sn(),u=a||c,d=nv(pl,r),p=d.currentTabStopId===u,m=fl(r),{onFocusableItemAdd:f,onFocusableItemRemove:g}=d;return l.useEffect(()=>{if(n)return f(),()=>g()},[n,f,g]),o.jsx(Bo.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(G.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:z(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:z(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:z(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const h=iv(v,d.orientation,d.dir);if(h!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=m().filter(b=>b.focusable).map(b=>b.ref.current);if(h==="last")y.reverse();else if(h==="prev"||h==="next"){h==="prev"&&y.reverse();const b=y.indexOf(v.currentTarget);y=d.loop?cv(y,b+1):y.slice(b+1)}setTimeout(()=>vl(y))}})})})});gl.displayName=pl;var sv={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function av(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iv(e,t,r){const n=av(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return sv[n]}function vl(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function cv(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lv=ml,dv=gl,ps="Radio",[uv,xl]=vr(ps),[fv,hv]=uv(ps),yl=l.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:i,value:c="on",onCheck:u,form:d,...p}=e,[m,f]=l.useState(null),g=de(t,x=>f(x)),v=l.useRef(!1),h=m?d||!!m.closest("form"):!0;return o.jsxs(fv,{scope:r,checked:s,disabled:i,children:[o.jsx(G.button,{type:"button",role:"radio","aria-checked":s,"data-state":Sl(s),"data-disabled":i?"":void 0,disabled:i,value:c,...p,ref:g,onClick:z(e.onClick,x=>{s||u==null||u(),h&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),h&&o.jsx(mv,{control:m,bubbles:!v.current,name:n,value:c,checked:s,required:a,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});yl.displayName=ps;var bl="RadioIndicator",wl=l.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=hv(bl,r);return o.jsx(yn,{present:n||a.checked,children:o.jsx(G.span,{"data-state":Sl(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});wl.displayName=bl;var mv=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=l.useRef(null),i=bc(r),c=Ri(t);return l.useEffect(()=>{const u=a.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&m){const f=new Event("click",{bubbles:n});m.call(u,r),u.dispatchEvent(f)}},[i,r,n]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Sl(e){return e?"checked":"unchecked"}var pv=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gs="RadioGroup",[gv,zv]=vr(gs,[hl,xl]),Cl=hl(),Nl=xl(),[vv,xv]=gv(gs),jl=l.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:i=!1,disabled:c=!1,orientation:u,dir:d,loop:p=!0,onValueChange:m,...f}=e,g=Cl(r),v=hs(d),[h,x]=Tr({prop:a,defaultProp:s,onChange:m});return o.jsx(vv,{scope:r,name:n,required:i,disabled:c,value:h,onValueChange:x,children:o.jsx(lv,{asChild:!0,...g,orientation:u,dir:v,loop:p,children:o.jsx(G.div,{role:"radiogroup","aria-required":i,"aria-orientation":u,"data-disabled":c?"":void 0,dir:v,...f,ref:t})})})});jl.displayName=gs;var El="RadioGroupItem",kl=l.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=xv(El,r),i=a.disabled||n,c=Cl(r),u=Nl(r),d=l.useRef(null),p=de(t,d),m=a.value===s.value,f=l.useRef(!1);return l.useEffect(()=>{const g=h=>{pv.includes(h.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),o.jsx(dv,{asChild:!0,...c,focusable:!i,active:m,children:o.jsx(yl,{disabled:i,required:a.required,checked:m,...u,...s,name:a.name,ref:p,onCheck:()=>a.onValueChange(s.value),onKeyDown:z(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:z(s.onFocus,()=>{var g;f.current&&((g=d.current)==null||g.click())})})})});kl.displayName=El;var yv="RadioGroupIndicator",Rl=l.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Nl(r);return o.jsx(wl,{...s,...n,ref:t})});Rl.displayName=yv;var Tl=jl,Pl=kl,bv=Rl;const Al=l.forwardRef(({className:e,...t},r)=>o.jsx(Tl,{className:oe("grid gap-2",e),...t,ref:r}));Al.displayName=Tl.displayName;const $o=l.forwardRef(({className:e,...t},r)=>o.jsx(Pl,{ref:r,className:oe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(bv,{className:"flex items-center justify-center",children:o.jsx(Eu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$o.displayName=Pl.displayName;const wv=["Like New","Very Good","Good","Fair","Poor"],Sv=()=>{var N;const e=gn(),t=Na(),{user:r}=wr(),[n,s]=l.useState(""),[a,i]=l.useState([]),[c,u]=l.useState(null),[d,p]=l.useState(!1),[m,f]=l.useState(!1),[g,v]=l.useState("have"),[h,x]=l.useState({condition:"",neighborhood:""});l.useEffect(()=>{new URLSearchParams(t.search).get("type")==="want"&&v("want")},[t]);const y=async()=>{if(n.trim()){p(!0);try{const S=await pp(n);i(S),console.log("Search results:",S)}catch(S){console.error("Search error:",S),be.error("Error searching for books")}finally{p(!1)}}},b=S=>{console.log("Selected book:",S),u(S),i([]),s("")},C=async S=>{var j,E;if(S.preventDefault(),!c||!h.condition||!h.neighborhood||!r){be.error("Please fill in all required fields");return}f(!0);try{const k=(j=c.volumeInfo.imageLinks)!=null&&j.thumbnail?"#"+c.id.slice(0,6):"#436B95",A={title:c.volumeInfo.title,author:((E=c.volumeInfo.authors)==null?void 0:E[0])||"Unknown Author",description:c.volumeInfo.description||"",cover_color:k,condition:h.condition,neighborhood:h.neighborhood,google_books_id:c.id};if(console.log(`Submitting book data as ${g} book:`,A),g==="have"){const L={...A,owner:{id:r.uid,name:r.email||r.displayName||"Anonymous",neighborhood:h.neighborhood}};await Xm(L),be.success("Book added to your collection!")}else{const L={...A,user_id:r.uid};await Jm(L),be.success("Book added to your want list!")}console.log("Book added successfully"),e("/my-books")}catch(k){console.error("Submission error:",k),be.error(`Error adding book: ${k.message||"Unknown error"}`)}finally{f(!1)}};return o.jsx(pe,{children:o.jsxs("div",{className:"page-container max-w-3xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Add Your Book"}),o.jsxs("div",{className:"mb-8 bg-muted/30 p-4 rounded-lg border",children:[o.jsx(jt,{className:"text-lg font-medium mb-3 block",children:"What would you like to do?"}),o.jsxs(Al,{value:g,onValueChange:S=>v(S),className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:`flex items-start space-x-2 border rounded-lg p-3 ${g==="have"?"bg-primary/10 border-primary":"bg-white"}`,children:[o.jsx($o,{value:"have",id:"have",className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(jt,{htmlFor:"have",className:"text-base font-medium flex items-center",children:[o.jsx(ao,{className:"mr-2 h-5 w-5 text-primary"}),"Add a book I have"]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a book to your collection that you're willing to swap with others"})]})]}),o.jsxs("div",{className:`flex items-start space-x-2 border rounded-lg p-3 ${g==="want"?"bg-primary/10 border-primary":"bg-white"}`,children:[o.jsx($o,{value:"want",id:"want",className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(jt,{htmlFor:"want",className:"text-base font-medium flex items-center",children:[o.jsx(Su,{className:"mr-2 h-5 w-5 text-primary"}),"Add a book I want"]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a book to your wishlist that you're looking to acquire"})]})]})]})]}),o.jsx("div",{className:"bg-white border border-border rounded-lg p-6 md:p-8",children:o.jsx("form",{onSubmit:C,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(jt,{children:"Search for your book"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ft,{value:n,onChange:S=>s(S.target.value),placeholder:"Search by title, author, or ISBN",className:"flex-1"}),o.jsxs(se,{type:"button",onClick:y,disabled:d,children:[d?o.jsx(As,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Pr,{className:"w-4 h-4 mr-2"}),d?"Searching...":"Search"]})]}),a.length>0&&o.jsx("div",{className:"mt-4 border rounded-md divide-y",children:a.map(S=>{var j;return o.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer flex items-start gap-4",onClick:()=>b(S),children:[((j=S.volumeInfo.imageLinks)==null?void 0:j.thumbnail)&&o.jsx("img",{src:S.volumeInfo.imageLinks.thumbnail,alt:S.volumeInfo.title,className:"w-16 h-auto object-cover"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium",children:S.volumeInfo.title}),S.volumeInfo.authors&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",S.volumeInfo.authors.join(", ")]}),S.volumeInfo.publishedDate&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Published: ",new Date(S.volumeInfo.publishedDate).getFullYear()]})]})]},S.id)})}),c&&o.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted/20",children:o.jsxs("div",{className:"flex items-start gap-4",children:[((N=c.volumeInfo.imageLinks)==null?void 0:N.thumbnail)&&o.jsx("img",{src:c.volumeInfo.imageLinks.thumbnail,alt:c.volumeInfo.title,className:"w-20 h-auto"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium",children:c.volumeInfo.title}),c.volumeInfo.authors&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",c.volumeInfo.authors.join(", ")]}),c.volumeInfo.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-3",children:c.volumeInfo.description}),o.jsx(se,{type:"button",variant:"ghost",className:"mt-2 h-8 text-sm",onClick:()=>u(null),children:"Change Book"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"condition",children:"Condition *"}),o.jsxs(Do,{value:h.condition,onValueChange:S=>x(j=>({...j,condition:S})),children:[o.jsx(hn,{id:"condition",children:o.jsx(Fo,{placeholder:"Select condition"})}),o.jsx(mn,{children:wv.map(S=>o.jsx(pn,{value:S,children:S},S))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"neighborhood",children:"Your Neighborhood *"}),o.jsxs(Do,{value:h.neighborhood,onValueChange:S=>x(j=>({...j,neighborhood:S})),children:[o.jsx(hn,{id:"neighborhood",children:o.jsx(Fo,{placeholder:"Select neighborhood"})}),o.jsx(mn,{children:Kt.map(S=>o.jsx(pn,{value:S,children:S},S))})]})]})]}),o.jsx("div",{className:"pt-4",children:o.jsx(se,{type:"submit",className:"w-full",disabled:!c||!h.condition||!h.neighborhood||m,children:m?o.jsxs(o.Fragment,{children:[o.jsx(As,{className:"w-4 h-4 mr-2 animate-spin"}),g==="have"?"Adding to Collection...":"Adding to Want List..."]}):g==="have"?"Add Book to My Collection":"Add Book to My Want List"})})]})})}),o.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[o.jsx("p",{children:"All books added are available for swapping. There are no points or financial transactions."}),o.jsx("p",{children:"Book Swap Jerusalem is based on goodwill and community sharing."})]})]})})},Cv=()=>{const{user:e}=wr(),{data:t=[],isLoading:r,error:n}=Dt({queryKey:["matches"],queryFn:async()=>{var C;if(!e)throw new Error("Not authenticated");const i=e.uid,c=await ac(i),u=await ic(i),d=He(Se,Ce.BOOKS),p=It(d,ur("owner.id","!=",i)),f=(await Ot(p)).docs.map(N=>({id:N.id,...N.data()})),g=He(Se,Ce.WANTED_BOOKS),v=It(g,ur("user_id","!=",i)),x=(await Ot(v)).docs.map(N=>({id:N.id,...N.data()})),y=f.reduce((N,S)=>{const j=S.owner.id;return N[j]||(N[j]={id:j,name:S.owner.name||"Unknown User",neighborhood:S.owner.neighborhood||"Unknown",books:[],wantedBooks:[]}),N[j].books.push(S),N},{});x.forEach(N=>{const S=N.user_id;y[S]&&(y[S].wantedBooks||(y[S].wantedBooks=[]),y[S].wantedBooks.push(N))});const b=[];for(const N in y){const S=y[N],j=S.books,E=S.wantedBooks||[],k=[],A=[];let L=0;for(const P of j){const I={id:P.id,title:P.title,author:P.author,coverColor:P.cover_color||"#436B95",description:P.description||"",condition:P.condition,owner:{name:P.owner.name,neighborhood:P.owner.neighborhood}};u.some(R=>R.title.toLowerCase()===P.title.toLowerCase()&&R.author.toLowerCase()===P.author.toLowerCase())?(k.push(I),L+=5):u.some(F=>F.author.toLowerCase()===P.author.toLowerCase())?(k.push(I),L+=2):u.some(O=>{const B=O.title.toLowerCase().split(" "),T=P.title.toLowerCase().split(" ");return B.some(D=>D.length>3&&T.includes(D))})&&(k.push(I),L+=1)}for(const P of c){const I={id:P.id,title:P.title,author:P.author,coverColor:P.cover_color||"#436B95",description:P.description||"",condition:P.condition,owner:{name:e.displayName||e.email||"You",neighborhood:((C=P.owner)==null?void 0:C.neighborhood)||"Your neighborhood"}};E.some(R=>R.title.toLowerCase()===P.title.toLowerCase()&&R.author.toLowerCase()===P.author.toLowerCase())?(A.push(I),L+=5):E.some(F=>F.author.toLowerCase()===P.author.toLowerCase())?(A.push(I),L+=2):E.some(O=>{const B=O.title.toLowerCase().split(" "),T=P.title.toLowerCase().split(" ");return B.some(D=>D.length>3&&T.includes(D))})&&(A.push(I),L+=1)}if(k.length>0||A.length>0){const P=Math.min(Math.round(L/2),10);b.push({user:{id:N,name:S.name,neighborhood:S.neighborhood,booksOffered:k,booksWanted:A},matchScore:P})}}return b.sort((N,S)=>S.matchScore-N.matchScore)},enabled:!!e}),s=i=>{fr({title:"Swap requested",description:"We'll notify you when the owner responds."})},a=i=>{fr({title:"Chat started",description:"You can now coordinate the book swap."})};return e?r?o.jsx(pe,{children:o.jsxs("div",{className:"page-container",children:[o.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("p",{className:"text-lg",children:"Loading matches..."})})]})}):n?o.jsx(pe,{children:o.jsxs("div",{className:"page-container",children:[o.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-lg text-red-600 font-medium mb-2",children:"Error loading matches"}),o.jsx("p",{className:"text-muted-foreground",children:n.message||"Please try again later"})]})})]})}):o.jsx(pe,{children:o.jsxs("div",{className:"page-container",children:[o.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),o.jsx("p",{className:"text-center text-muted-foreground mb-8 max-w-2xl mx-auto",children:"These are potential swap partners based on the books you've listed and the books you're looking for. Higher match scores indicate more opportunities to swap multiple books with the same person."}),t.length===0?o.jsxs("div",{className:"bg-white border border-border rounded-lg p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-bold mb-3",children:"No Matches Found Yet"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"To increase your chances of finding matches:"}),o.jsxs("ul",{className:"text-left max-w-md mx-auto space-y-2 mb-6",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-2",children:"•"}),o.jsx("span",{children:"Add more books that you're willing to swap"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-2",children:"•"}),o.jsx("span",{children:"Add books you're looking for to your wishlist"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-2",children:"•"}),o.jsx("span",{children:"Check back regularly as new books are added daily"})]})]}),o.jsx(se,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:o.jsx(ee,{to:"/add",children:"Add More Books"})})]}):o.jsx("div",{className:"space-y-10",children:t.map(i=>o.jsxs("div",{className:"bg-white border border-border rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"bg-bookswap-blue p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold mb-1",children:i.user.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Neighborhood: ",i.user.neighborhood," • Match Score: ",i.matchScore,"/10"]})]}),o.jsxs(se,{variant:"outline",className:"mt-3 md:mt-0 bg-white",onClick:()=>a(i.user.id),children:[o.jsx(Ru,{className:"mr-2 h-4 w-4"}),"Message"]})]}),o.jsxs("div",{className:"p-4 md:p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Books They Have (That You Might Like)"}),i.user.booksOffered.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:i.user.booksOffered.map(c=>o.jsx(Po,{book:c,onRequestSwap:s},c.id))}):o.jsx("p",{className:"text-muted-foreground",children:"No matching books found in this category."})]}),o.jsxs("div",{className:"pt-4 border-t border-border",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Your Books (That They Might Like)"}),i.user.booksWanted.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:i.user.booksWanted.map(c=>o.jsx(Po,{book:c,onRequestSwap:s},c.id))}):o.jsx("p",{className:"text-muted-foreground",children:"No matching books found in this category."})]})]})]},i.user.id))})]})}):o.jsx(pe,{children:o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-lg text-muted-foreground",children:"Please sign in to see your matches"}),o.jsx(se,{asChild:!0,className:"mt-4 bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:o.jsx(ee,{to:"/auth",children:"Sign In"})})]})})})},Nv=()=>{const[e,t]=l.useState(null),[r,n]=l.useState(""),[s,a]=l.useState([]),[i,c]=l.useState(!1),u=ls(),{data:d=[],isLoading:p,error:m}=Dt({queryKey:["chats"],queryFn:async()=>{const v=Vn();if(!v)throw new Error("Not authenticated");const h=v.uid;return(await ip(h)).map(y=>{var b;return{id:y.id,name:((b=y.participants)==null?void 0:b.find(C=>C!==h))||"Unknown",lastMessage:y.last_message||"No messages yet",lastMessageTime:y.updated_at?new Date(y.updated_at.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:y.unread||!1,avatar:null}})}});l.useEffect(()=>{d.length>0&&!e&&t(d[0].id)},[d]),l.useEffect(()=>{if(!e)return;(async()=>{c(!0);try{const h=Vn();if(!h)throw new Error("Not authenticated");const x=He(Se,Ce.MESSAGES),y=It(x,ur("chat_id","==",e),Wo("created_at","asc")),b=vd(y,C=>{const N=C.docs.map(S=>{const j=S.data();return{id:S.id,text:j.content||"",sender:j.sender_id===h.uid?"user":"other",timestamp:j.created_at?new Date(j.created_at.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",sender_id:j.sender_id}});a(N),c(!1)});return()=>b()}catch(h){console.error("Error loading messages:",h),c(!1),fr({title:"Error loading messages",description:"Unable to load messages. Please try again.",variant:"destructive"})}})()},[e]);const f=async v=>{if(v.preventDefault(),!(!r.trim()||!e))try{const h=Vn();if(!h)throw new Error("Not authenticated");await cp(e,r,h.uid),n(""),u.invalidateQueries({queryKey:["chats"]})}catch(h){fr({title:"Error sending message",description:"Unable to send message. Please try again.",variant:"destructive"}),console.error(h)}},g=d.find(v=>v.id===e);return p?o.jsx(pe,{children:o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue"})})})}):m?o.jsx(pe,{children:o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-lg text-red-600",children:"Error loading chats"}),o.jsx("p",{className:"text-muted-foreground",children:m.message})]})})}):o.jsx(pe,{children:o.jsxs("div",{className:"page-container max-w-6xl mx-auto",children:[o.jsx("h1",{className:"section-heading",children:"Messages"}),o.jsx("div",{className:"bg-white border border-border rounded-lg overflow-hidden min-h-[500px]",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 h-full",children:[o.jsxs("div",{className:"md:col-span-1 border-r border-border",children:[o.jsx("div",{className:"p-4 border-b border-border",children:o.jsx("h2",{className:"font-medium",children:"Your Conversations"})}),o.jsx("div",{className:"divide-y divide-border",children:d.length>0?d.map(v=>o.jsx("div",{className:`p-4 cursor-pointer transition-colors ${e===v.id?"bg-muted":"hover:bg-muted/50"}`,onClick:()=>t(v.id),children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-bookswap-blue text-bookswap-darkblue flex items-center justify-center font-bold text-lg mr-3",children:v.name.charAt(0)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"font-medium truncate",children:v.name}),o.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-1",children:v.lastMessageTime})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v.lastMessage})]}),v.unread&&o.jsx("div",{className:"w-2 h-2 bg-bookswap-darkblue rounded-full ml-2"})]})},v.id)):o.jsx("div",{className:"p-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No conversations yet"})})})]}),o.jsx("div",{className:"md:col-span-2 flex flex-col h-full",children:g?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 border-b border-border",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-bookswap-blue text-bookswap-darkblue flex items-center justify-center font-bold text-sm mr-3",children:g.name.charAt(0)}),o.jsx("h2",{className:"font-medium",children:g.name})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:i?o.jsx("div",{className:"flex justify-center items-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-bookswap-darkblue"})}):s.length>0?s.map(v=>o.jsx("div",{className:`flex ${v.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${v.sender==="user"?"bg-bookswap-darkblue text-white":"bg-muted"}`,children:[o.jsx("p",{children:v.text}),o.jsx("p",{className:`text-xs mt-1 ${v.sender==="user"?"text-white/80":"text-muted-foreground"}`,children:v.timestamp})]})},v.id)):o.jsx("div",{className:"flex justify-center items-center h-full",children:o.jsx("p",{className:"text-muted-foreground",children:"No messages yet. Start the conversation!"})})}),o.jsxs("div",{className:"p-4 border-t border-border",children:[o.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[o.jsx(Ft,{value:r,onChange:v=>n(v.target.value),placeholder:"Type a message...",className:"flex-1"}),o.jsx(se,{type:"submit",disabled:!r.trim(),className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:o.jsx(si,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Keep communication focused on book swaps and meeting arrangements."})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("p",{className:"text-muted-foreground mb-3",children:"Select a conversation or start a new one from your matches"}),o.jsx(se,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:o.jsx(ee,{to:"/matches",children:"Find Matches"})})]})})})]})})]})})};var vs="Avatar",[jv,Vv]=vr(vs),[Ev,Ml]=jv(vs),Il=l.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=l.useState("idle");return o.jsx(Ev,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(G.span,{...n,ref:t})})});Il.displayName=vs;var Ol="AvatarImage",_l=l.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=Ml(Ol,r),c=kv(n,a.referrerPolicy),u=ke(d=>{s(d),i.onImageLoadingStatusChange(d)});return ge(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?o.jsx(G.img,{...a,ref:t,src:n}):null});_l.displayName=Ol;var Ll="AvatarFallback",Dl=l.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=Ml(Ll,r),[i,c]=l.useState(n===void 0);return l.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(u)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(G.span,{...s,ref:t}):null});Dl.displayName=Ll;function kv(e,t){const[r,n]=l.useState("idle");return ge(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,i=c=>()=>{s&&n(c)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var Fl=Il,Bl=_l,$l=Dl;const Hl=l.forwardRef(({className:e,...t},r)=>o.jsx(Fl,{ref:r,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Hl.displayName=Fl.displayName;const Wl=l.forwardRef(({className:e,...t},r)=>o.jsx(Bl,{ref:r,className:oe("aspect-square h-full w-full",e),...t}));Wl.displayName=Bl.displayName;const Ul=l.forwardRef(({className:e,...t},r)=>o.jsx($l,{ref:r,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ul.displayName=$l.displayName;function Rv({initialUrl:e,onUpload:t}){const{user:r}=wr(),[n,s]=l.useState(!1),[a,i]=l.useState(e),c=l.useCallback(async u=>{try{if(s(!0),!u.target.files||u.target.files.length===0)throw new Error("You must select an image to upload.");const d=u.target.files[0],p=d.name.split(".").pop(),m=`profile-pictures/${r==null?void 0:r.uid}/avatar.${p}`,f=await ap(d,m);i(f),t(f)}catch{be.error("Error uploading avatar!")}finally{s(!1)}},[r,t]);return o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsxs(Hl,{className:"h-32 w-32 cursor-pointer relative group",children:[o.jsx(Wl,{src:a??""}),o.jsx(Ul,{children:o.jsx(ii,{className:"h-16 w-16"})}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-full",children:o.jsx("span",{className:"text-white text-sm",children:"Change Photo"})}),o.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",disabled:n,onChange:c})]}),n&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading..."})]})}function Tv({value:e,onSelect:t}){return o.jsxs(Do,{value:e||"",onValueChange:t,children:[o.jsx(hn,{className:"w-full",children:o.jsx(Fo,{placeholder:"Select neighborhood"})}),o.jsx(mn,{children:Kt.map(r=>o.jsx(pn,{value:r,children:r},r))})]})}function Pv(){const{user:e}=wr(),t=gn(),[r,n]=l.useState(!0),[s,a]=l.useState(""),[i,c]=l.useState(""),[u,d]=l.useState(""),[p,m]=l.useState(null);l.useEffect(()=>{if(!e){t("/auth");return}async function g(){try{const v=Rr(Se,Ce.PROFILES,e.uid),h=await xd(v);if(h.exists()){const x=h.data();a(x.display_name??""),c(x.bio??""),d(x.neighborhood??""),m(x.avatar_url)}else await yd(v,{id:e.uid,display_name:"",bio:"",neighborhood:"",avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch{be.error("Error loading profile")}finally{n(!1)}}g()},[e,t]);async function f(){if(e)try{const g=Rr(Se,Ce.PROFILES,e.uid);await ja(g,{display_name:s,bio:i,neighborhood:u,avatar_url:p,updated_at:new Date().toISOString()}),be.success("Profile updated successfully")}catch{be.error("Error updating profile")}}return r?o.jsx(pe,{children:o.jsx("div",{className:"page-container",children:o.jsx("p",{children:"Loading..."})})}):o.jsx(pe,{children:o.jsxs("div",{className:"page-container max-w-2xl mx-auto",children:[o.jsx("h1",{className:"section-heading",children:"Profile Settings"}),o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Rv,{initialUrl:p,onUpload:g=>m(g)})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium mb-2",children:"Display Name"}),o.jsx(Ft,{id:"displayName",type:"text",value:s,onChange:g=>a(g.target.value),placeholder:"Enter your display name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium mb-2",children:"Bio"}),o.jsx("textarea",{id:"bio",value:i,onChange:g=>c(g.target.value),placeholder:"Write a short bio about yourself",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Neighborhood"}),o.jsx(Tv,{value:u,onSelect:d})]}),o.jsx(se,{onClick:f,className:"w-full",children:"Save Changes"})]})]})]})})}const Av=()=>{const e=Na();return l.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function Mv({booksIHave:e,booksIWant:t}){const[r,n]=l.useState(null),s=ls(),a=async d=>{n(d);try{await Zm(d),be.success("Book removed successfully"),s.invalidateQueries({queryKey:["my-books-have"]})}catch(p){console.error("Error deleting book:",p),be.error("Failed to remove book")}finally{n(null)}},i=async d=>{n(d);try{await ep(d),be.success("Book removed from wishlist"),s.invalidateQueries({queryKey:["my-books-want"]})}catch(p){console.error("Error deleting wanted book:",p),be.error("Failed to remove book from wishlist")}finally{n(null)}},c=d=>o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:d==="have"?"You haven't added any books you own yet":"You haven't added any books you're looking for yet"}),o.jsx(se,{variant:"default",onClick:()=>window.location.href=d==="have"?"/add":"/add?type=want",children:d==="have"?o.jsxs(o.Fragment,{children:[o.jsx(ao,{className:"mr-2 h-4 w-4"}),"Add a Book You Own"]}):o.jsxs(o.Fragment,{children:[o.jsx(Pr,{className:"mr-2 h-4 w-4"}),"Add a Book You Want"]})})]}),u=(d,p)=>o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:d.map(m=>o.jsxs(us,{className:"relative",children:[o.jsx(se,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 z-10",onClick:()=>p==="have"?a(m.id):i(m.id),disabled:r===m.id,children:o.jsx(Tu,{className:"h-4 w-4"})}),o.jsxs(fs,{className:"pt-4",children:[m.google_books_id?o.jsx("div",{className:"w-full h-48 bg-cover bg-center rounded-lg mb-4",style:{backgroundImage:`url(https://books.google.com/books/content?id=${m.google_books_id}&printsec=frontcover&img=1&zoom=1&source=gbs_api)`}}):o.jsxs("div",{className:"w-full h-48 p-4 flex flex-col justify-center items-center text-center rounded-lg mb-4",style:{backgroundColor:m.coverColor||m.cover_color||"#436B95"},children:[o.jsx("h3",{className:"font-bold text-white",children:m.title}),o.jsx("p",{className:"text-sm text-white/80",children:m.author})]}),o.jsx("h3",{className:"font-bold text-lg mb-1",children:m.title}),o.jsx("p",{className:"text-sm font-medium mb-2",children:m.author}),p==="have"&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Condition: ",m.condition]}),p==="want"&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"On your wishlist"})]})]},m.id))});return o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(ao,{className:"mr-2 h-5 w-5"}),o.jsx("h2",{className:"text-xl font-bold",children:"Books I Have"})]}),e.length===0?c("have"):u(e,"have")]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(Pr,{className:"mr-2 h-5 w-5"}),o.jsx("h2",{className:"text-xl font-bold",children:"Books I Want"})]}),t.length===0?c("want"):u(t,"want")]})]})})}function Iv(){const{user:e}=wr(),{data:t=[],isLoading:r,error:n}=Dt({queryKey:["my-books-have"],queryFn:async()=>{if(!e)return[];try{const m=await ac(e.uid);return c(m,"have")}catch(m){throw console.error("Error fetching books I have:",m),m}},enabled:!!e}),{data:s=[],isLoading:a,error:i}=Dt({queryKey:["my-books-want"],queryFn:async()=>{if(!e)return[];try{const m=await ic(e.uid);return c(m,"want")}catch(m){throw console.error("Error fetching books I want:",m),m}},enabled:!!e});function c(m,f){const g=[];for(const v of m){const h={id:String(v.id||""),title:String(v.title||""),author:String(v.author||""),coverColor:String(v.cover_color||"#436B95"),description:v.description?String(v.description):"",condition:f==="have"?String(v.condition||"Good"):void 0,owner:f==="have"?{name:u(v.owner,"name"),neighborhood:u(v.owner,"neighborhood")}:void 0,google_books_id:v.google_books_id?String(v.google_books_id):void 0,book_type:f};g.push(h)}return g}function u(m,f){if(m&&typeof m=="object"&&m!==null){const v=m[f];return typeof v=="string"?v:""}return""}if(!e)return o.jsx(pe,{children:o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-lg text-muted-foreground",children:"Please sign in to manage your books"})})})});const d=r||a,p=n||i;return o.jsx(pe,{children:o.jsxs("div",{className:"page-container",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Books"}),d?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading your books..."})]}):p?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-lg text-red-600",children:"Error loading your books"})}):o.jsx(Mv,{booksIHave:t,booksIWant:s})]})})}const Ov=new Am,_v=()=>o.jsx(_m,{client:Ov,children:o.jsx(lp,{children:o.jsxs(mm,{children:[o.jsx(ff,{}),o.jsx(Hf,{}),o.jsx(Jl,{children:o.jsxs(Zl,{children:[o.jsx(Ze,{path:"/",element:o.jsx(bp,{})}),o.jsx(Ze,{path:"/auth",element:o.jsx(Np,{})}),o.jsx(Ze,{path:"/books",element:o.jsx(Ep,{})}),o.jsx(Ze,{path:"/add",element:o.jsx(Sv,{})}),o.jsx(Ze,{path:"/my-books",element:o.jsx(Iv,{})}),o.jsx(Ze,{path:"/matches",element:o.jsx(Cv,{})}),o.jsx(Ze,{path:"/chat",element:o.jsx(Nv,{})}),o.jsx(Ze,{path:"/profile",element:o.jsx(Pv,{})}),o.jsx(Ze,{path:"*",element:o.jsx(Av,{})})]})})]})})}),ha=document.getElementById("root");if(!ha)console.error("Root element not found");else{const e=Pa(ha);try{e.render(o.jsx(_v,{}))}catch(t){console.error("Error rendering application:",t),e.render(o.jsxs("div",{className:"error-boundary",children:[o.jsx("h1",{children:"Something went wrong"}),o.jsx("p",{children:"The application encountered an error. Please try refreshing the page."}),o.jsx("pre",{children:t instanceof Error?t.message:String(t)})]}))}}
