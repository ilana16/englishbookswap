var ko=e=>{throw TypeError(e)};var Hn=(e,t,r)=>t.has(e)||ko("Cannot "+r);var S=(e,t,r)=>(Hn(e,t,"read from private field"),r?r.call(e):t.get(e)),U=(e,t,r)=>t.has(e)?ko("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),L=(e,t,r,n)=>(Hn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),G=(e,t,r)=>(Hn(e,t,"access private method"),r);var Qr=(e,t,r,n)=>({set _(o){L(e,t,o,r)},get _(){return S(e,t,n)}});import{r as c,a as vr,e as O,G as Na,R as Gc,u as br,L as ne,b as yn,B as Yc,c as Qc,d as st}from"./react-DgqyT3Go.js";import{i as Xc,g as Jc,a as Zc,b as ed,s as td,c as rd,d as je,q as Ze,w as it,e as et,f as nd,h as sd,G as od,j as ad,o as Ca,k as tt,l as Wr,m as Ws,n as $e,u as ka,p as Ea,r as id,t as hr,v as ld,_ as gt,x as Ra,y as cd,z as dd,A as ud,B as fd}from"./firebase-CyHxx3fk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var Ta={exports:{}},wn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=c,md=Symbol.for("react.element"),pd=Symbol.for("react.fragment"),gd=Object.prototype.hasOwnProperty,xd=hd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vd={key:!0,ref:!0,__self:!0,__source:!0};function Pa(e,t,r){var n,o={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)gd.call(t,n)&&!vd.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:md,type:e,key:a,ref:l,props:o,_owner:xd.current}}wn.Fragment=pd;wn.jsx=Pa;wn.jsxs=Pa;Ta.exports=wn;var s=Ta.exports,Aa,Eo=vr;Aa=Eo.createRoot,Eo.hydrateRoot;const bd=1,yd=1e6;let Wn=0;function wd(){return Wn=(Wn+1)%Number.MAX_SAFE_INTEGER,Wn.toString()}const Un=new Map,Ro=e=>{if(Un.has(e))return;const t=setTimeout(()=>{Un.delete(e),Pr({type:"REMOVE_TOAST",toastId:e})},yd);Un.set(e,t)},Sd=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bd)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ro(r):e.toasts.forEach(n=>{Ro(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ln=[];let cn={toasts:[]};function Pr(e){cn=Sd(cn,e),ln.forEach(t=>{t(cn)})}function _e({...e}){const t=wd(),r=o=>Pr({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>Pr({type:"DISMISS_TOAST",toastId:t});return Pr({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:r}}function jd(){const[e,t]=c.useState(cn);return c.useEffect(()=>(ln.push(t),()=>{const r=ln.indexOf(t);r>-1&&ln.splice(r,1)}),[e]),{...e,toast:_e,dismiss:r=>Pr({type:"DISMISS_TOAST",toastId:r})}}function z(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Nd(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ma(...e){return t=>e.forEach(r=>Nd(r,t))}function he(...e){return c.useCallback(Ma(...e),e)}function Cd(e,t=[]){let r=[];function n(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];function u(m){const{scope:f,children:g,...x}=m,h=(f==null?void 0:f[e][d])||i,v=c.useMemo(()=>x,Object.values(x));return s.jsx(h.Provider,{value:v,children:g})}function p(m,f){const g=(f==null?void 0:f[e][d])||i,x=c.useContext(g);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,p]}const o=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[n,kd(o,...t)]}function kd(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=n.reduce((i,{useScope:d,scopeName:u})=>{const m=d(a)[`__scope${u}`];return{...i,...m}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var mr=c.forwardRef((e,t)=>{const{children:r,...n}=e,o=c.Children.toArray(r),a=o.find(Ed);if(a){const l=a.props.children,i=o.map(d=>d===a?c.Children.count(l)>1?c.Children.only(null):c.isValidElement(l)?l.props.children:null:d);return s.jsx(is,{...n,ref:t,children:c.isValidElement(l)?c.cloneElement(l,void 0,i):null})}return s.jsx(is,{...n,ref:t,children:r})});mr.displayName="Slot";var is=c.forwardRef((e,t)=>{const{children:r,...n}=e;if(c.isValidElement(r)){const o=Td(r);return c.cloneElement(r,{...Rd(n,r.props),ref:t?Ma(t,o):o})}return c.Children.count(r)>1?c.Children.only(null):null});is.displayName="SlotClone";var Oa=({children:e})=>s.jsx(s.Fragment,{children:e});function Ed(e){return c.isValidElement(e)&&e.type===Oa}function Rd(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...i)=>{a(...i),o(...i)}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function Td(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Us(e){const t=e+"CollectionProvider",[r,n]=Cd(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=g=>{const{scope:x,children:h}=g,v=O.useRef(null),y=O.useRef(new Map).current;return s.jsx(o,{scope:x,itemMap:y,collectionRef:v,children:h})};l.displayName=t;const i=e+"CollectionSlot",d=O.forwardRef((g,x)=>{const{scope:h,children:v}=g,y=a(i,h),b=he(x,y.collectionRef);return s.jsx(mr,{ref:b,children:v})});d.displayName=i;const u=e+"CollectionItemSlot",p="data-radix-collection-item",m=O.forwardRef((g,x)=>{const{scope:h,children:v,...y}=g,b=O.useRef(null),w=he(x,b),j=a(u,h);return O.useEffect(()=>(j.itemMap.set(b,{ref:b,...y}),()=>void j.itemMap.delete(b))),s.jsx(mr,{[p]:"",ref:w,children:v})});m.displayName=u;function f(g){const x=a(e+"CollectionConsumer",g);return O.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${p}]`));return Array.from(x.itemMap.values()).sort((j,N)=>y.indexOf(j.ref.current)-y.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:d,ItemSlot:m},f,n]}function Ur(e,t=[]){let r=[];function n(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];const u=m=>{var y;const{scope:f,children:g,...x}=m,h=((y=f==null?void 0:f[e])==null?void 0:y[d])||i,v=c.useMemo(()=>x,Object.values(x));return s.jsx(h.Provider,{value:v,children:g})};u.displayName=a+"Provider";function p(m,f){var h;const g=((h=f==null?void 0:f[e])==null?void 0:h[d])||i,x=c.useContext(g);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,p]}const o=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[n,Pd(o,...t)]}function Pd(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=n.reduce((i,{useScope:d,scopeName:u})=>{const m=d(a)[`__scope${u}`];return{...i,...m}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var Ad=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],X=Ad.reduce((e,t)=>{const r=c.forwardRef((n,o)=>{const{asChild:a,...l}=n,i=a?mr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(i,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ia(e,t){e&&vr.flushSync(()=>e.dispatchEvent(t))}function Pe(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Md(e,t=globalThis==null?void 0:globalThis.document){const r=Pe(e);c.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Od="DismissableLayer",ls="dismissableLayer.update",Id="dismissableLayer.pointerDownOutside",_d="dismissableLayer.focusOutside",To,_a=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sn=c.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:i,...d}=e,u=c.useContext(_a),[p,m]=c.useState(null),f=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=c.useState({}),x=he(t,C=>m(C)),h=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=h.indexOf(v),b=p?h.indexOf(p):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,N=Dd(C=>{const T=C.target,k=[...u.branches].some(R=>R.contains(T));!j||k||(o==null||o(C),l==null||l(C),C.defaultPrevented||i==null||i())},f),E=Fd(C=>{const T=C.target;[...u.branches].some(R=>R.contains(T))||(a==null||a(C),l==null||l(C),C.defaultPrevented||i==null||i())},f);return Md(C=>{b===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&i&&(C.preventDefault(),i()))},f),c.useEffect(()=>{if(p)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(To=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(p)),u.layers.add(p),Po(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=To)}},[p,f,r,u]),c.useEffect(()=>()=>{p&&(u.layers.delete(p),u.layersWithOutsidePointerEventsDisabled.delete(p),Po())},[p,u]),c.useEffect(()=>{const C=()=>g({});return document.addEventListener(ls,C),()=>document.removeEventListener(ls,C)},[]),s.jsx(X.div,{...d,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:z(e.onFocusCapture,E.onFocusCapture),onBlurCapture:z(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:z(e.onPointerDownCapture,N.onPointerDownCapture)})});Sn.displayName=Od;var Ld="DismissableLayerBranch",La=c.forwardRef((e,t)=>{const r=c.useContext(_a),n=c.useRef(null),o=he(t,n);return c.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(X.div,{...e,ref:o})});La.displayName=Ld;function Dd(e,t=globalThis==null?void 0:globalThis.document){const r=Pe(e),n=c.useRef(!1),o=c.useRef(()=>{});return c.useEffect(()=>{const a=i=>{if(i.target&&!n.current){let d=function(){Da(Id,r,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Fd(e,t=globalThis==null?void 0:globalThis.document){const r=Pe(e),n=c.useRef(!1);return c.useEffect(()=>{const o=a=>{a.target&&!n.current&&Da(_d,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Po(){const e=new CustomEvent(ls);document.dispatchEvent(e)}function Da(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Ia(o,a):o.dispatchEvent(a)}var Bd=Sn,$d=La,Ne=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},Hd="Portal",zs=c.forwardRef((e,t)=>{var i;const{container:r,...n}=e,[o,a]=c.useState(!1);Ne(()=>a(!0),[]);const l=r||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return l?Na.createPortal(s.jsx(X.div,{...n,ref:t}),l):null});zs.displayName=Hd;function Wd(e,t){return c.useReducer((r,n)=>t[r][n]??r,e)}var jn=e=>{const{present:t,children:r}=e,n=Ud(t),o=typeof r=="function"?r({present:n.isPresent}):c.Children.only(r),a=he(n.ref,zd(o));return typeof r=="function"||n.isPresent?c.cloneElement(o,{ref:a}):null};jn.displayName="Presence";function Ud(e){const[t,r]=c.useState(),n=c.useRef({}),o=c.useRef(e),a=c.useRef("none"),l=e?"mounted":"unmounted",[i,d]=Wd(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=Xr(n.current);a.current=i==="mounted"?u:"none"},[i]),Ne(()=>{const u=n.current,p=o.current;if(p!==e){const f=a.current,g=Xr(u);e?d("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(p&&f!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),Ne(()=>{if(t){let u;const p=t.ownerDocument.defaultView??window,m=g=>{const h=Xr(n.current).includes(g.animationName);if(g.target===t&&h&&(d("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=g=>{g.target===t&&(a.current=Xr(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:c.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Xr(e){return(e==null?void 0:e.animationName)||"none"}function zd(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ar({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,o]=Kd({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:n,i=Pe(r),d=c.useCallback(u=>{if(a){const m=typeof u=="function"?u(e):u;m!==e&&i(m)}else o(u)},[a,e,o,i]);return[l,d]}function Kd({defaultProp:e,onChange:t}){const r=c.useState(e),[n]=r,o=c.useRef(n),a=Pe(t);return c.useEffect(()=>{o.current!==n&&(a(n),o.current=n)},[n,o,a]),r}var Vd="VisuallyHidden",zr=c.forwardRef((e,t)=>s.jsx(X.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));zr.displayName=Vd;var qd=zr,Ks="ToastProvider",[Vs,Gd,Yd]=Us("Toast"),[Fa,Px]=Ur("Toast",[Yd]),[Qd,Nn]=Fa(Ks),Ba=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:l}=e,[i,d]=c.useState(null),[u,p]=c.useState(0),m=c.useRef(!1),f=c.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ks}\`. Expected non-empty \`string\`.`),s.jsx(Vs.Provider,{scope:t,children:s.jsx(Qd,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:u,viewport:i,onViewportChange:d,onToastAdd:c.useCallback(()=>p(g=>g+1),[]),onToastRemove:c.useCallback(()=>p(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:l})})};Ba.displayName=Ks;var $a="ToastViewport",Xd=["F8"],cs="toast.viewportPause",ds="toast.viewportResume",Ha=c.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Xd,label:o="Notifications ({hotkey})",...a}=e,l=Nn($a,r),i=Gd(r),d=c.useRef(null),u=c.useRef(null),p=c.useRef(null),m=c.useRef(null),f=he(t,m,l.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=l.toastCount>0;c.useEffect(()=>{const v=y=>{var w;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),c.useEffect(()=>{const v=d.current,y=m.current;if(x&&v&&y){const b=()=>{if(!l.isClosePausedRef.current){const E=new CustomEvent(cs);y.dispatchEvent(E),l.isClosePausedRef.current=!0}},w=()=>{if(l.isClosePausedRef.current){const E=new CustomEvent(ds);y.dispatchEvent(E),l.isClosePausedRef.current=!1}},j=E=>{!v.contains(E.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",j),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[x,l.isClosePausedRef]);const h=c.useCallback(({tabbingDirection:v})=>{const b=i().map(w=>{const j=w.ref.current,N=[j,...du(j)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?b.reverse():b).flat()},[i]);return c.useEffect(()=>{const v=m.current;if(v){const y=b=>{var N,E,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const T=document.activeElement,k=b.shiftKey;if(b.target===v&&k){(N=u.current)==null||N.focus();return}const M=h({tabbingDirection:k?"backwards":"forwards"}),D=M.findIndex(P=>P===T);zn(M.slice(D+1))?b.preventDefault():k?(E=u.current)==null||E.focus():(C=p.current)==null||C.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[i,h]),s.jsxs($d,{ref:d,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(us,{ref:u,onFocusFromOutsideViewport:()=>{const v=h({tabbingDirection:"forwards"});zn(v)}}),s.jsx(Vs.Slot,{scope:r,children:s.jsx(X.ol,{tabIndex:-1,...a,ref:f})}),x&&s.jsx(us,{ref:p,onFocusFromOutsideViewport:()=>{const v=h({tabbingDirection:"backwards"});zn(v)}})]})});Ha.displayName=$a;var Wa="ToastFocusProxy",us=c.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...o}=e,a=Nn(Wa,r);return s.jsx(zr,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:l=>{var u;const i=l.relatedTarget;!((u=a.viewport)!=null&&u.contains(i))&&n()}})});us.displayName=Wa;var Cn="Toast",Jd="toast.swipeStart",Zd="toast.swipeMove",eu="toast.swipeCancel",tu="toast.swipeEnd",Ua=c.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:o,onOpenChange:a,...l}=e,[i=!0,d]=Ar({prop:n,defaultProp:o,onChange:a});return s.jsx(jn,{present:r||i,children:s.jsx(su,{open:i,...l,ref:t,onClose:()=>d(!1),onPause:Pe(e.onPause),onResume:Pe(e.onResume),onSwipeStart:z(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:z(e.onSwipeMove,u=>{const{x:p,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:z(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:z(e.onSwipeEnd,u=>{const{x:p,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});Ua.displayName=Cn;var[ru,nu]=Fa(Cn,{onClose(){}}),su=c.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:o,open:a,onClose:l,onEscapeKeyDown:i,onPause:d,onResume:u,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:g,...x}=e,h=Nn(Cn,r),[v,y]=c.useState(null),b=he(t,P=>y(P)),w=c.useRef(null),j=c.useRef(null),N=o||h.duration,E=c.useRef(0),C=c.useRef(N),T=c.useRef(0),{onToastAdd:k,onToastRemove:R}=h,_=Pe(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=h.viewport)==null||F.focus()),l()}),M=c.useCallback(P=>{!P||P===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(_,P))},[_]);c.useEffect(()=>{const P=h.viewport;if(P){const F=()=>{M(C.current),u==null||u()},I=()=>{const B=new Date().getTime()-E.current;C.current=C.current-B,window.clearTimeout(T.current),d==null||d()};return P.addEventListener(cs,I),P.addEventListener(ds,F),()=>{P.removeEventListener(cs,I),P.removeEventListener(ds,F)}}},[h.viewport,N,d,u,M]),c.useEffect(()=>{a&&!h.isClosePausedRef.current&&M(N)},[a,N,h.isClosePausedRef,M]),c.useEffect(()=>(k(),()=>R()),[k,R]);const D=c.useMemo(()=>v?Qa(v):null,[v]);return h.viewport?s.jsxs(s.Fragment,{children:[D&&s.jsx(ou,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),s.jsx(ru,{scope:r,onClose:_,children:vr.createPortal(s.jsx(Vs.ItemSlot,{scope:r,children:s.jsx(Bd,{asChild:!0,onEscapeKeyDown:z(i,()=>{h.isFocusedToastEscapeKeyDownRef.current||_(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(X.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":h.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:z(e.onKeyDown,P=>{P.key==="Escape"&&(i==null||i(P.nativeEvent),P.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:z(e.onPointerDown,P=>{P.button===0&&(w.current={x:P.clientX,y:P.clientY})}),onPointerMove:z(e.onPointerMove,P=>{if(!w.current)return;const F=P.clientX-w.current.x,I=P.clientY-w.current.y,B=!!j.current,A=["left","right"].includes(h.swipeDirection),$=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,me=A?$(0,F):0,H=A?0:$(0,I),q=P.pointerType==="touch"?10:2,Q={x:me,y:H},ge={originalEvent:P,delta:Q};B?(j.current=Q,Jr(Zd,m,ge,{discrete:!1})):Ao(Q,h.swipeDirection,q)?(j.current=Q,Jr(Jd,p,ge,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(F)>q||Math.abs(I)>q)&&(w.current=null)}),onPointerUp:z(e.onPointerUp,P=>{const F=j.current,I=P.target;if(I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),j.current=null,w.current=null,F){const B=P.currentTarget,A={originalEvent:P,delta:F};Ao(F,h.swipeDirection,h.swipeThreshold)?Jr(tu,g,A,{discrete:!0}):Jr(eu,f,A,{discrete:!0}),B.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),ou=e=>{const{__scopeToast:t,children:r,...n}=e,o=Nn(Cn,t),[a,l]=c.useState(!1),[i,d]=c.useState(!1);return lu(()=>l(!0)),c.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:s.jsx(zs,{asChild:!0,children:s.jsx(zr,{...n,children:a&&s.jsxs(s.Fragment,{children:[o.label," ",r]})})})},au="ToastTitle",za=c.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(X.div,{...n,ref:t})});za.displayName=au;var iu="ToastDescription",Ka=c.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(X.div,{...n,ref:t})});Ka.displayName=iu;var Va="ToastAction",qa=c.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(Ya,{altText:r,asChild:!0,children:s.jsx(qs,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Va}\`. Expected non-empty \`string\`.`),null)});qa.displayName=Va;var Ga="ToastClose",qs=c.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,o=nu(Ga,r);return s.jsx(Ya,{asChild:!0,children:s.jsx(X.button,{type:"button",...n,ref:t,onClick:z(e.onClick,o.onClose)})})});qs.displayName=Ga;var Ya=c.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...o}=e;return s.jsx(X.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function Qa(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),cu(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const l=n.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...Qa(n))}}),t}function Jr(e,t,r,{discrete:n}){const o=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Ia(o,a):o.dispatchEvent(a)}var Ao=(e,t,r=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>r:!a&&o>r};function lu(e=()=>{}){const t=Pe(e);Ne(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function cu(e){return e.nodeType===e.ELEMENT_NODE}function du(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zn(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uu=Ba,Xa=Ha,Ja=Ua,Za=za,ei=Ka,ti=qa,ri=qs;function ni(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=ni(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function si(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=ni(e))&&(n&&(n+=" "),n+=t);return n}const Mo=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Oo=si,Gs=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Oo(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,l=Object.keys(o).map(u=>{const p=r==null?void 0:r[u],m=a==null?void 0:a[u];if(p===null)return null;const f=Mo(p)||Mo(m);return o[u][f]}),i=r&&Object.entries(r).reduce((u,p)=>{let[m,f]=p;return f===void 0||(u[m]=f),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,p)=>{let{class:m,className:f,...g}=p;return Object.entries(g).every(x=>{let[h,v]=x;return Array.isArray(v)?v.includes({...a,...i}[h]):{...a,...i}[h]===v})?[...u,m,f]:u},[]);return Oo(e,l,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oi=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:l,...i},d)=>c.createElement("svg",{ref:d,...hu,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:oi("lucide",o),...i},[...l.map(([u,p])=>c.createElement(u,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const r=c.forwardRef(({className:n,...o},a)=>c.createElement(mu,{ref:a,iconNode:t,className:oi(`lucide-${fu(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=pe("BookPlus",[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=pe("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=pe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=pe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ys="-",Nu=e=>{const t=ku(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const i=l.split(Ys);return i[0]===""&&i.length!==1&&i.shift(),mi(i,t)||Cu(l)},getConflictingClassGroupIds:(l,i)=>{const d=r[l]||[];return i&&n[l]?[...d,...n[l]]:d}}},mi=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?mi(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Ys);return(l=t.validators.find(({validator:i})=>i(a)))==null?void 0:l.classGroupId},Io=/^\[(.+)\]$/,Cu=e=>{if(Io.test(e)){const t=Io.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ku=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Ru(Object.entries(e.classGroups),r).forEach(([a,l])=>{hs(l,n,a,t)}),n},hs=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:_o(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(Eu(o)){hs(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,l])=>{hs(l,_o(t,a),r,n)})})},_o=(e,t)=>{let r=e;return t.split(Ys).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Eu=e=>e.isThemeGetter,Ru=(e,t)=>t?e.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,i])=>[t+l,i])):a);return[r,o]}):e,Tu=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(a,l)=>{r.set(a,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return o(a,l),l},set(a,l){r.has(a)?r.set(a,l):o(a,l)}}},pi="!",Pu=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],a=t.length,l=i=>{const d=[];let u=0,p=0,m;for(let v=0;v<i.length;v++){let y=i[v];if(u===0){if(y===o&&(n||i.slice(v,v+a)===t)){d.push(i.slice(p,v)),p=v+a;continue}if(y==="/"){m=v;continue}}y==="["?u++:y==="]"&&u--}const f=d.length===0?i:i.substring(p),g=f.startsWith(pi),x=g?f.substring(1):f,h=m&&m>p?m-p:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:h}};return r?i=>r({className:i,parseClassName:l}):l},Au=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Mu=e=>({cache:Tu(e.cacheSize),parseClassName:Pu(e),...Nu(e)}),Ou=/\s+/,Iu=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],l=e.trim().split(Ou);let i="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{modifiers:p,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}=r(u);let x=!!g,h=n(x?f.substring(0,g):f);if(!h){if(!x){i=u+(i.length>0?" "+i:i);continue}if(h=n(f),!h){i=u+(i.length>0?" "+i:i);continue}x=!1}const v=Au(p).join(":"),y=m?v+pi:v,b=y+h;if(a.includes(b))continue;a.push(b);const w=o(h,x);for(let j=0;j<w.length;++j){const N=w[j];a.push(y+N)}i=u+(i.length>0?" "+i:i)}return i};function _u(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=gi(t))&&(n&&(n+=" "),n+=r);return n}const gi=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=gi(e[n]))&&(r&&(r+=" "),r+=t);return r};function Lu(e,...t){let r,n,o,a=l;function l(d){const u=t.reduce((p,m)=>m(p),e());return r=Mu(u),n=r.cache.get,o=r.cache.set,a=i,i(d)}function i(d){const u=n(d);if(u)return u;const p=Iu(d,r);return o(d,p),p}return function(){return a(_u.apply(null,arguments))}}const ue=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},xi=/^\[(?:([a-z-]+):)?(.+)\]$/i,Du=/^\d+\/\d+$/,Fu=new Set(["px","full","screen"]),Bu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$u=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Uu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ot=e=>Qt(e)||Fu.has(e)||Du.test(e),ft=e=>yr(e,"length",Xu),Qt=e=>!!e&&!Number.isNaN(Number(e)),Vn=e=>yr(e,"number",Qt),Cr=e=>!!e&&Number.isInteger(Number(e)),zu=e=>e.endsWith("%")&&Qt(e.slice(0,-1)),V=e=>xi.test(e),ht=e=>Bu.test(e),Ku=new Set(["length","size","percentage"]),Vu=e=>yr(e,Ku,vi),qu=e=>yr(e,"position",vi),Gu=new Set(["image","url"]),Yu=e=>yr(e,Gu,Zu),Qu=e=>yr(e,"",Ju),kr=()=>!0,yr=(e,t,r)=>{const n=xi.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Xu=e=>$u.test(e)&&!Hu.test(e),vi=()=>!1,Ju=e=>Wu.test(e),Zu=e=>Uu.test(e),ef=()=>{const e=ue("colors"),t=ue("spacing"),r=ue("blur"),n=ue("brightness"),o=ue("borderColor"),a=ue("borderRadius"),l=ue("borderSpacing"),i=ue("borderWidth"),d=ue("contrast"),u=ue("grayscale"),p=ue("hueRotate"),m=ue("invert"),f=ue("gap"),g=ue("gradientColorStops"),x=ue("gradientColorStopPositions"),h=ue("inset"),v=ue("margin"),y=ue("opacity"),b=ue("padding"),w=ue("saturate"),j=ue("scale"),N=ue("sepia"),E=ue("skew"),C=ue("space"),T=ue("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",V,t],M=()=>[V,t],D=()=>["",ot,ft],P=()=>["auto",Qt,V],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",V],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Qt,V];return{cacheSize:500,separator:":",theme:{colors:[kr],spacing:[ot,ft],blur:["none","",ht,V],brightness:H(),borderColor:[e],borderRadius:["none","","full",ht,V],borderSpacing:M(),borderWidth:D(),contrast:H(),grayscale:$(),hueRotate:H(),invert:$(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[zu,ft],inset:_(),margin:_(),opacity:H(),padding:M(),saturate:H(),scale:H(),sepia:$(),skew:H(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",V]}],container:["container"],columns:[{columns:[ht]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),V]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cr,V]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",V]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Cr,V]}],"grid-cols":[{"grid-cols":[kr]}],"col-start-end":[{col:["auto",{span:["full",Cr,V]},V]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[kr]}],"row-start-end":[{row:["auto",{span:[Cr,V]},V]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",V]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",V]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",V,t]}],"min-w":[{"min-w":[V,t,"min","max","fit"]}],"max-w":[{"max-w":[V,t,"none","full","min","max","fit","prose",{screen:[ht]},ht]}],h:[{h:[V,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[V,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[V,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[V,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ht,ft]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vn]}],"font-family":[{font:[kr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",V]}],"line-clamp":[{"line-clamp":["none",Qt,Vn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ot,V]}],"list-image":[{"list-image":["none",V]}],"list-style-type":[{list:["none","disc","decimal",V]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ot,ft]}],"underline-offset":[{"underline-offset":["auto",ot,V]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",V]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),qu]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vu]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Yu]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:I()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[ot,V]}],"outline-w":[{outline:[ot,ft]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ot,ft]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ht,Qu]}],"shadow-color":[{shadow:[kr]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ht,V]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",V]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",V]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",V]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Cr,V]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",V]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",V]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",V]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ot,ft,Vn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tf=Lu(ef);function J(...e){return tf(si(e))}const rf=uu,bi=c.forwardRef(({className:e,...t},r)=>s.jsx(Xa,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bi.displayName=Xa.displayName;const nf=Gs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yi=c.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(Ja,{ref:n,className:J(nf({variant:t}),e),...r}));yi.displayName=Ja.displayName;const sf=c.forwardRef(({className:e,...t},r)=>s.jsx(ti,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));sf.displayName=ti.displayName;const wi=c.forwardRef(({className:e,...t},r)=>s.jsx(ri,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ju,{className:"h-4 w-4"})}));wi.displayName=ri.displayName;const Si=c.forwardRef(({className:e,...t},r)=>s.jsx(Za,{ref:r,className:J("text-sm font-semibold",e),...t}));Si.displayName=Za.displayName;const ji=c.forwardRef(({className:e,...t},r)=>s.jsx(ei,{ref:r,className:J("text-sm opacity-90",e),...t}));ji.displayName=ei.displayName;function of(){const{toasts:e}=jd();return s.jsxs(rf,{children:[e.map(function({id:t,title:r,description:n,action:o,...a}){return s.jsxs(yi,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Si,{children:r}),n&&s.jsx(ji,{children:n})]}),o,s.jsx(wi,{})]},t)}),s.jsx(bi,{})]})}var Lo=["light","dark"],af="(prefers-color-scheme: dark)",lf=c.createContext(void 0),cf={setTheme:e=>{},themes:[]},df=()=>{var e;return(e=c.useContext(lf))!=null?e:cf};c.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:a,value:l,attrs:i,nonce:d})=>{let u=a==="system",p=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${i.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=o?Lo.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,h=!1,v=!0)=>{let y=l?l[x]:x,b=h?x+"|| ''":`'${y}'`,w="";return o&&v&&!h&&Lo.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),r==="class"?h||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},g=e?`!function(){${p}${f(e)}}()`:n?`!function(){try{${p}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${af}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${f(l?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${f(l?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${m}}catch(t){}}();`;return c.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:g}})});var uf=e=>{switch(e){case"success":return mf;case"info":return gf;case"warning":return pf;case"error":return xf;default:return null}},ff=Array(12).fill(0),hf=({visible:e})=>O.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},O.createElement("div",{className:"sonner-spinner"},ff.map((t,r)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),mf=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pf=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gf=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xf=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vf=()=>{let[e,t]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},ms=1,bf=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ms++,a=this.toasts.find(i=>i.id===o),l=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(i=>i.id===o?(this.publish({...i,...e,id:o,title:r}),{...i,...e,id:o,dismissible:l,title:r}):i):this.addToast({title:r,...n,dismissible:l,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),o=r!==void 0;return n.then(async a=>{if(wf(a)&&!a.ok){o=!1;let l=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,i=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:l,description:i})}else if(t.success!==void 0){o=!1;let l=typeof t.success=="function"?await t.success(a):t.success,i=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:l,description:i})}}).catch(async a=>{if(t.error!==void 0){o=!1;let l=typeof t.error=="function"?await t.error(a):t.error,i=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:l,description:i})}}).finally(()=>{var a;o&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||ms++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Oe=new bf,yf=(e,t)=>{let r=(t==null?void 0:t.id)||ms++;return Oe.addToast({title:e,...t,id:r}),r},wf=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Sf=yf,jf=()=>Oe.toasts,ce=Object.assign(Sf,{success:Oe.success,info:Oe.info,warning:Oe.warning,error:Oe.error,custom:Oe.custom,message:Oe.message,promise:Oe.promise,dismiss:Oe.dismiss,loading:Oe.loading},{getHistory:jf});function Nf(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Nf(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zr(e){return e.label!==void 0}var Cf=3,kf="32px",Ef=4e3,Rf=356,Tf=14,Pf=20,Af=200;function Mf(...e){return e.filter(Boolean).join(" ")}var Of=e=>{var t,r,n,o,a,l,i,d,u,p;let{invert:m,toast:f,unstyled:g,interacting:x,setHeights:h,visibleToasts:v,heights:y,index:b,toasts:w,expanded:j,removeToast:N,defaultRichColors:E,closeButton:C,style:T,cancelButtonStyle:k,actionButtonStyle:R,className:_="",descriptionClassName:M="",duration:D,position:P,gap:F,loadingIcon:I,expandByDefault:B,classNames:A,icons:$,closeButtonAriaLabel:me="Close toast",pauseWhenPageIsHidden:H,cn:q}=e,[Q,ge]=O.useState(!1),[Re,ie]=O.useState(!1),[W,re]=O.useState(!1),[xe,ee]=O.useState(!1),[se,te]=O.useState(0),[Ce,Ae]=O.useState(0),dt=O.useRef(null),De=O.useRef(null),At=b===0,Fn=b+1<=v,ye=f.type,zt=f.dismissible!==!1,Hc=f.className||"",Wc=f.descriptionClassName||"",Gr=O.useMemo(()=>y.findIndex(K=>K.toastId===f.id)||0,[y,f.id]),Uc=O.useMemo(()=>{var K;return(K=f.closeButton)!=null?K:C},[f.closeButton,C]),wo=O.useMemo(()=>f.duration||D||Ef,[f.duration,D]),Bn=O.useRef(0),Kt=O.useRef(0),So=O.useRef(0),Vt=O.useRef(null),[jo,zc]=P.split("-"),No=O.useMemo(()=>y.reduce((K,de,le)=>le>=Gr?K:K+de.height,0),[y,Gr]),Co=vf(),Kc=f.invert||m,$n=ye==="loading";Kt.current=O.useMemo(()=>Gr*F+No,[Gr,No]),O.useEffect(()=>{ge(!0)},[]),O.useLayoutEffect(()=>{if(!Q)return;let K=De.current,de=K.style.height;K.style.height="auto";let le=K.getBoundingClientRect().height;K.style.height=de,Ae(le),h(qe=>qe.find(Ge=>Ge.toastId===f.id)?qe.map(Ge=>Ge.toastId===f.id?{...Ge,height:le}:Ge):[{toastId:f.id,height:le,position:f.position},...qe])},[Q,f.title,f.description,h,f.id]);let ut=O.useCallback(()=>{ie(!0),te(Kt.current),h(K=>K.filter(de=>de.toastId!==f.id)),setTimeout(()=>{N(f)},Af)},[f,N,h,Kt]);O.useEffect(()=>{if(f.promise&&ye==="loading"||f.duration===1/0||f.type==="loading")return;let K,de=wo;return j||x||H&&Co?(()=>{if(So.current<Bn.current){let le=new Date().getTime()-Bn.current;de=de-le}So.current=new Date().getTime()})():de!==1/0&&(Bn.current=new Date().getTime(),K=setTimeout(()=>{var le;(le=f.onAutoClose)==null||le.call(f,f),ut()},de)),()=>clearTimeout(K)},[j,x,B,f,wo,ut,f.promise,ye,H,Co]),O.useEffect(()=>{let K=De.current;if(K){let de=K.getBoundingClientRect().height;return Ae(de),h(le=>[{toastId:f.id,height:de,position:f.position},...le]),()=>h(le=>le.filter(qe=>qe.toastId!==f.id))}},[h,f.id]),O.useEffect(()=>{f.delete&&ut()},[ut,f.delete]);function Vc(){return $!=null&&$.loading?O.createElement("div",{className:"sonner-loader","data-visible":ye==="loading"},$.loading):I?O.createElement("div",{className:"sonner-loader","data-visible":ye==="loading"},I):O.createElement(hf,{visible:ye==="loading"})}return O.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:De,className:q(_,Hc,A==null?void 0:A.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[ye],(r=f==null?void 0:f.classNames)==null?void 0:r[ye]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:E,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":Q,"data-promise":!!f.promise,"data-removed":Re,"data-visible":Fn,"data-y-position":jo,"data-x-position":zc,"data-index":b,"data-front":At,"data-swiping":W,"data-dismissible":zt,"data-type":ye,"data-invert":Kc,"data-swipe-out":xe,"data-expanded":!!(j||B&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${Re?se:Kt.current}px`,"--initial-height":B?"auto":`${Ce}px`,...T,...f.style},onPointerDown:K=>{$n||!zt||(dt.current=new Date,te(Kt.current),K.target.setPointerCapture(K.pointerId),K.target.tagName!=="BUTTON"&&(re(!0),Vt.current={x:K.clientX,y:K.clientY}))},onPointerUp:()=>{var K,de,le,qe;if(xe||!zt)return;Vt.current=null;let Ge=Number(((K=De.current)==null?void 0:K.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Yr=new Date().getTime()-((de=dt.current)==null?void 0:de.getTime()),qc=Math.abs(Ge)/Yr;if(Math.abs(Ge)>=Pf||qc>.11){te(Kt.current),(le=f.onDismiss)==null||le.call(f,f),ut(),ee(!0);return}(qe=De.current)==null||qe.style.setProperty("--swipe-amount","0px"),re(!1)},onPointerMove:K=>{var de;if(!Vt.current||!zt)return;let le=K.clientY-Vt.current.y,qe=K.clientX-Vt.current.x,Ge=(jo==="top"?Math.min:Math.max)(0,le),Yr=K.pointerType==="touch"?10:2;Math.abs(Ge)>Yr?(de=De.current)==null||de.style.setProperty("--swipe-amount",`${le}px`):Math.abs(qe)>Yr&&(Vt.current=null)}},Uc&&!f.jsx?O.createElement("button",{"aria-label":me,"data-disabled":$n,"data-close-button":!0,onClick:$n||!zt?()=>{}:()=>{var K;ut(),(K=f.onDismiss)==null||K.call(f,f)},className:q(A==null?void 0:A.closeButton,(o=f==null?void 0:f.classNames)==null?void 0:o.closeButton)},O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||O.isValidElement(f.title)?f.jsx||f.title:O.createElement(O.Fragment,null,ye||f.icon||f.promise?O.createElement("div",{"data-icon":"",className:q(A==null?void 0:A.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Vc():null,f.type!=="loading"?f.icon||($==null?void 0:$[ye])||uf(ye):null):null,O.createElement("div",{"data-content":"",className:q(A==null?void 0:A.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},O.createElement("div",{"data-title":"",className:q(A==null?void 0:A.title,(i=f==null?void 0:f.classNames)==null?void 0:i.title)},f.title),f.description?O.createElement("div",{"data-description":"",className:q(M,Wc,A==null?void 0:A.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},f.description):null),O.isValidElement(f.cancel)?f.cancel:f.cancel&&Zr(f.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||k,onClick:K=>{var de,le;Zr(f.cancel)&&zt&&((le=(de=f.cancel).onClick)==null||le.call(de,K),ut())},className:q(A==null?void 0:A.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,O.isValidElement(f.action)?f.action:f.action&&Zr(f.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:K=>{var de,le;Zr(f.action)&&(K.defaultPrevented||((le=(de=f.action).onClick)==null||le.call(de,K),ut()))},className:q(A==null?void 0:A.actionButton,(p=f==null?void 0:f.classNames)==null?void 0:p.actionButton)},f.action.label):null))};function Do(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var If=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:o,closeButton:a,className:l,offset:i,theme:d="light",richColors:u,duration:p,style:m,visibleToasts:f=Cf,toastOptions:g,dir:x=Do(),gap:h=Tf,loadingIcon:v,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:j=Mf}=e,[N,E]=O.useState([]),C=O.useMemo(()=>Array.from(new Set([r].concat(N.filter(H=>H.position).map(H=>H.position)))),[N,r]),[T,k]=O.useState([]),[R,_]=O.useState(!1),[M,D]=O.useState(!1),[P,F]=O.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=O.useRef(null),B=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=O.useRef(null),$=O.useRef(!1),me=O.useCallback(H=>{var q;(q=N.find(Q=>Q.id===H.id))!=null&&q.delete||Oe.dismiss(H.id),E(Q=>Q.filter(({id:ge})=>ge!==H.id))},[N]);return O.useEffect(()=>Oe.subscribe(H=>{if(H.dismiss){E(q=>q.map(Q=>Q.id===H.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{Na.flushSync(()=>{E(q=>{let Q=q.findIndex(ge=>ge.id===H.id);return Q!==-1?[...q.slice(0,Q),{...q[Q],...H},...q.slice(Q+1)]:[H,...q]})})})}),[]),O.useEffect(()=>{if(d!=="system"){F(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{F(H?"dark":"light")})},[d]),O.useEffect(()=>{N.length<=1&&_(!1)},[N]),O.useEffect(()=>{let H=q=>{var Q,ge;n.every(Re=>q[Re]||q.code===Re)&&(_(!0),(Q=I.current)==null||Q.focus()),q.code==="Escape"&&(document.activeElement===I.current||(ge=I.current)!=null&&ge.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[n]),O.useEffect(()=>{if(I.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,$.current=!1)}},[I.current]),N.length?O.createElement("section",{"aria-label":`${b} ${B}`,tabIndex:-1},C.map((H,q)=>{var Q;let[ge,Re]=H.split("-");return O.createElement("ol",{key:H,dir:x==="auto"?Do():x,tabIndex:-1,ref:I,className:l,"data-sonner-toaster":!0,"data-theme":P,"data-y-position":ge,"data-x-position":Re,style:{"--front-toast-height":`${((Q=T[0])==null?void 0:Q.height)||0}px`,"--offset":typeof i=="number"?`${i}px`:i||kf,"--width":`${Rf}px`,"--gap":`${h}px`,...m},onBlur:ie=>{$.current&&!ie.currentTarget.contains(ie.relatedTarget)&&($.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||$.current||($.current=!0,A.current=ie.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{M||_(!1)},onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},N.filter(ie=>!ie.position&&q===0||ie.position===H).map((ie,W)=>{var re,xe;return O.createElement(Of,{key:ie.id,icons:y,index:W,toast:ie,defaultRichColors:u,duration:(re=g==null?void 0:g.duration)!=null?re:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:f,closeButton:(xe=g==null?void 0:g.closeButton)!=null?xe:a,interacting:M,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:me,toasts:N.filter(ee=>ee.position==ie.position),heights:T.filter(ee=>ee.position==ie.position),setHeights:k,expandByDefault:o,gap:h,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:w,cn:j})}))})):null};const _f=({...e})=>{const{theme:t="system"}=df();return s.jsx(If,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Lf=Gc.useId||(()=>{}),Df=0;function kn(e){const[t,r]=c.useState(Lf());return Ne(()=>{r(n=>n??String(Df++))},[e]),t?`radix-${t}`:""}const Ff=["top","right","bottom","left"],Nt=Math.min,Ie=Math.max,mn=Math.round,en=Math.floor,Ct=e=>({x:e,y:e}),Bf={left:"right",right:"left",bottom:"top",top:"bottom"},$f={start:"end",end:"start"};function ps(e,t,r){return Ie(e,Nt(t,r))}function lt(e,t){return typeof e=="function"?e(t):e}function ct(e){return e.split("-")[0]}function wr(e){return e.split("-")[1]}function Qs(e){return e==="x"?"y":"x"}function Xs(e){return e==="y"?"height":"width"}function kt(e){return["top","bottom"].includes(ct(e))?"y":"x"}function Js(e){return Qs(kt(e))}function Hf(e,t,r){r===void 0&&(r=!1);const n=wr(e),o=Js(e),a=Xs(o);let l=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=pn(l)),[l,pn(l)]}function Wf(e){const t=pn(e);return[gs(e),t,gs(t)]}function gs(e){return e.replace(/start|end/g,t=>$f[t])}function Uf(e,t,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?a:l;default:return[]}}function zf(e,t,r,n){const o=wr(e);let a=Uf(ct(e),r==="start",n);return o&&(a=a.map(l=>l+"-"+o),t&&(a=a.concat(a.map(gs)))),a}function pn(e){return e.replace(/left|right|bottom|top/g,t=>Bf[t])}function Kf(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ni(e){return typeof e!="number"?Kf(e):{top:e,right:e,bottom:e,left:e}}function gn(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Fo(e,t,r){let{reference:n,floating:o}=e;const a=kt(t),l=Js(t),i=Xs(l),d=ct(t),u=a==="y",p=n.x+n.width/2-o.width/2,m=n.y+n.height/2-o.height/2,f=n[i]/2-o[i]/2;let g;switch(d){case"top":g={x:p,y:n.y-o.height};break;case"bottom":g={x:p,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-o.width,y:m};break;default:g={x:n.x,y:n.y}}switch(wr(t)){case"start":g[l]-=f*(r&&u?-1:1);break;case"end":g[l]+=f*(r&&u?-1:1);break}return g}const Vf=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:l}=r,i=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:m}=Fo(u,n,d),f=n,g={},x=0;for(let h=0;h<i.length;h++){const{name:v,fn:y}=i[h],{x:b,y:w,data:j,reset:N}=await y({x:p,y:m,initialPlacement:n,placement:f,strategy:o,middlewareData:g,rects:u,platform:l,elements:{reference:e,floating:t}});p=b??p,m=w??m,g={...g,[v]:{...g[v],...j}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:p,y:m}=Fo(u,f,d)),h=-1)}return{x:p,y:m,placement:f,strategy:o,middlewareData:g}};async function Ir(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:l,elements:i,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:f=!1,padding:g=0}=lt(t,e),x=Ni(g),v=i[f?m==="floating"?"reference":"floating":m],y=gn(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:u,rootBoundary:p,strategy:d})),b=m==="floating"?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=gn(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:b,offsetParent:w,strategy:d}):b);return{top:(y.top-N.top+x.top)/j.y,bottom:(N.bottom-y.bottom+x.bottom)/j.y,left:(y.left-N.left+x.left)/j.x,right:(N.right-y.right+x.right)/j.x}}const qf=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:l,elements:i,middlewareData:d}=t,{element:u,padding:p=0}=lt(e,t)||{};if(u==null)return{};const m=Ni(p),f={x:r,y:n},g=Js(o),x=Xs(g),h=await l.getDimensions(u),v=g==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=a.reference[x]+a.reference[g]-f[g]-a.floating[x],N=f[g]-a.reference[g],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let C=E?E[w]:0;(!C||!await(l.isElement==null?void 0:l.isElement(E)))&&(C=i.floating[w]||a.floating[x]);const T=j/2-N/2,k=C/2-h[x]/2-1,R=Nt(m[y],k),_=Nt(m[b],k),M=R,D=C-h[x]-_,P=C/2-h[x]/2+T,F=ps(M,P,D),I=!d.arrow&&wr(o)!=null&&P!==F&&a.reference[x]/2-(P<M?R:_)-h[x]/2<0,B=I?P<M?P-M:P-D:0;return{[g]:f[g]+B,data:{[g]:F,centerOffset:P-F-B,...I&&{alignmentOffset:B}},reset:I}}}),Gf=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:l,initialPlacement:i,platform:d,elements:u}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:h=!0,...v}=lt(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=ct(o),b=kt(i),w=ct(i)===i,j=await(d.isRTL==null?void 0:d.isRTL(u.floating)),N=f||(w||!h?[pn(i)]:Wf(i)),E=x!=="none";!f&&E&&N.push(...zf(i,h,x,j));const C=[i,...N],T=await Ir(t,v),k=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(p&&k.push(T[y]),m){const P=Hf(o,l,j);k.push(T[P[0]],T[P[1]])}if(R=[...R,{placement:o,overflows:k}],!k.every(P=>P<=0)){var _,M;const P=(((_=a.flip)==null?void 0:_.index)||0)+1,F=C[P];if(F)return{data:{index:P,overflows:R},reset:{placement:F}};let I=(M=R.filter(B=>B.overflows[0]<=0).sort((B,A)=>B.overflows[1]-A.overflows[1])[0])==null?void 0:M.placement;if(!I)switch(g){case"bestFit":{var D;const B=(D=R.filter(A=>{if(E){const $=kt(A.placement);return $===b||$==="y"}return!0}).map(A=>[A.placement,A.overflows.filter($=>$>0).reduce(($,me)=>$+me,0)]).sort((A,$)=>A[1]-$[1])[0])==null?void 0:D[0];B&&(I=B);break}case"initialPlacement":I=i;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function Bo(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $o(e){return Ff.some(t=>e[t]>=0)}const Yf=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=lt(e,t);switch(n){case"referenceHidden":{const a=await Ir(t,{...o,elementContext:"reference"}),l=Bo(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:$o(l)}}}case"escaped":{const a=await Ir(t,{...o,altBoundary:!0}),l=Bo(a,r.floating);return{data:{escapedOffsets:l,escaped:$o(l)}}}default:return{}}}}};async function Qf(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),l=ct(r),i=wr(r),d=kt(r)==="y",u=["left","top"].includes(l)?-1:1,p=a&&d?-1:1,m=lt(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return i&&typeof x=="number"&&(g=i==="end"?x*-1:x),d?{x:g*p,y:f*u}:{x:f*u,y:g*p}}const Xf=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:l,middlewareData:i}=t,d=await Qf(t,e);return l===((r=i.offset)==null?void 0:r.placement)&&(n=i.arrow)!=null&&n.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:l}}}}},Jf=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:i={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...d}=lt(e,t),u={x:r,y:n},p=await Ir(t,d),m=kt(ct(o)),f=Qs(m);let g=u[f],x=u[m];if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+p[v],w=g-p[y];g=ps(b,g,w)}if(l){const v=m==="y"?"top":"left",y=m==="y"?"bottom":"right",b=x+p[v],w=x-p[y];x=ps(b,x,w)}const h=i.fn({...t,[f]:g,[m]:x});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[f]:a,[m]:l}}}}}},Zf=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:l}=t,{offset:i=0,mainAxis:d=!0,crossAxis:u=!0}=lt(e,t),p={x:r,y:n},m=kt(o),f=Qs(m);let g=p[f],x=p[m];const h=lt(i,t),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(d){const w=f==="y"?"height":"width",j=a.reference[f]-a.floating[w]+v.mainAxis,N=a.reference[f]+a.reference[w]-v.mainAxis;g<j?g=j:g>N&&(g=N)}if(u){var y,b;const w=f==="y"?"width":"height",j=["top","left"].includes(ct(o)),N=a.reference[m]-a.floating[w]+(j&&((y=l.offset)==null?void 0:y[m])||0)+(j?0:v.crossAxis),E=a.reference[m]+a.reference[w]+(j?0:((b=l.offset)==null?void 0:b[m])||0)-(j?v.crossAxis:0);x<N?x=N:x>E&&(x=E)}return{[f]:g,[m]:x}}}},eh=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:l,elements:i}=t,{apply:d=()=>{},...u}=lt(e,t),p=await Ir(t,u),m=ct(o),f=wr(o),g=kt(o)==="y",{width:x,height:h}=a.floating;let v,y;m==="top"||m==="bottom"?(v=m,y=f===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(y=m,v=f==="end"?"top":"bottom");const b=h-p.top-p.bottom,w=x-p.left-p.right,j=Nt(h-p[v],b),N=Nt(x-p[y],w),E=!t.middlewareData.shift;let C=j,T=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=b),E&&!f){const R=Ie(p.left,0),_=Ie(p.right,0),M=Ie(p.top,0),D=Ie(p.bottom,0);g?T=x-2*(R!==0||_!==0?R+_:Ie(p.left,p.right)):C=h-2*(M!==0||D!==0?M+D:Ie(p.top,p.bottom))}await d({...t,availableWidth:T,availableHeight:C});const k=await l.getDimensions(i.floating);return x!==k.width||h!==k.height?{reset:{rects:!0}}:{}}}};function En(){return typeof window<"u"}function Sr(e){return Ci(e)?(e.nodeName||"").toLowerCase():"#document"}function Le(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nt(e){var t;return(t=(Ci(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ci(e){return En()?e instanceof Node||e instanceof Le(e).Node:!1}function ze(e){return En()?e instanceof Element||e instanceof Le(e).Element:!1}function rt(e){return En()?e instanceof HTMLElement||e instanceof Le(e).HTMLElement:!1}function Ho(e){return!En()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Le(e).ShadowRoot}function Kr(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Ke(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function th(e){return["table","td","th"].includes(Sr(e))}function Rn(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Zs(e){const t=eo(),r=ze(e)?Ke(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function rh(e){let t=Et(e);for(;rt(t)&&!gr(t);){if(Zs(t))return t;if(Rn(t))return null;t=Et(t)}return null}function eo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gr(e){return["html","body","#document"].includes(Sr(e))}function Ke(e){return Le(e).getComputedStyle(e)}function Tn(e){return ze(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Et(e){if(Sr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ho(e)&&e.host||nt(e);return Ho(t)?t.host:t}function ki(e){const t=Et(e);return gr(t)?e.ownerDocument?e.ownerDocument.body:e.body:rt(t)&&Kr(t)?t:ki(t)}function _r(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=ki(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),l=Le(o);if(a){const i=xs(l);return t.concat(l,l.visualViewport||[],Kr(o)?o:[],i&&r?_r(i):[])}return t.concat(o,_r(o,[],r))}function xs(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ei(e){const t=Ke(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=rt(e),a=o?e.offsetWidth:r,l=o?e.offsetHeight:n,i=mn(r)!==a||mn(n)!==l;return i&&(r=a,n=l),{width:r,height:n,$:i}}function to(e){return ze(e)?e:e.contextElement}function Xt(e){const t=to(e);if(!rt(t))return Ct(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=Ei(t);let l=(a?mn(r.width):r.width)/n,i=(a?mn(r.height):r.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const nh=Ct(0);function Ri(e){const t=Le(e);return!eo()||!t.visualViewport?nh:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sh(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Le(e)?!1:t}function $t(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=to(e);let l=Ct(1);t&&(n?ze(n)&&(l=Xt(n)):l=Xt(e));const i=sh(a,r,n)?Ri(a):Ct(0);let d=(o.left+i.x)/l.x,u=(o.top+i.y)/l.y,p=o.width/l.x,m=o.height/l.y;if(a){const f=Le(a),g=n&&ze(n)?Le(n):n;let x=f,h=xs(x);for(;h&&n&&g!==x;){const v=Xt(h),y=h.getBoundingClientRect(),b=Ke(h),w=y.left+(h.clientLeft+parseFloat(b.paddingLeft))*v.x,j=y.top+(h.clientTop+parseFloat(b.paddingTop))*v.y;d*=v.x,u*=v.y,p*=v.x,m*=v.y,d+=w,u+=j,x=Le(h),h=xs(x)}}return gn({width:p,height:m,x:d,y:u})}function oh(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",l=nt(n),i=t?Rn(t.floating):!1;if(n===l||i&&a)return r;let d={scrollLeft:0,scrollTop:0},u=Ct(1);const p=Ct(0),m=rt(n);if((m||!m&&!a)&&((Sr(n)!=="body"||Kr(l))&&(d=Tn(n)),rt(n))){const f=$t(n);u=Xt(n),p.x=f.x+n.clientLeft,p.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+p.x,y:r.y*u.y-d.scrollTop*u.y+p.y}}function ah(e){return Array.from(e.getClientRects())}function vs(e,t){const r=Tn(e).scrollLeft;return t?t.left+r:$t(nt(e)).left+r}function ih(e){const t=nt(e),r=Tn(e),n=e.ownerDocument.body,o=Ie(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ie(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+vs(e);const i=-r.scrollTop;return Ke(n).direction==="rtl"&&(l+=Ie(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:l,y:i}}function lh(e,t){const r=Le(e),n=nt(e),o=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,i=0,d=0;if(o){a=o.width,l=o.height;const u=eo();(!u||u&&t==="fixed")&&(i=o.offsetLeft,d=o.offsetTop)}return{width:a,height:l,x:i,y:d}}function ch(e,t){const r=$t(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=rt(e)?Xt(e):Ct(1),l=e.clientWidth*a.x,i=e.clientHeight*a.y,d=o*a.x,u=n*a.y;return{width:l,height:i,x:d,y:u}}function Wo(e,t,r){let n;if(t==="viewport")n=lh(e,r);else if(t==="document")n=ih(nt(e));else if(ze(t))n=ch(t,r);else{const o=Ri(e);n={...t,x:t.x-o.x,y:t.y-o.y}}return gn(n)}function Ti(e,t){const r=Et(e);return r===t||!ze(r)||gr(r)?!1:Ke(r).position==="fixed"||Ti(r,t)}function dh(e,t){const r=t.get(e);if(r)return r;let n=_r(e,[],!1).filter(i=>ze(i)&&Sr(i)!=="body"),o=null;const a=Ke(e).position==="fixed";let l=a?Et(e):e;for(;ze(l)&&!gr(l);){const i=Ke(l),d=Zs(l);!d&&i.position==="fixed"&&(o=null),(a?!d&&!o:!d&&i.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Kr(l)&&!d&&Ti(e,l))?n=n.filter(p=>p!==l):o=i,l=Et(l)}return t.set(e,n),n}function uh(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const l=[...r==="clippingAncestors"?Rn(t)?[]:dh(t,this._c):[].concat(r),n],i=l[0],d=l.reduce((u,p)=>{const m=Wo(t,p,o);return u.top=Ie(m.top,u.top),u.right=Nt(m.right,u.right),u.bottom=Nt(m.bottom,u.bottom),u.left=Ie(m.left,u.left),u},Wo(t,i,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function fh(e){const{width:t,height:r}=Ei(e);return{width:t,height:r}}function hh(e,t,r){const n=rt(t),o=nt(t),a=r==="fixed",l=$t(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const d=Ct(0);if(n||!n&&!a)if((Sr(t)!=="body"||Kr(o))&&(i=Tn(t)),n){const g=$t(t,!0,a,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else o&&(d.x=vs(o));let u=0,p=0;if(o&&!n&&!a){const g=o.getBoundingClientRect();p=g.top+i.scrollTop,u=g.left+i.scrollLeft-vs(o,g)}const m=l.left+i.scrollLeft-d.x-u,f=l.top+i.scrollTop-d.y-p;return{x:m,y:f,width:l.width,height:l.height}}function qn(e){return Ke(e).position==="static"}function Uo(e,t){if(!rt(e)||Ke(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return nt(e)===r&&(r=r.ownerDocument.body),r}function Pi(e,t){const r=Le(e);if(Rn(e))return r;if(!rt(e)){let o=Et(e);for(;o&&!gr(o);){if(ze(o)&&!qn(o))return o;o=Et(o)}return r}let n=Uo(e,t);for(;n&&th(n)&&qn(n);)n=Uo(n,t);return n&&gr(n)&&qn(n)&&!Zs(n)?r:n||rh(e)||r}const mh=async function(e){const t=this.getOffsetParent||Pi,r=this.getDimensions,n=await r(e.floating);return{reference:hh(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ph(e){return Ke(e).direction==="rtl"}const gh={convertOffsetParentRelativeRectToViewportRelativeRect:oh,getDocumentElement:nt,getClippingRect:uh,getOffsetParent:Pi,getElementRects:mh,getClientRects:ah,getDimensions:fh,getScale:Xt,isElement:ze,isRTL:ph};function xh(e,t){let r=null,n;const o=nt(e);function a(){var i;clearTimeout(n),(i=r)==null||i.disconnect(),r=null}function l(i,d){i===void 0&&(i=!1),d===void 0&&(d=1),a();const{left:u,top:p,width:m,height:f}=e.getBoundingClientRect();if(i||t(),!m||!f)return;const g=en(p),x=en(o.clientWidth-(u+m)),h=en(o.clientHeight-(p+f)),v=en(u),b={rootMargin:-g+"px "+-x+"px "+-h+"px "+-v+"px",threshold:Ie(0,Nt(1,d))||1};let w=!0;function j(N){const E=N[0].intersectionRatio;if(E!==d){if(!w)return l();E?l(!1,E):n=setTimeout(()=>{l(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...b,root:o.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return l(!0),a}function vh(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=to(e),p=o||a?[...u?_r(u):[],..._r(t)]:[];p.forEach(y=>{o&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const m=u&&i?xh(u,r):null;let f=-1,g=null;l&&(g=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),r()}),u&&!d&&g.observe(u),g.observe(t));let x,h=d?$t(e):null;d&&v();function v(){const y=$t(e);h&&(y.x!==h.x||y.y!==h.y||y.width!==h.width||y.height!==h.height)&&r(),h=y,x=requestAnimationFrame(v)}return r(),()=>{var y;p.forEach(b=>{o&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),m==null||m(),(y=g)==null||y.disconnect(),g=null,d&&cancelAnimationFrame(x)}}const bh=Xf,yh=Jf,wh=Gf,Sh=eh,jh=Yf,zo=qf,Nh=Zf,Ch=(e,t,r)=>{const n=new Map,o={platform:gh,...r},a={...o.platform,_c:n};return Vf(e,t,{...o,platform:a})};var dn=typeof document<"u"?c.useLayoutEffect:c.useEffect;function xn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!xn(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!xn(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ai(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ko(e,t){const r=Ai(e);return Math.round(t*r)/r}function Gn(e){const t=c.useRef(e);return dn(()=>{t.current=e}),t}function kh(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:i=!0,whileElementsMounted:d,open:u}=e,[p,m]=c.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=c.useState(n);xn(f,n)||g(n);const[x,h]=c.useState(null),[v,y]=c.useState(null),b=c.useCallback(A=>{A!==E.current&&(E.current=A,h(A))},[]),w=c.useCallback(A=>{A!==C.current&&(C.current=A,y(A))},[]),j=a||x,N=l||v,E=c.useRef(null),C=c.useRef(null),T=c.useRef(p),k=d!=null,R=Gn(d),_=Gn(o),M=Gn(u),D=c.useCallback(()=>{if(!E.current||!C.current)return;const A={placement:t,strategy:r,middleware:f};_.current&&(A.platform=_.current),Ch(E.current,C.current,A).then($=>{const me={...$,isPositioned:M.current!==!1};P.current&&!xn(T.current,me)&&(T.current=me,vr.flushSync(()=>{m(me)}))})},[f,t,r,_,M]);dn(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(A=>({...A,isPositioned:!1})))},[u]);const P=c.useRef(!1);dn(()=>(P.current=!0,()=>{P.current=!1}),[]),dn(()=>{if(j&&(E.current=j),N&&(C.current=N),j&&N){if(R.current)return R.current(j,N,D);D()}},[j,N,D,R,k]);const F=c.useMemo(()=>({reference:E,floating:C,setReference:b,setFloating:w}),[b,w]),I=c.useMemo(()=>({reference:j,floating:N}),[j,N]),B=c.useMemo(()=>{const A={position:r,left:0,top:0};if(!I.floating)return A;const $=Ko(I.floating,p.x),me=Ko(I.floating,p.y);return i?{...A,transform:"translate("+$+"px, "+me+"px)",...Ai(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:me}},[r,i,I.floating,p.x,p.y]);return c.useMemo(()=>({...p,update:D,refs:F,elements:I,floatingStyles:B}),[p,D,F,I,B])}const Eh=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?zo({element:n.current,padding:o}).fn(r):{}:n?zo({element:n,padding:o}).fn(r):{}}}},Rh=(e,t)=>({...bh(e),options:[e,t]}),Th=(e,t)=>({...yh(e),options:[e,t]}),Ph=(e,t)=>({...Nh(e),options:[e,t]}),Ah=(e,t)=>({...wh(e),options:[e,t]}),Mh=(e,t)=>({...Sh(e),options:[e,t]}),Oh=(e,t)=>({...jh(e),options:[e,t]}),Ih=(e,t)=>({...Eh(e),options:[e,t]});var _h="Arrow",Mi=c.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(X.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mi.displayName=_h;var Lh=Mi;function Dh(e,t=[]){let r=[];function n(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];function u(m){const{scope:f,children:g,...x}=m,h=(f==null?void 0:f[e][d])||i,v=c.useMemo(()=>x,Object.values(x));return s.jsx(h.Provider,{value:v,children:g})}function p(m,f){const g=(f==null?void 0:f[e][d])||i,x=c.useContext(g);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,p]}const o=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[n,Fh(o,...t)]}function Fh(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=n.reduce((i,{useScope:d,scopeName:u})=>{const m=d(a)[`__scope${u}`];return{...i,...m}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function Oi(e){const[t,r]=c.useState(void 0);return Ne(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,i;if("borderBoxSize"in a){const d=a.borderBoxSize,u=Array.isArray(d)?d[0]:d;l=u.inlineSize,i=u.blockSize}else l=e.offsetWidth,i=e.offsetHeight;r({width:l,height:i})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ro="Popper",[Ii,Pn]=Dh(ro),[Bh,_i]=Ii(ro),Li=e=>{const{__scopePopper:t,children:r}=e,[n,o]=c.useState(null);return s.jsx(Bh,{scope:t,anchor:n,onAnchorChange:o,children:r})};Li.displayName=ro;var Di="PopperAnchor",Fi=c.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=_i(Di,r),l=c.useRef(null),i=he(t,l);return c.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:s.jsx(X.div,{...o,ref:i})});Fi.displayName=Di;var no="PopperContent",[$h,Hh]=Ii(no),Bi=c.forwardRef((e,t)=>{var W,re,xe,ee,se,te;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:i=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:x,...h}=e,v=_i(no,r),[y,b]=c.useState(null),w=he(t,Ce=>b(Ce)),[j,N]=c.useState(null),E=Oi(j),C=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,k=n+(a!=="center"?"-"+a:""),R=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},_=Array.isArray(u)?u:[u],M=_.length>0,D={padding:R,boundary:_.filter(Uh),altBoundary:M},{refs:P,floatingStyles:F,placement:I,isPositioned:B,middlewareData:A}=kh({strategy:"fixed",placement:k,whileElementsMounted:(...Ce)=>vh(...Ce,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[Rh({mainAxis:o+T,alignmentAxis:l}),d&&Th({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Ph():void 0,...D}),d&&Ah({...D}),Mh({...D,apply:({elements:Ce,rects:Ae,availableWidth:dt,availableHeight:De})=>{const{width:At,height:Fn}=Ae.reference,ye=Ce.floating.style;ye.setProperty("--radix-popper-available-width",`${dt}px`),ye.setProperty("--radix-popper-available-height",`${De}px`),ye.setProperty("--radix-popper-anchor-width",`${At}px`),ye.setProperty("--radix-popper-anchor-height",`${Fn}px`)}}),j&&Ih({element:j,padding:i}),zh({arrowWidth:C,arrowHeight:T}),f&&Oh({strategy:"referenceHidden",...D})]}),[$,me]=Wi(I),H=Pe(x);Ne(()=>{B&&(H==null||H())},[B,H]);const q=(W=A.arrow)==null?void 0:W.x,Q=(re=A.arrow)==null?void 0:re.y,ge=((xe=A.arrow)==null?void 0:xe.centerOffset)!==0,[Re,ie]=c.useState();return Ne(()=>{y&&ie(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:B?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ee=A.transformOrigin)==null?void 0:ee.x,(se=A.transformOrigin)==null?void 0:se.y].join(" "),...((te=A.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx($h,{scope:r,placedSide:$,onArrowChange:N,arrowX:q,arrowY:Q,shouldHideArrow:ge,children:s.jsx(X.div,{"data-side":$,"data-align":me,...h,ref:w,style:{...h.style,animation:B?void 0:"none"}})})})});Bi.displayName=no;var $i="PopperArrow",Wh={top:"bottom",right:"left",bottom:"top",left:"right"},Hi=c.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=Hh($i,n),l=Wh[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(Lh,{...o,ref:r,style:{...o.style,display:"block"}})})});Hi.displayName=$i;function Uh(e){return e!==null}var zh=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:o}=t,l=((v=o.arrow)==null?void 0:v.centerOffset)!==0,i=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,p]=Wi(r),m={start:"0%",center:"50%",end:"100%"}[p],f=(((y=o.arrow)==null?void 0:y.x)??0)+i/2,g=(((b=o.arrow)==null?void 0:b.y)??0)+d/2;let x="",h="";return u==="bottom"?(x=l?m:`${f}px`,h=`${-d}px`):u==="top"?(x=l?m:`${f}px`,h=`${n.floating.height+d}px`):u==="right"?(x=`${-d}px`,h=l?m:`${g}px`):u==="left"&&(x=`${n.floating.width+d}px`,h=l?m:`${g}px`),{data:{x,y:h}}}});function Wi(e){const[t,r="center"]=e.split("-");return[t,r]}var Kh=Li,Ui=Fi,zi=Bi,Ki=Hi,[An,Ax]=Ur("Tooltip",[Pn]),so=Pn(),Vi="TooltipProvider",Vh=700,Vo="tooltip.open",[qh,qi]=An(Vi),Gi=e=>{const{__scopeTooltip:t,delayDuration:r=Vh,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:a}=e,[l,i]=c.useState(!0),d=c.useRef(!1),u=c.useRef(0);return c.useEffect(()=>{const p=u.current;return()=>window.clearTimeout(p)},[]),s.jsx(qh,{scope:t,isOpenDelayed:l,delayDuration:r,onOpen:c.useCallback(()=>{window.clearTimeout(u.current),i(!1)},[]),onClose:c.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>i(!0),n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:c.useCallback(p=>{d.current=p},[]),disableHoverableContent:o,children:a})};Gi.displayName=Vi;var Yi="Tooltip",[Mx,Mn]=An(Yi),bs="TooltipTrigger",Gh=c.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Mn(bs,r),a=qi(bs,r),l=so(r),i=c.useRef(null),d=he(t,i,o.onTriggerChange),u=c.useRef(!1),p=c.useRef(!1),m=c.useCallback(()=>u.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Ui,{asChild:!0,...l,children:s.jsx(X.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:d,onPointerMove:z(e.onPointerMove,f=>{f.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:z(e.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:z(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:z(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:z(e.onBlur,o.onClose),onClick:z(e.onClick,o.onClose)})})});Gh.displayName=bs;var Yh="TooltipPortal",[Ox,Qh]=An(Yh,{forceMount:void 0}),xr="TooltipContent",Qi=c.forwardRef((e,t)=>{const r=Qh(xr,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...a}=e,l=Mn(xr,e.__scopeTooltip);return s.jsx(jn,{present:n||l.open,children:l.disableHoverableContent?s.jsx(Xi,{side:o,...a,ref:t}):s.jsx(Xh,{side:o,...a,ref:t})})}),Xh=c.forwardRef((e,t)=>{const r=Mn(xr,e.__scopeTooltip),n=qi(xr,e.__scopeTooltip),o=c.useRef(null),a=he(t,o),[l,i]=c.useState(null),{trigger:d,onClose:u}=r,p=o.current,{onPointerInTransitChange:m}=n,f=c.useCallback(()=>{i(null),m(!1)},[m]),g=c.useCallback((x,h)=>{const v=x.currentTarget,y={x:x.clientX,y:x.clientY},b=tm(y,v.getBoundingClientRect()),w=rm(y,b),j=nm(h.getBoundingClientRect()),N=om([...w,...j]);i(N),m(!0)},[m]);return c.useEffect(()=>()=>f(),[f]),c.useEffect(()=>{if(d&&p){const x=v=>g(v,p),h=v=>g(v,d);return d.addEventListener("pointerleave",x),p.addEventListener("pointerleave",h),()=>{d.removeEventListener("pointerleave",x),p.removeEventListener("pointerleave",h)}}},[d,p,g,f]),c.useEffect(()=>{if(l){const x=h=>{const v=h.target,y={x:h.clientX,y:h.clientY},b=(d==null?void 0:d.contains(v))||(p==null?void 0:p.contains(v)),w=!sm(y,l);b?f():w&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,p,l,u,f]),s.jsx(Xi,{...e,ref:a})}),[Jh,Zh]=An(Yi,{isInside:!1}),Xi=c.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:l,...i}=e,d=Mn(xr,r),u=so(r),{onClose:p}=d;return c.useEffect(()=>(document.addEventListener(Vo,p),()=>document.removeEventListener(Vo,p)),[p]),c.useEffect(()=>{if(d.trigger){const m=f=>{const g=f.target;g!=null&&g.contains(d.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,p]),s.jsx(Sn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:s.jsxs(zi,{"data-state":d.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Oa,{children:n}),s.jsx(Jh,{scope:r,isInside:!0,children:s.jsx(qd,{id:d.contentId,role:"tooltip",children:o||n})})]})})});Qi.displayName=xr;var Ji="TooltipArrow",em=c.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=so(r);return Zh(Ji,r).isInside?null:s.jsx(Ki,{...o,...n,ref:t})});em.displayName=Ji;function tm(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,o,a)){case a:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function rm(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function nm(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function sm(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const i=t[a].x,d=t[a].y,u=t[l].x,p=t[l].y;d>n!=p>n&&r<(u-i)*(n-d)/(p-d)+i&&(o=!o)}return o}function om(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),am(t)}function am(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const a=r[r.length-1],l=r[r.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var im=Gi,Zi=Qi;const lm=im,cm=c.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Zi,{ref:n,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));cm.displayName=Zi.displayName;var Vr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ht=typeof window>"u"||"Deno"in globalThis;function Be(){}function dm(e,t){return typeof e=="function"?e(t):e}function ys(e){return typeof e=="number"&&e>=0&&e!==1/0}function el(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jt(e,t){return typeof e=="function"?e(t):e}function Ue(e,t){return typeof e=="function"?e(t):e}function qo(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:l,stale:i}=e;if(l){if(n){if(t.queryHash!==oo(l,t.options))return!1}else if(!Dr(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||o&&o!==t.state.fetchStatus||a&&!a(t))}function Go(e,t){const{exact:r,status:n,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Lr(t.options.mutationKey)!==Lr(a))return!1}else if(!Dr(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function oo(e,t){return((t==null?void 0:t.queryKeyHashFn)||Lr)(e)}function Lr(e){return JSON.stringify(e,(t,r)=>Ss(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Dr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Dr(e[r],t[r])):!1}function tl(e,t){if(e===t)return e;const r=Yo(e)&&Yo(t);if(r||Ss(e)&&Ss(t)){const n=r?e:Object.keys(e),o=n.length,a=r?t:Object.keys(t),l=a.length,i=r?[]:{};let d=0;for(let u=0;u<l;u++){const p=r?u:a[u];(!r&&n.includes(p)||r)&&e[p]===void 0&&t[p]===void 0?(i[p]=void 0,d++):(i[p]=tl(e[p],t[p]),i[p]===e[p]&&e[p]!==void 0&&d++)}return o===l&&d===o?e:i}return t}function ws(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Yo(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ss(e){if(!Qo(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Qo(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Qo(e){return Object.prototype.toString.call(e)==="[object Object]"}function um(e){return new Promise(t=>{setTimeout(t,e)})}function js(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?tl(e,t):t}function fm(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function hm(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ao=Symbol();function rl(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ao?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ot,xt,er,pa,mm=(pa=class extends Vr{constructor(){super();U(this,Ot);U(this,xt);U(this,er);L(this,er,t=>{if(!Ht&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,xt)||this.setEventListener(S(this,er))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,xt))==null||t.call(this),L(this,xt,void 0))}setEventListener(t){var r;L(this,er,t),(r=S(this,xt))==null||r.call(this),L(this,xt,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){S(this,Ot)!==t&&(L(this,Ot,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof S(this,Ot)=="boolean"?S(this,Ot):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ot=new WeakMap,xt=new WeakMap,er=new WeakMap,pa),io=new mm,tr,vt,rr,ga,pm=(ga=class extends Vr{constructor(){super();U(this,tr,!0);U(this,vt);U(this,rr);L(this,rr,t=>{if(!Ht&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){S(this,vt)||this.setEventListener(S(this,rr))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,vt))==null||t.call(this),L(this,vt,void 0))}setEventListener(t){var r;L(this,rr,t),(r=S(this,vt))==null||r.call(this),L(this,vt,t(this.setOnline.bind(this)))}setOnline(t){S(this,tr)!==t&&(L(this,tr,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return S(this,tr)}},tr=new WeakMap,vt=new WeakMap,rr=new WeakMap,ga),vn=new pm;function Ns(){let e,t;const r=new Promise((o,a)=>{e=o,t=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),e(o)},r.reject=o=>{n({status:"rejected",reason:o}),t(o)},r}function gm(e){return Math.min(1e3*2**e,3e4)}function nl(e){return(e??"online")==="online"?vn.isOnline():!0}var sl=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yn(e){return e instanceof sl}function ol(e){let t=!1,r=0,n=!1,o;const a=Ns(),l=h=>{var v;n||(f(new sl(h)),(v=e.abort)==null||v.call(e))},i=()=>{t=!0},d=()=>{t=!1},u=()=>io.isFocused()&&(e.networkMode==="always"||vn.isOnline())&&e.canRun(),p=()=>nl(e.networkMode)&&e.canRun(),m=h=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,h),o==null||o(),a.resolve(h))},f=h=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,h),o==null||o(),a.reject(h))},g=()=>new Promise(h=>{var v;o=y=>{(n||u())&&h(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var h;o=void 0,n||(h=e.onContinue)==null||h.call(e)}),x=()=>{if(n)return;let h;const v=r===0?e.initialPromise:void 0;try{h=v??e.fn()}catch(y){h=Promise.reject(y)}Promise.resolve(h).then(m).catch(y=>{var E;if(n)return;const b=e.retry??(Ht?0:3),w=e.retryDelay??gm,j=typeof w=="function"?w(r,y):w,N=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!N){f(y);return}r++,(E=e.onFail)==null||E.call(e,r,y),um(j).then(()=>u()?void 0:g()).then(()=>{t?f(y):x()})})};return{promise:a,cancel:l,continue:()=>(o==null||o(),a),cancelRetry:i,continueRetry:d,canStart:p,start:()=>(p()?x():g().then(x),a)}}function xm(){let e=[],t=0,r=i=>{i()},n=i=>{i()},o=i=>setTimeout(i,0);const a=i=>{t?e.push(i):o(()=>{r(i)})},l=()=>{const i=e;e=[],i.length&&o(()=>{n(()=>{i.forEach(d=>{r(d)})})})};return{batch:i=>{let d;t++;try{d=i()}finally{t--,t||l()}return d},batchCalls:i=>(...d)=>{a(()=>{i(...d)})},schedule:a,setNotifyFunction:i=>{r=i},setBatchNotifyFunction:i=>{n=i},setScheduler:i=>{o=i}}}var we=xm(),It,xa,al=(xa=class{constructor(){U(this,It)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ys(this.gcTime)&&L(this,It,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ht?1/0:5*60*1e3))}clearGcTimeout(){S(this,It)&&(clearTimeout(S(this,It)),L(this,It,void 0))}},It=new WeakMap,xa),nr,sr,Fe,Se,Fr,_t,We,at,va,vm=(va=class extends al{constructor(t){super();U(this,We);U(this,nr);U(this,sr);U(this,Fe);U(this,Se);U(this,Fr);U(this,_t);L(this,_t,!1),L(this,Fr,t.defaultOptions),this.setOptions(t.options),this.observers=[],L(this,Fe,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,L(this,nr,bm(this.options)),this.state=t.state??S(this,nr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,Se))==null?void 0:t.promise}setOptions(t){this.options={...S(this,Fr),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Fe).remove(this)}setData(t,r){const n=js(this.state.data,t,this.options);return G(this,We,at).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){G(this,We,at).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,o;const r=(n=S(this,Se))==null?void 0:n.promise;return(o=S(this,Se))==null||o.cancel(t),r?r.then(Be).catch(Be):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,nr))}isActive(){return this.observers.some(t=>Ue(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ao||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!el(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,Se))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,Se))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Fe).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(S(this,Se)&&(S(this,_t)?S(this,Se).cancel({revert:!0}):S(this,Se).cancelRetry()),this.scheduleGc()),S(this,Fe).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,We,at).call(this,{type:"invalidate"})}fetch(t,r){var d,u,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,Se))return S(this,Se).continueRetry(),S(this,Se).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(f=>f.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(L(this,_t,!0),n.signal)})},a=()=>{const m=rl(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return o(f),L(this,_t,!1),this.options.persister?this.options.persister(m,f,this):m(f)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};o(l),(d=this.options.behavior)==null||d.onFetch(l,this),L(this,sr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&G(this,We,at).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const i=m=>{var f,g,x,h;Yn(m)&&m.silent||G(this,We,at).call(this,{type:"error",error:m}),Yn(m)||((g=(f=S(this,Fe).config).onError)==null||g.call(f,m,this),(h=(x=S(this,Fe).config).onSettled)==null||h.call(x,this.state.data,m,this)),this.scheduleGc()};return L(this,Se,ol({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var f,g,x,h;if(m===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){i(v);return}(g=(f=S(this,Fe).config).onSuccess)==null||g.call(f,m,this),(h=(x=S(this,Fe).config).onSettled)==null||h.call(x,m,this.state.error,this),this.scheduleGc()},onError:i,onFail:(m,f)=>{G(this,We,at).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{G(this,We,at).call(this,{type:"pause"})},onContinue:()=>{G(this,We,at).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),S(this,Se).start()}},nr=new WeakMap,sr=new WeakMap,Fe=new WeakMap,Se=new WeakMap,Fr=new WeakMap,_t=new WeakMap,We=new WeakSet,at=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...il(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Yn(o)&&o.revert&&S(this,sr)?{...S(this,sr),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),we.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),S(this,Fe).notify({query:this,type:"updated",action:t})})},va);function il(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nl(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ye,ba,ym=(ba=class extends Vr{constructor(t={}){super();U(this,Ye);this.config=t,L(this,Ye,new Map)}build(t,r,n){const o=r.queryKey,a=r.queryHash??oo(o,r);let l=this.get(a);return l||(l=new vm({cache:this,queryKey:o,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(l)),l}add(t){S(this,Ye).has(t.queryHash)||(S(this,Ye).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=S(this,Ye).get(t.queryHash);r&&(t.destroy(),r===t&&S(this,Ye).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){we.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,Ye).get(t)}getAll(){return[...S(this,Ye).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>qo(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>qo(t,n)):r}notify(t){we.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){we.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){we.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ye=new WeakMap,ba),Qe,ke,Lt,Xe,mt,ya,wm=(ya=class extends al{constructor(t){super();U(this,Xe);U(this,Qe);U(this,ke);U(this,Lt);this.mutationId=t.mutationId,L(this,ke,t.mutationCache),L(this,Qe,[]),this.state=t.state||Sm(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,Qe).includes(t)||(S(this,Qe).push(t),this.clearGcTimeout(),S(this,ke).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){L(this,Qe,S(this,Qe).filter(r=>r!==t)),this.scheduleGc(),S(this,ke).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,Qe).length||(this.state.status==="pending"?this.scheduleGc():S(this,ke).remove(this))}continue(){var t;return((t=S(this,Lt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,i,d,u,p,m,f,g,x,h,v,y,b,w,j,N,E,C;L(this,Lt,ol({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,k)=>{G(this,Xe,mt).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{G(this,Xe,mt).call(this,{type:"pause"})},onContinue:()=>{G(this,Xe,mt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,ke).canRun(this)}));const r=this.state.status==="pending",n=!S(this,Lt).canStart();try{if(!r){G(this,Xe,mt).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(o=S(this,ke).config).onMutate)==null?void 0:a.call(o,t,this));const k=await((i=(l=this.options).onMutate)==null?void 0:i.call(l,t));k!==this.state.context&&G(this,Xe,mt).call(this,{type:"pending",context:k,variables:t,isPaused:n})}const T=await S(this,Lt).start();return await((u=(d=S(this,ke).config).onSuccess)==null?void 0:u.call(d,T,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,T,t,this.state.context)),await((g=(f=S(this,ke).config).onSettled)==null?void 0:g.call(f,T,null,this.state.variables,this.state.context,this)),await((h=(x=this.options).onSettled)==null?void 0:h.call(x,T,null,t,this.state.context)),G(this,Xe,mt).call(this,{type:"success",data:T}),T}catch(T){try{throw await((y=(v=S(this,ke).config).onError)==null?void 0:y.call(v,T,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,T,t,this.state.context)),await((N=(j=S(this,ke).config).onSettled)==null?void 0:N.call(j,void 0,T,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,T,t,this.state.context)),T}finally{G(this,Xe,mt).call(this,{type:"error",error:T})}}finally{S(this,ke).runNext(this)}}},Qe=new WeakMap,ke=new WeakMap,Lt=new WeakMap,Xe=new WeakSet,mt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),we.batch(()=>{S(this,Qe).forEach(n=>{n.onMutationUpdate(t)}),S(this,ke).notify({mutation:this,type:"updated",action:t})})},ya);function Sm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Me,Br,wa,jm=(wa=class extends Vr{constructor(t={}){super();U(this,Me);U(this,Br);this.config=t,L(this,Me,new Map),L(this,Br,Date.now())}build(t,r,n){const o=new wm({mutationCache:this,mutationId:++Qr(this,Br)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){const r=tn(t),n=S(this,Me).get(r)??[];n.push(t),S(this,Me).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=tn(t);if(S(this,Me).has(r)){const o=(n=S(this,Me).get(r))==null?void 0:n.filter(a=>a!==t);o&&(o.length===0?S(this,Me).delete(r):S(this,Me).set(r,o))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=S(this,Me).get(tn(t)))==null?void 0:n.find(o=>o.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=S(this,Me).get(tn(t)))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){we.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...S(this,Me).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Go(r,n))}findAll(t={}){return this.getAll().filter(r=>Go(t,r))}notify(t){we.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return we.batch(()=>Promise.all(t.map(r=>r.continue().catch(Be))))}},Me=new WeakMap,Br=new WeakMap,wa);function tn(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Xo(e){return{onFetch:(t,r)=>{var p,m,f,g,x;const n=t.options,o=(f=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:f.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],l=((x=t.state.data)==null?void 0:x.pageParams)||[];let i={pages:[],pageParams:[]},d=0;const u=async()=>{let h=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},y=rl(t.options,t.fetchOptions),b=async(w,j,N)=>{if(h)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const E={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};v(E);const C=await y(E),{maxPages:T}=t.options,k=N?hm:fm;return{pages:k(w.pages,C,T),pageParams:k(w.pageParams,j,T)}};if(o&&a.length){const w=o==="backward",j=w?Nm:Jo,N={pages:a,pageParams:l},E=j(n,N);i=await b(N,E,w)}else{const w=e??a.length;do{const j=d===0?l[0]??n.initialPageParam:Jo(n,i);if(d>0&&j==null)break;i=await b(i,j),d++}while(d<w)}return i};t.options.persister?t.fetchFn=()=>{var h,v;return(v=(h=t.options).persister)==null?void 0:v.call(h,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Jo(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Nm(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ve,bt,yt,or,ar,wt,ir,lr,Sa,Cm=(Sa=class{constructor(e={}){U(this,ve);U(this,bt);U(this,yt);U(this,or);U(this,ar);U(this,wt);U(this,ir);U(this,lr);L(this,ve,e.queryCache||new ym),L(this,bt,e.mutationCache||new jm),L(this,yt,e.defaultOptions||{}),L(this,or,new Map),L(this,ar,new Map),L(this,wt,0)}mount(){Qr(this,wt)._++,S(this,wt)===1&&(L(this,ir,io.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,ve).onFocus())})),L(this,lr,vn.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,ve).onOnline())})))}unmount(){var e,t;Qr(this,wt)._--,S(this,wt)===0&&((e=S(this,ir))==null||e.call(this),L(this,ir,void 0),(t=S(this,lr))==null||t.call(this),L(this,lr,void 0))}isFetching(e){return S(this,ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,bt).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,ve).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=S(this,ve).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Jt(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return S(this,ve).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=S(this,ve).get(n.queryHash),a=o==null?void 0:o.state.data,l=dm(t,a);if(l!==void 0)return S(this,ve).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return we.batch(()=>S(this,ve).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,ve).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=S(this,ve);we.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=S(this,ve),n={type:"active",...e};return we.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=we.batch(()=>S(this,ve).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(Be).catch(Be)}invalidateQueries(e={},t={}){return we.batch(()=>{if(S(this,ve).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=we.batch(()=>S(this,ve).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Be)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Be)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=S(this,ve).build(this,t);return r.isStaleByTime(Jt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Be).catch(Be)}fetchInfiniteQuery(e){return e.behavior=Xo(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Be).catch(Be)}ensureInfiniteQueryData(e){return e.behavior=Xo(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vn.isOnline()?S(this,bt).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,ve)}getMutationCache(){return S(this,bt)}getDefaultOptions(){return S(this,yt)}setDefaultOptions(e){L(this,yt,e)}setQueryDefaults(e,t){S(this,or).set(Lr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,or).values()];let r={};return t.forEach(n=>{Dr(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){S(this,ar).set(Lr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,ar).values()];let r={};return t.forEach(n=>{Dr(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,yt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oo(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ao&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,yt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,ve).clear(),S(this,bt).clear()}},ve=new WeakMap,bt=new WeakMap,yt=new WeakMap,or=new WeakMap,ar=new WeakMap,wt=new WeakMap,ir=new WeakMap,lr=new WeakMap,Sa),Te,Y,$r,Ee,Dt,cr,St,Je,Hr,dr,ur,Ft,Bt,jt,fr,oe,Er,Cs,ks,Es,Rs,Ts,Ps,As,ll,ja,km=(ja=class extends Vr{constructor(t,r){super();U(this,oe);U(this,Te);U(this,Y);U(this,$r);U(this,Ee);U(this,Dt);U(this,cr);U(this,St);U(this,Je);U(this,Hr);U(this,dr);U(this,ur);U(this,Ft);U(this,Bt);U(this,jt);U(this,fr,new Set);this.options=r,L(this,Te,t),L(this,Je,null),L(this,St,Ns()),this.options.experimental_prefetchInRender||S(this,St).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,Y).addObserver(this),Zo(S(this,Y),this.options)?G(this,oe,Er).call(this):this.updateResult(),G(this,oe,Rs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ms(S(this,Y),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ms(S(this,Y),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,oe,Ts).call(this),G(this,oe,Ps).call(this),S(this,Y).removeObserver(this)}setOptions(t,r){const n=this.options,o=S(this,Y);if(this.options=S(this,Te).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ue(this.options.enabled,S(this,Y))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,oe,As).call(this),S(this,Y).setOptions(this.options),n._defaulted&&!ws(this.options,n)&&S(this,Te).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,Y),observer:this});const a=this.hasListeners();a&&ea(S(this,Y),o,this.options,n)&&G(this,oe,Er).call(this),this.updateResult(r),a&&(S(this,Y)!==o||Ue(this.options.enabled,S(this,Y))!==Ue(n.enabled,S(this,Y))||Jt(this.options.staleTime,S(this,Y))!==Jt(n.staleTime,S(this,Y)))&&G(this,oe,Cs).call(this);const l=G(this,oe,ks).call(this);a&&(S(this,Y)!==o||Ue(this.options.enabled,S(this,Y))!==Ue(n.enabled,S(this,Y))||l!==S(this,jt))&&G(this,oe,Es).call(this,l)}getOptimisticResult(t){const r=S(this,Te).getQueryCache().build(S(this,Te),t),n=this.createResult(r,t);return Rm(this,n)&&(L(this,Ee,n),L(this,cr,this.options),L(this,Dt,S(this,Y).state)),n}getCurrentResult(){return S(this,Ee)}trackResult(t,r){const n={};return Object.keys(t).forEach(o=>{Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),r==null||r(o),t[o])})}),n}trackProp(t){S(this,fr).add(t)}getCurrentQuery(){return S(this,Y)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=S(this,Te).defaultQueryOptions(t),n=S(this,Te).getQueryCache().build(S(this,Te),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return G(this,oe,Er).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Ee)))}createResult(t,r){var T;const n=S(this,Y),o=this.options,a=S(this,Ee),l=S(this,Dt),i=S(this,cr),u=t!==n?t.state:S(this,$r),{state:p}=t;let m={...p},f=!1,g;if(r._optimisticResults){const k=this.hasListeners(),R=!k&&Zo(t,r),_=k&&ea(t,n,r,o);(R||_)&&(m={...m,...il(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:h,status:v}=m;if(r.select&&m.data!==void 0)if(a&&m.data===(l==null?void 0:l.data)&&r.select===S(this,Hr))g=S(this,dr);else try{L(this,Hr,r.select),g=r.select(m.data),g=js(a==null?void 0:a.data,g,r),L(this,dr,g),L(this,Je,null)}catch(k){L(this,Je,k)}else g=m.data;if(r.placeholderData!==void 0&&g===void 0&&v==="pending"){let k;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(i==null?void 0:i.placeholderData))k=a.data;else if(k=typeof r.placeholderData=="function"?r.placeholderData((T=S(this,ur))==null?void 0:T.state.data,S(this,ur)):r.placeholderData,r.select&&k!==void 0)try{k=r.select(k),L(this,Je,null)}catch(R){L(this,Je,R)}k!==void 0&&(v="success",g=js(a==null?void 0:a.data,k,r),f=!0)}S(this,Je)&&(x=S(this,Je),g=S(this,dr),h=Date.now(),v="error");const y=m.fetchStatus==="fetching",b=v==="pending",w=v==="error",j=b&&y,N=g!==void 0,C={status:v,fetchStatus:m.fetchStatus,isPending:b,isSuccess:v==="success",isError:w,isInitialLoading:j,isLoading:j,data:g,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:h,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:w&&!N,isPaused:m.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:lo(t,r),refetch:this.refetch,promise:S(this,St)};if(this.options.experimental_prefetchInRender){const k=M=>{C.status==="error"?M.reject(C.error):C.data!==void 0&&M.resolve(C.data)},R=()=>{const M=L(this,St,C.promise=Ns());k(M)},_=S(this,St);switch(_.status){case"pending":t.queryHash===n.queryHash&&k(_);break;case"fulfilled":(C.status==="error"||C.data!==_.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==_.reason)&&R();break}}return C}updateResult(t){const r=S(this,Ee),n=this.createResult(S(this,Y),this.options);if(L(this,Dt,S(this,Y).state),L(this,cr,this.options),S(this,Dt).data!==void 0&&L(this,ur,S(this,Y)),ws(n,r))return;L(this,Ee,n);const o={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:l}=this.options,i=typeof l=="function"?l():l;if(i==="all"||!i&&!S(this,fr).size)return!0;const d=new Set(i??S(this,fr));return this.options.throwOnError&&d.add("error"),Object.keys(S(this,Ee)).some(u=>{const p=u;return S(this,Ee)[p]!==r[p]&&d.has(p)})};(t==null?void 0:t.listeners)!==!1&&a()&&(o.listeners=!0),G(this,oe,ll).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,oe,Rs).call(this)}},Te=new WeakMap,Y=new WeakMap,$r=new WeakMap,Ee=new WeakMap,Dt=new WeakMap,cr=new WeakMap,St=new WeakMap,Je=new WeakMap,Hr=new WeakMap,dr=new WeakMap,ur=new WeakMap,Ft=new WeakMap,Bt=new WeakMap,jt=new WeakMap,fr=new WeakMap,oe=new WeakSet,Er=function(t){G(this,oe,As).call(this);let r=S(this,Y).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Be)),r},Cs=function(){G(this,oe,Ts).call(this);const t=Jt(this.options.staleTime,S(this,Y));if(Ht||S(this,Ee).isStale||!ys(t))return;const n=el(S(this,Ee).dataUpdatedAt,t)+1;L(this,Ft,setTimeout(()=>{S(this,Ee).isStale||this.updateResult()},n))},ks=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,Y)):this.options.refetchInterval)??!1},Es=function(t){G(this,oe,Ps).call(this),L(this,jt,t),!(Ht||Ue(this.options.enabled,S(this,Y))===!1||!ys(S(this,jt))||S(this,jt)===0)&&L(this,Bt,setInterval(()=>{(this.options.refetchIntervalInBackground||io.isFocused())&&G(this,oe,Er).call(this)},S(this,jt)))},Rs=function(){G(this,oe,Cs).call(this),G(this,oe,Es).call(this,G(this,oe,ks).call(this))},Ts=function(){S(this,Ft)&&(clearTimeout(S(this,Ft)),L(this,Ft,void 0))},Ps=function(){S(this,Bt)&&(clearInterval(S(this,Bt)),L(this,Bt,void 0))},As=function(){const t=S(this,Te).getQueryCache().build(S(this,Te),this.options);if(t===S(this,Y))return;const r=S(this,Y);L(this,Y,t),L(this,$r,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},ll=function(t){we.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(S(this,Ee))}),S(this,Te).getQueryCache().notify({query:S(this,Y),type:"observerResultsUpdated"})})},ja);function Em(e,t){return Ue(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Zo(e,t){return Em(e,t)||e.state.data!==void 0&&Ms(e,t,t.refetchOnMount)}function Ms(e,t,r){if(Ue(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&lo(e,t)}return!1}function ea(e,t,r,n){return(e!==t||Ue(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&lo(e,r)}function lo(e,t){return Ue(t.enabled,e)!==!1&&e.isStaleByTime(Jt(t.staleTime,e))}function Rm(e,t){return!ws(e.getCurrentResult(),t)}var cl=c.createContext(void 0),co=e=>{const t=c.useContext(cl);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Tm=({client:e,children:t})=>(c.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(cl.Provider,{value:e,children:t})),dl=c.createContext(!1),Pm=()=>c.useContext(dl);dl.Provider;function Am(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mm=c.createContext(Am()),Om=()=>c.useContext(Mm);function Im(e,t){return typeof e=="function"?e(...t):!!e}function _m(){}var Lm=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Dm=e=>{c.useEffect(()=>{e.clearReset()},[e])},Fm=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&Im(r,[e.error,n]),Bm=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$m=(e,t)=>e.isLoading&&e.isFetching&&!t,Hm=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ta=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Wm(e,t,r){var p,m,f,g,x;const n=co(),o=Pm(),a=Om(),l=n.defaultQueryOptions(e);(m=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,l),l._optimisticResults=o?"isRestoring":"optimistic",Bm(l),Lm(l,a),Dm(a);const i=!n.getQueryCache().get(l.queryHash),[d]=c.useState(()=>new t(n,l)),u=d.getOptimisticResult(l);if(c.useSyncExternalStore(c.useCallback(h=>{const v=o?()=>{}:d.subscribe(we.batchCalls(h));return d.updateResult(),v},[d,o]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),c.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),Hm(l,u))throw ta(l,d,a);if(Fm({result:u,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw u.error;if((g=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,l,u),l.experimental_prefetchInRender&&!Ht&&$m(u,o)){const h=i?ta(l,d,a):(x=n.getQueryCache().get(l.queryHash))==null?void 0:x.promise;h==null||h.catch(_m).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?u:d.trackResult(u)}function Wt(e,t){return Wm(e,km)}const Um={apiKey:"AIzaSyAizi-kY4VH5VfqbYyrg9FwLt5TGbrX_RI",authDomain:"books-794a8.firebaseapp.com",projectId:"books-794a8",storageBucket:"books-794a8.appspot.com",messagingSenderId:"28303860806",appId:"1:28303860806:web:df2ddcd86f08c7a4145647",measurementId:"G-LBNGSGFXGR"},uo=Xc(Um),ae=Jc(uo),Ve=Zc(uo);ed(uo);td(Ve,rd).catch(e=>{console.error("Error setting auth persistence:",e)});const fe={BOOKS:"books",WANTED_BOOKS:"wanted_books",CHATS:"chats",MESSAGES:"messages",PROFILES:"profiles"},zm=async e=>{var t;try{const r=Ve.currentUser;if(!r)throw new Error("User not authenticated");const n={...e,owner:{id:r.uid,name:r.displayName||"Anonymous",neighborhood:((t=r.profile)==null?void 0:t.defaultNeighborhood)||e.neighborhood||"Unknown"},book_type:"have",created_at:tt(),updated_at:tt()};return{id:(await Wr(je(ae,fe.BOOKS),n)).id,...n}}catch(r){throw console.error("Error adding book:",r),r}},Km=async e=>{try{const t=Ve.currentUser;if(!t)throw new Error("User not authenticated");const r={...e,user_id:t.uid,book_type:"want",created_at:tt(),updated_at:tt()};return{id:(await Wr(je(ae,fe.WANTED_BOOKS),r)).id,...r}}catch(t){throw console.error("Error adding wanted book:",t),t}},Vm=async e=>{try{const t=$e(ae,fe.BOOKS,e);return await Ea(t),{success:!0}}catch(t){throw console.error("Error deleting book:",t),t}},qm=async e=>{try{const t=$e(ae,fe.WANTED_BOOKS,e);return await Ea(t),{success:!0}}catch(t){throw console.error("Error deleting wanted book:",t),t}},ul=async e=>{try{const t=je(ae,fe.BOOKS),r=Ze(t,it("owner.id","==",e));return(await et(r)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){throw console.error("Error getting books by user:",t),t}},fl=async e=>{try{const t=je(ae,fe.WANTED_BOOKS),r=Ze(t,it("user_id","==",e));return(await et(r)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){throw console.error("Error getting wanted books by user:",t),t}},Gm=async(e,t)=>{try{return(await nd(Ve,e,t)).user}catch(r){throw console.error("Error signing in:",r),r}},Ym=async(e,t,r)=>{try{const n=await sd(Ve,e,t);return r&&n.user,n.user}catch(n){throw console.error("Error signing up:",n),n}},Qm=async()=>{try{const e=new od;return(await ad(Ve,e)).user}catch(e){throw console.error("Error signing in with Google:",e),e}},hl=async()=>{try{return await id(Ve),{success:!0}}catch(e){throw console.error("Error signing out:",e),e}},Xm=e=>Ca(Ve,e),Qn=()=>Ve.currentUser,Jm=async e=>{try{const t=je(ae,fe.CHATS),r=Ze(t,it("participants","array-contains",e),Ws("updated_at","desc"));return(await et(r)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){throw console.error("Error getting chats:",t),t}},Zm=async(e,t,r)=>{try{const n=Ve.currentUser;if(!n)throw new Error("User not authenticated");const o={chat_id:e,content:t,sender_id:r||n.uid,sender_name:n.displayName||"Anonymous",created_at:tt()},a=await Wr(je(ae,fe.MESSAGES),o),l=$e(ae,fe.CHATS,e);return await ka(l,{updated_at:tt(),last_message:t}),{id:a.id,...o}}catch(n){throw console.error("Error sending message:",n),n}},ml=c.createContext({user:null});function ep({children:e}){const[t,r]=c.useState(null);return c.useEffect(()=>{const n=Xm(o=>{r(o)});return()=>n()},[]),s.jsx(ml.Provider,{value:{user:t},children:e})}const jr=()=>c.useContext(ml),tp=Gs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=c.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const l=n?mr:"button";return s.jsx(l,{className:J(tp({variant:t,size:r,className:e})),ref:a,...o})});Z.displayName="Button";function rp(){const{user:e}=jr(),t=br(),r=async()=>{try{await hl(),t("/")}catch{ce.error("Error signing out")}};return s.jsx("header",{className:"bg-white border-b border-border sticky top-0 z-50",children:s.jsxs("div",{className:"container max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fs,{className:"h-6 w-6 text-bookswap-darkblue"}),s.jsx(ne,{to:"/",className:"font-playfair font-bold text-xl md:text-2xl text-bookswap-darkblue",children:"English Book Swap Jerusalem"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Z,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(ne,{to:"/profile",children:s.jsx(fi,{className:"h-4 w-4"})})}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(ci,{className:"h-4 w-4"})})]}):s.jsx(Z,{variant:"default",asChild:!0,children:s.jsx(ne,{to:"/auth",children:"Sign In"})})})]})})}function np(){return s.jsxs("div",{className:"bg-muted rounded-md p-4 flex items-start space-x-3",children:[s.jsx(xu,{className:"h-5 w-5 text-bookswap-darkblue shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium mb-1",children:"Safety First"}),s.jsx("p",{children:"Book Swap Jerusalem is a goodwill-based platform. When meeting to exchange books, please take common safety precautions: meet in public places during daylight hours, tell someone where you're going, and trust your instincts. We recommend initial meetings at cafés, libraries, or other public venues."})]})]})}function sp(){return s.jsx("footer",{className:"bg-white border-t border-border mt-auto",children:s.jsxs("div",{className:"container max-w-7xl mx-auto px-4 py-8",children:[s.jsx(np,{}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-8 pt-6 border-t border-border",children:[s.jsx("div",{className:"mb-4 md:mb-0",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," English Book Swap Jerusalem"]})}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ne,{to:"/about",className:"text-sm text-muted-foreground hover:underline",children:"About"}),s.jsx(ne,{to:"/faq",className:"text-sm text-muted-foreground hover:underline",children:"FAQ"}),s.jsx(ne,{to:"/contact",className:"text-sm text-muted-foreground hover:underline",children:"Contact"}),s.jsx(ne,{to:"/terms",className:"text-sm text-muted-foreground hover:underline",children:"Terms"}),s.jsx(ne,{to:"/privacy",className:"text-sm text-muted-foreground hover:underline",children:"Privacy"})]})]})]})})}function op(){const e=yn(),{user:t}=jr(),r=br(),n=async()=>{try{await hl(),r("/"),ce.success("Logged out successfully")}catch{ce.error("Error signing out")}},o=a=>e.pathname===a;return t?s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-border z-50",children:s.jsxs("div",{className:"flex justify-around items-center h-16 px-2",children:[s.jsxs(ne,{to:"/",className:J("flex flex-col items-center justify-center w-full h-full text-xs",o("/")?"text-primary":"text-muted-foreground"),children:[s.jsx(yu,{className:"h-5 w-5 mb-1"}),s.jsx("span",{children:"Home"})]}),s.jsxs(ne,{to:"/books",className:J("flex flex-col items-center justify-center w-full h-full text-xs",o("/books")?"text-primary":"text-muted-foreground"),children:[s.jsx(Mr,{className:"h-5 w-5 mb-1"}),s.jsx("span",{children:"Browse"})]}),s.jsxs(ne,{to:"/my-books",className:J("flex flex-col items-center justify-center w-full h-full text-xs",o("/my-books")?"text-primary":"text-muted-foreground"),children:[s.jsx(pu,{className:"h-5 w-5 mb-1"}),s.jsx("span",{children:"My Books"})]}),s.jsxs(ne,{to:"/matches",className:J("flex flex-col items-center justify-center w-full h-full text-xs",o("/matches")?"text-primary":"text-muted-foreground"),children:[s.jsx(hi,{className:"h-5 w-5 mb-1"}),s.jsx("span",{children:"Matches"})]}),s.jsxs(ne,{to:"/chat",className:J("flex flex-col items-center justify-center w-full h-full text-xs",o("/chat")?"text-primary":"text-muted-foreground"),children:[s.jsx(ui,{className:"h-5 w-5 mb-1"}),s.jsx("span",{children:"Messages"})]}),s.jsxs(ne,{to:"/profile",className:J("flex flex-col items-center justify-center w-full h-full text-xs",o("/profile")?"text-primary":"text-muted-foreground"),children:[s.jsx(fi,{className:"h-5 w-5 mb-1"}),s.jsx("span",{children:"Profile"})]}),s.jsxs("button",{onClick:n,className:"flex flex-col items-center justify-center w-full h-full text-xs text-muted-foreground",children:[s.jsx(ci,{className:"h-5 w-5 mb-1"}),s.jsx("span",{children:"Logout"})]})]})}):null}const Xn=768;function ap(){const[e,t]=c.useState(void 0);return c.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Xn-1}px)`),n=()=>{t(window.innerWidth<Xn)};return r.addEventListener("change",n),t(window.innerWidth<Xn),()=>r.removeEventListener("change",n)},[]),!!e}function be({children:e,hideHeader:t}){ap();const n=yn().pathname==="/my-books",o=t||n;return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[!o&&s.jsx(rp,{}),s.jsx("main",{className:"flex-grow pb-16",children:e}),s.jsx(sp,{}),s.jsx(op,{})]})}const pl="AIzaSyDSGm97K_kt3evfXe3klrPtNF1Q4vrW_2Y",gl="https://www.googleapis.com/books/v1",ip=async e=>{try{const t=await fetch(`${gl}/volumes?q=${encodeURIComponent(e)}&key=${pl}&maxResults=10`);if(!t.ok)throw new Error("Failed to fetch books");const r=await t.json();return console.log("API Response:",r),r.items||[]}catch(t){throw console.error("Error searching books:",t),t}},lp=async e=>{try{const t=await fetch(`${gl}/volumes/${e}?key=${pl}`);if(!t.ok)throw new Error("Failed to fetch book details");return await t.json()}catch(t){throw console.error("Error fetching book details:",t),t}},fo=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));fo.displayName="Card";const cp=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));cp.displayName="CardHeader";const dp=c.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));dp.displayName="CardTitle";const up=c.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));up.displayName="CardDescription";const ho=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));ho.displayName="CardContent";const xl=c.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));xl.displayName="CardFooter";const fp=async(e,t,r)=>{try{const n=je(ae,"chats"),o=Ze(n,it("participants","array-contains",e)),a=await et(o);let l=null;if(a.forEach(p=>{p.data().participants.includes(t)&&(l=p.id)}),l)return l;let i="";if(r){const p=await hr($e(ae,fe.BOOKS,r));p.exists()&&(i=p.data().title)}const d={participants:[e,t],created_at:tt(),updated_at:tt(),book_id:r,book_title:i};return(await Wr(je(ae,"chats"),d)).id}catch(n){throw console.error("Error creating or getting chat:",n),n}},vl=()=>{const[e,t]=c.useState(null),[r,n]=c.useState(null),[o,a]=c.useState(!0);return c.useEffect(()=>{const l=Ca(Ve,async i=>{if(t(i),i)try{const d=await hr($e(ae,fe.PROFILES,i.uid));d.exists()?n(d.data()):n(null)}catch(d){console.error("Error fetching user profile:",d),n(null)}else n(null);a(!1)});return()=>l()},[]),{user:e,profile:r,loading:o}};function Os({book:e,onRequestSwap:t,isLoadingSwap:r=!1}){var m;const n=br(),{user:o}=vl(),[a,l]=c.useState(!1),{data:i}=Wt({queryKey:["book",e.google_books_id],queryFn:()=>e.google_books_id?lp(e.google_books_id):null,enabled:!!e.google_books_id}),d=(m=i==null?void 0:i.volumeInfo.imageLinks)==null?void 0:m.thumbnail,u=async()=>{if(!o){_e({title:"Authentication required",description:"Please log in to send a message.",variant:"destructive"});return}if(!e.owner.id){_e({title:"Error",description:"Cannot message this book owner.",variant:"destructive"});return}if(o.uid===e.owner.id){_e({title:"Cannot message yourself",description:"You cannot send a message to yourself.",variant:"destructive"});return}l(!0);try{const f=await fp(o.uid,e.owner.id,e.id);n(`/chat/${f}`)}catch(f){console.error("Error creating chat:",f),_e({title:"Error",description:"Failed to start conversation. Please try again.",variant:"destructive"})}finally{l(!1)}},p=()=>{e.owner.id&&t(e.id,e.owner.id)};return s.jsxs(fo,{className:"h-full flex flex-col",children:[d?s.jsx("div",{className:"w-full h-48 bg-cover bg-center rounded-t-lg",style:{backgroundImage:`url(${d})`}}):s.jsxs("div",{className:"w-full h-48 p-4 flex flex-col justify-center items-center text-center rounded-t-lg",style:{backgroundColor:e.coverColor},children:[s.jsx("h3",{className:"font-bold text-white",children:e.title}),s.jsx("p",{className:"text-sm text-white/80",children:e.author})]}),s.jsxs(ho,{className:"flex-grow p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-1",children:e.title}),s.jsx("p",{className:"text-sm font-medium mb-2",children:e.author}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Condition: ",e.condition]}),s.jsx("p",{className:"text-xs line-clamp-3 mb-3",children:e.description}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Available in: ",e.owner.neighborhood]})]}),s.jsxs(xl,{className:"p-4 pt-0 flex gap-2",children:[s.jsx(Z,{variant:"default",className:"flex-1",onClick:p,disabled:r||!e.owner.id,children:r?s.jsxs(s.Fragment,{children:[s.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}),"Requesting..."]}):"Request Swap"}),s.jsx(Z,{variant:"outline",className:"flex items-center justify-center",onClick:u,disabled:a||!e.owner.id,title:"Message the book owner",children:a?s.jsx(hn,{className:"h-4 w-4 animate-spin"}):s.jsx(di,{size:18})})]})]})}const hp=async(e,t,r,n,o)=>{try{const a=await hr($e(ae,fe.BOOKS,r));if(!a.exists())throw new Error("Book not found");const l=a.data(),i=await hr($e(ae,fe.PROFILES,n));if(!i.exists())throw new Error("Owner not found");const d=i.data(),u={requester_id:e,requester_name:t,book_id:r,book_title:l.title,book_author:l.author,owner_id:n,owner_name:d.display_name||d.username||"Unknown User",status:"pending",created_at:tt(),updated_at:tt(),message:o||""};return(await Wr(je(ae,"swap_requests"),u)).id}catch(a){throw console.error("Error creating swap request:",a),a}};function bl({books:e,emptyMessage:t="No books found"}){const{user:r,profile:n}=vl(),[o,a]=c.useState(new Set),l=async(i,d)=>{if(!r||!n){_e({title:"Authentication required",description:"Please log in to request a book swap.",variant:"destructive"});return}if(r.uid===d){_e({title:"Cannot request swap",description:"You cannot request a swap for your own book.",variant:"destructive"});return}a(u=>new Set(u).add(i));try{await hp(r.uid,n.display_name||n.username||"Unknown User",i,d),_e({title:"Swap requested",description:"We'll notify you when the owner responds."})}catch(u){console.error("Error requesting swap:",u),_e({title:"Error",description:"Failed to send swap request. Please try again.",variant:"destructive"})}finally{a(u=>{const p=new Set(u);return p.delete(i),p})}};return e.length===0?s.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:t})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:e.map(i=>s.jsx(Os,{book:i,onRequestSwap:l,isLoadingSwap:o.has(i.id)},i.id))})}function mp(){return s.jsx("div",{className:"bg-white py-12 md:py-16 border-y border-border",children:s.jsxs("div",{className:"page-container",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3",children:"How to Use English Book Swap Jerusalem"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our platform makes it easy to share and discover English books in Jerusalem. Follow these simple steps to get started."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:s.jsx(Su,{className:"w-6 h-6 text-bookswap-darkblue"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"1. Create an Account"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"Sign up using your email or Google account. This allows you to add books, message other users, and keep track of your swaps."}),s.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(ne,{to:"/auth",children:"Sign Up Now"})})]})]}),s.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:s.jsx(Mr,{className:"w-6 h-6 text-bookswap-darkblue"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"2. Add Books You Have"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"List books you're willing to swap. Search by title or author, select the condition, and add your neighborhood for local matching."}),s.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(ne,{to:"/add",children:"Add Your Books"})})]})]}),s.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:s.jsx(ii,{className:"w-6 h-6 text-bookswap-darkblue"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"3. Add Books You Want"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"Create your wishlist by adding books you're looking for. This helps our system find perfect matches with other users."}),s.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(ne,{to:"/add?type=want",children:"Add Wanted Books"})})]})]}),s.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:s.jsx(pr,{className:"w-6 h-6 text-bookswap-darkblue"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"4. Browse Available Books"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"Explore books that other users have added. Filter by neighborhood to find books close to you for easier meetups."}),s.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(ne,{to:"/books",children:"Browse Books"})})]})]}),s.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:s.jsx(hi,{className:"w-6 h-6 text-bookswap-darkblue"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"5. Find Your Matches"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"Our system automatically finds users who have books you want or want books you have. Check your matches regularly for new swap opportunities."}),s.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(ne,{to:"/matches",children:"View Matches"})})]})]}),s.jsxs("div",{className:"flex gap-4 p-6 border rounded-lg bg-muted/10 hover:bg-muted/20 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-bookswap-blue flex items-center justify-center",children:s.jsx(ui,{className:"w-6 h-6 text-bookswap-darkblue"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"6. Message & Arrange Meetup"}),s.jsx("p",{className:"text-muted-foreground mb-3",children:"Contact your matches through our messaging system. Discuss the books and arrange a convenient time and place to meet."}),s.jsx(Z,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(ne,{to:"/chat",children:"Messages"})})]})]})]}),s.jsxs("div",{className:"mt-10 p-6 border rounded-lg bg-bookswap-stone/20 text-center",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Safety Tips for Book Swaps"}),s.jsxs("ul",{className:"text-muted-foreground max-w-2xl mx-auto text-left space-y-2 mb-4",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(Kn,{className:"w-5 h-5 mr-2 mt-0.5 text-bookswap-darkblue"}),s.jsx("span",{children:"Meet in public places like cafés or libraries"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Kn,{className:"w-5 h-5 mr-2 mt-0.5 text-bookswap-darkblue"}),s.jsx("span",{children:"Consider daytime meetups for better visibility"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Kn,{className:"w-5 h-5 mr-2 mt-0.5 text-bookswap-darkblue"}),s.jsx("span",{children:"Let someone know where you're going for your book swap"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Remember: English Book Swap Jerusalem is based on community trust and goodwill. There are no financial transactions or point systems."})]})]})})}const pp=()=>{const[e,t]=c.useState(null),{data:r=[],isLoading:n,error:o}=Wt({queryKey:["featuredBooks"],queryFn:async()=>{try{const a=je(ae,fe.BOOKS),l=Ze(a,Ws("created_at","desc"),ld(5)),i=await et(l);return i.empty?[]:i.docs.map(d=>{const u=d.data();return{id:d.id,title:u.title,author:u.author,coverColor:u.cover_color||"#436B95",description:u.description||"",condition:u.condition,owner:u.owner}})}catch(a){throw console.error("Error fetching books:",a),a instanceof Error&&(a.message.includes("permission")?t("Unable to access book data. Please try again later."):t("Something went wrong. Please try again later.")),a}},retry:2,retryDelay:1e3});return r.length===0&&!n&&!o?s.jsxs(be,{children:[s.jsx("div",{className:"bg-bookswap-blue py-16 md:py-24",children:s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"Welcome to English Book Swap Jerusalem"}),s.jsx("p",{className:"text-lg md:text-xl mb-8",children:"Be the first to add books to our community! No books have been added yet."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Z,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsx(ne,{to:"/add",children:"Add Your First Book"})}),s.jsx(Z,{asChild:!0,size:"lg",variant:"outline",children:s.jsx(ne,{to:"/auth",children:"Sign In"})})]})]})})}),s.jsx("div",{className:"bg-white py-12 md:py-16 border-y border-border",children:s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:s.jsx(fs,{className:"w-8 h-8 text-bookswap-darkblue"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"List Your Books"}),s.jsx("p",{className:"text-muted-foreground",children:"Share the books you've enjoyed and are ready to pass on to another reader in Jerusalem."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[s.jsx("path",{d:"M16 3h5v5"}),s.jsx("path",{d:"M8 3H3v5"}),s.jsx("path",{d:"M21 13v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5"}),s.jsx("path",{d:"m21 8-5-5-5 5"}),s.jsx("path",{d:"m3 16 5 5 5-5"})]})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Find Matches"}),s.jsx("p",{className:"text-muted-foreground",children:"Our system matches you with local readers who have books you want or want books you have."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[s.jsx("path",{d:"M17 6.1H3"}),s.jsx("path",{d:"M21 12.1H3"}),s.jsx("path",{d:"M15.1 18H3"})]})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Meet & Swap"}),s.jsx("p",{className:"text-muted-foreground",children:"Arrange to meet at a convenient location in your neighborhood and exchange books."})]})]})})})]}):n?s.jsx(be,{children:s.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue mx-auto mb-4"}),s.jsx("p",{className:"text-lg",children:"Loading featured books..."})]})})}):o?s.jsx(be,{children:s.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-red-50 border border-red-100 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:e||"Error loading featured books"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"We're having trouble connecting to our database. This could be due to:"}),s.jsxs("ul",{className:"text-left text-gray-600 mb-4 space-y-1",children:[s.jsx("li",{children:"• Temporary connection issues"}),s.jsx("li",{children:"• Database maintenance"}),s.jsx("li",{children:"• Security configuration updates"})]}),s.jsx(Z,{onClick:()=>window.location.reload(),className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:"Try Again"})]})})}):s.jsxs(be,{children:[s.jsx("div",{className:"bg-bookswap-blue py-16 md:py-24",children:s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:"Share the Joy of Reading in Jerusalem"}),s.jsx("p",{className:"text-lg md:text-xl mb-8",children:"Connect with fellow book lovers and swap English books locally. No money, no points—just a community sharing stories."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Z,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsx(ne,{to:"/books",children:"Browse Available Books"})}),s.jsx(Z,{asChild:!0,size:"lg",variant:"outline",children:s.jsx(ne,{to:"/add",children:"Share Your Books"})})]})]})})}),s.jsxs("div",{className:"page-container py-12 md:py-16",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Recently Added Books"}),s.jsxs(ne,{to:"/books",className:"flex items-center text-bookswap-darkblue hover:underline",children:[s.jsx("span",{children:"View all"}),s.jsx(ai,{className:"ml-1 w-4 h-4"})]})]}),s.jsx(bl,{books:r})]}),s.jsx(mp,{}),s.jsx("div",{className:"bg-white py-12 md:py-16 border-y border-border",children:s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:s.jsx(fs,{className:"w-8 h-8 text-bookswap-darkblue"})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"List Your Books"}),s.jsx("p",{className:"text-muted-foreground",children:"Share the books you've enjoyed and are ready to pass on to another reader in Jerusalem."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[s.jsx("path",{d:"M16 3h5v5"}),s.jsx("path",{d:"M8 3H3v5"}),s.jsx("path",{d:"M21 13v5a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5"}),s.jsx("path",{d:"m21 8-5-5-5 5"}),s.jsx("path",{d:"m3 16 5 5 5-5"})]})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Find Matches"}),s.jsx("p",{className:"text-muted-foreground",children:"Our system matches you with local readers who have books you want or want books you have."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center p-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-bookswap-blue flex items-center justify-center mb-4",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-bookswap-darkblue",children:[s.jsx("path",{d:"M17 6.1H3"}),s.jsx("path",{d:"M21 12.1H3"}),s.jsx("path",{d:"M15.1 18H3"})]})}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Meet & Swap"}),s.jsx("p",{className:"text-muted-foreground",children:"Arrange to meet at a convenient location in your neighborhood and exchange books."})]})]})})}),s.jsx("div",{className:"page-container py-12 md:py-16",children:s.jsxs("div",{className:"bg-bookswap-stone/20 border border-bookswap-stone/30 rounded-lg p-8 text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Join Our Growing Community"}),s.jsx("p",{className:"text-lg mb-6 max-w-2xl mx-auto",children:"Help us maximize the circulation of English books throughout Jerusalem. Every book deserves new readers, and every reader deserves new books."}),s.jsx(Z,{asChild:!0,size:"lg",className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsx(ne,{to:"/books",children:"Start Swapping Now"})})]})})]})},Rt=c.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Rt.displayName="Input";var gp="Separator",ra="horizontal",xp=["horizontal","vertical"],yl=c.forwardRef((e,t)=>{const{decorative:r,orientation:n=ra,...o}=e,a=vp(n)?n:ra,i=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(X.div,{"data-orientation":a,...i,...o,ref:t})});yl.displayName=gp;function vp(e){return xp.includes(e)}var wl=yl;const Sl=c.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>s.jsx(wl,{ref:o,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Sl.displayName=wl.displayName;function bp(){const e=br(),[t,r]=c.useState(!1),[n,o]=c.useState(!1),[a,l]=c.useState(!0),[i,d]=c.useState(""),[u,p]=c.useState(""),m=async g=>{g.preventDefault(),r(!0);try{a?(await Gm(i,u),e("/")):(await Ym(i,u),e("/my-books"),ce.success("Account created successfully!"))}catch(x){ce.error(x.message)}finally{r(!1)}},f=async()=>{o(!0);try{await Qm(),e("/")}catch(g){ce.error(g.message)}finally{o(!1)}};return s.jsx(be,{children:s.jsx("div",{className:"flex min-h-[calc(100vh-4rem)] items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:a?"Welcome back":"Create an account"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:a?"Sign in to your account":"Sign up for a new account"})]}),s.jsx(Z,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:f,disabled:n,children:n?"Signing in...":s.jsxs(s.Fragment,{children:[s.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("g",{transform:"matrix(1, 0, 0, 1, 0, 0)",children:s.jsx("path",{d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1Z",fill:"currentColor"})})}),"Continue with Google"]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx(Sl,{})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Rt,{type:"email",placeholder:"Email",value:i,onChange:g=>d(g.target.value),required:!0}),s.jsx(Rt,{type:"password",placeholder:"Password",value:u,onChange:g=>p(g.target.value),required:!0})]}),s.jsx(Z,{type:"submit",className:"w-full",disabled:t,children:t?"Loading...":a?"Sign In":"Sign Up"})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:()=>l(!a),className:"text-sm text-muted-foreground hover:underline",children:a?"Need an account? Sign up":"Already have an account? Sign in"})})]})})})}const Rr=["Abu Tor","American Colony","Armenian Quarter","Arnona","Arzei HaBira","Atarot","Bab az-Zahra","Bab Hutta","Baka","Batei Munkacs","Batei Neitin","Batei Saidoff","Batei Ungarin","Batei Warsaw","Bayit VeGan","Beit David","Beit HaKerem","Beit Hanina","Beit Orot","Beit Safafa","Beit Ya'akov","Beit Yisrael","Bezetha","Bukharan Quarter","Christian Quarter","City of David","East Jerusalem","East Talpiot","Ein Karem","Emek Refaim","Even Yisrael","Ezrat Torah","Ezrat Yisrael","French Hill","German Colony","Geula","Gilo","Givat Beit HaKerem","Givat HaMatos","Givat HaMivtar","Givat Massuah","Givat Mordechai","Givat Moshe","Givat Oranim","Givat Ram","Givat Shaul","Greek Colony","Har Homa","Har Hotzvim","Har Nof","Hutzot HaYotzer","Ir Ganim","Jabel Mukaber","Jerusalem Gateway","Jerusalem Technology Park","Downtown Triangle","Jewish Quarter","Kafr 'Aqab","Katamon","Kerem Avraham","Kirya Ne'emana","Kiryat HaLeom","Kiryat HaMemshala","Kiryat HaYovel","Kiryat Itri","Kiryat Mattersdorf","Kiryat Menachem","Kiryat Menachem Begin","Kiryat Moshe","Kiryat Sanz","Kiryat Shmuel","Kiryat Shomrei Emunim","Kiryat Unsdorf","Kiryat Wolfson","Knesset Yisrael","Lifta","Ma'ale HaZeitim","Ma'alot Dafna","Mahane Israel","Mahane Yehuda","Malha","Mamilla","Mazkeret Moshe","Mea Shearim","Mekor Baruch","Mekor Chaim","Mishkenot Sha'ananim","Motza","Mughrabi Quarter","Muristan","Muslim Quarter","Musrara","Nachlaot","Nahalat Shimon","Nahalat Shiv'a","Nayot","Neve Granot","Neve Sha'anan","Neve Yaakov","Nof Zion","Ohel Shlomo","Old City","Mount of Olives","Pat","Pisgat Ze'ev","Al-Ram","Ramat Beit HaKerem","Ramat Denya","Ramat Eshkol","Ramat Rachel","Ramat Sharett","Ramat Shlomo","Ramot Polin","Ramot","Ras al-Amud","Ras Khamis","Rassco","Rehavia","Romema","Russian Compound","Sanhedria","Sanhedria Murhevet","Sha'arei Hesed","Sha'arei Yerushalayim","Sharafat","Sheikh Badr","Sheikh Jarrah","Shikun Chabad","Shimon HaTzadik","Shmuel HaNavi","Shuafat","Silwan","Sur Baher","Talbiya","Talpiot","Tel Arza","At-Tur","Umm Tuba","Wadi al-Joz","Wadi Hilweh","Al-Walaja","Yefeh Nof","Yemin Moshe","Zikhron Moshe","Zikhron Tuvya","Zikhron Yosef","Mount Zion"];function yp({selectedNeighborhoods:e,onChange:t}){const[r,n]=c.useState(!1),o=i=>{e.includes(i)?t(e.filter(d=>d!==i)):t([...e,i])},a=()=>{e.length===Rr.length?t([]):t([...Rr])},l=e.length===Rr.length;return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center justify-between w-full px-4 py-2 text-sm border border-border rounded-md bg-white",children:[s.jsx("span",{children:e.length===0?"All Neighborhoods":`${e.length} selected`}),s.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-border rounded-md shadow-lg max-h-60 overflow-y-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer border-b border-border mb-1",onClick:a,children:[s.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:l&&s.jsx(Or,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{className:"text-sm font-medium",children:"Select All"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:Rr.map(i=>s.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer",onClick:()=>o(i),children:[s.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:e.includes(i)&&s.jsx(Or,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{className:"text-sm",children:i})]},i))})]})})]})}function wp({selectedGenres:e,onChange:t,availableGenres:r}){const[n,o]=c.useState(!1),[a,l]=c.useState(""),i=c.useRef(null);c.useEffect(()=>{n&&i.current&&i.current.focus()},[n]);const d=f=>{e.includes(f)?t(e.filter(g=>g!==f)):t([...e,f])},u=()=>{e.length===r.length?t([]):t([...r])},p=a.trim()===""?r:r.filter(f=>f.toLowerCase().includes(a.toLowerCase())),m=e.length===r.length;return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>o(!n),className:"flex items-center justify-between w-full px-4 py-2 text-sm border border-border rounded-md bg-white",children:[s.jsx("span",{children:e.length===0?"All Genres":`${e.length} selected`}),s.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-border rounded-md shadow-lg max-h-60 overflow-y-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"mb-2 relative",children:[s.jsx(pr,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Rt,{ref:i,value:a,onChange:f=>l(f.target.value),placeholder:"Search genres...",className:"pl-8 py-1 h-8 text-sm",onClick:f=>f.stopPropagation()}),a&&s.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-muted-foreground",onClick:f=>{var g;f.stopPropagation(),l(""),(g=i.current)==null||g.focus()},children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer border-b border-border mb-1",onClick:u,children:[s.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:m&&s.jsx(Or,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{className:"text-sm font-medium",children:"Select All"})]}),p.length===0?s.jsx("div",{className:"py-2 px-2 text-sm text-muted-foreground text-center",children:"No genres match your search"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:p.map(f=>s.jsxs("div",{className:"flex items-center px-2 py-1 rounded-sm hover:bg-muted cursor-pointer",onClick:()=>d(f),children:[s.jsx("div",{className:"w-4 h-4 mr-2 border border-border rounded-sm flex items-center justify-center",children:e.includes(f)&&s.jsx(Or,{className:"w-3 h-3 text-primary"})}),s.jsx("span",{className:"text-sm",children:f})]},f))})]})})]})}const Sp=()=>{const[e,t]=c.useState(""),[r,n]=c.useState([]),[o,a]=c.useState(!1),[l,i]=c.useState([]),[d,u]=c.useState([]),[p,m]=c.useState([]),{data:f=[],isLoading:g,error:x}=Wt({queryKey:["allBooks"],queryFn:async()=>{const b=je(ae,fe.BOOKS),j=(await et(b)).docs.map(E=>{const C=E.data();return{id:E.id,title:C.title,author:C.author,coverColor:C.cover_color,description:C.description||"",condition:C.condition,owner:C.owner,google_books_id:C.google_books_id,genres:C.genres||[]}}),N=new Set;return j.forEach(E=>{E.genres&&E.genres.length>0&&E.genres.forEach(C=>N.add(C))}),m(Array.from(N).sort()),j}}),h=c.useMemo(()=>{let b=f;if(e){const w=e.toLowerCase();b=b.filter(j=>j.title.toLowerCase().includes(w)||j.author.toLowerCase().includes(w)||j.description&&j.description.toLowerCase().includes(w))}return l.length>0&&(b=b.filter(w=>l.includes(w.owner.neighborhood))),d.length>0&&(b=b.filter(w=>w.genres&&w.genres.some(j=>d.includes(j)))),b},[f,e,l,d]);c.useEffect(()=>{if(e.trim().length>1){const b=e.toLowerCase(),w=f.filter(j=>j.title.toLowerCase().includes(b)||j.author.toLowerCase().includes(b)).slice(0,5);n(w),a(w.length>0)}else n([]),a(!1)},[e,f]);const v=b=>{t(b.target.value)},y=b=>{t(b.title),a(!1)};return g?s.jsx(be,{children:s.jsx("div",{className:"page-container",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("p",{className:"text-lg",children:"Loading books..."})})})}):x?s.jsx(be,{children:s.jsx("div",{className:"page-container",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg text-red-600 font-medium mb-2",children:"Error loading books"}),s.jsx("p",{className:"text-muted-foreground",children:x.message||"Please try again later or contact support"})]})})})}):s.jsx(be,{children:s.jsxs("div",{className:"page-container",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 md:mb-0",children:"Browse Available Books"}),s.jsx(Z,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsx(ne,{to:"/add",children:"Add Your Book"})})]}),s.jsx("div",{className:"bg-white border border-border rounded-lg p-6 mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"col-span-1 md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(Rt,{placeholder:"Search by title, author, or description...",value:e,onChange:v,className:"pl-10"}),o&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-border rounded-md shadow-lg max-h-80 overflow-y-auto",children:s.jsx("div",{className:"p-2",children:r.map(b=>s.jsxs("div",{className:"p-3 hover:bg-gray-50 cursor-pointer flex items-start gap-3 border-b border-border last:border-0",onClick:()=>y(b),children:[s.jsx("div",{className:"w-10 h-14 flex-shrink-0 rounded",style:{backgroundColor:b.coverColor||"#436B95"}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-sm",children:b.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",b.author]}),b.condition&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Condition: ",b.condition]})]})]},b.id))})})]})}),s.jsx("div",{className:"col-span-1",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx("div",{children:s.jsx(wp,{selectedGenres:d,onChange:u,availableGenres:p})}),s.jsx("div",{children:s.jsx(yp,{selectedNeighborhoods:l,onChange:i})})]})})]})}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",h.length," books"]})}),s.jsx(bl,{books:h,emptyMessage:"No books match your search criteria. Try adjusting your filters or add your own books to share!"})]})})};var jp="Label",jl=c.forwardRef((e,t)=>s.jsx(X.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));jl.displayName=jp;var Nl=jl;const Np=Gs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mt=c.forwardRef(({className:e,...t},r)=>s.jsx(Nl,{ref:r,className:J(Np(),e),...t}));Mt.displayName=Nl.displayName;function na(e,[t,r]){return Math.min(r,Math.max(t,e))}var Cp=c.createContext(void 0);function mo(e){const t=c.useContext(Cp);return e||t||"ltr"}var Jn=0;function kp(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sa()),document.body.insertAdjacentElement("beforeend",e[1]??sa()),Jn++,()=>{Jn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jn--}},[])}function sa(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zn="focusScope.autoFocusOnMount",es="focusScope.autoFocusOnUnmount",oa={bubbles:!1,cancelable:!0},Ep="FocusScope",Cl=c.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=e,[i,d]=c.useState(null),u=Pe(o),p=Pe(a),m=c.useRef(null),f=he(t,h=>d(h)),g=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(n){let h=function(w){if(g.paused||!i)return;const j=w.target;i.contains(j)?m.current=j:pt(m.current,{select:!0})},v=function(w){if(g.paused||!i)return;const j=w.relatedTarget;j!==null&&(i.contains(j)||pt(m.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&pt(i)};document.addEventListener("focusin",h),document.addEventListener("focusout",v);const b=new MutationObserver(y);return i&&b.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",v),b.disconnect()}}},[n,i,g.paused]),c.useEffect(()=>{if(i){ia.add(g);const h=document.activeElement;if(!i.contains(h)){const y=new CustomEvent(Zn,oa);i.addEventListener(Zn,u),i.dispatchEvent(y),y.defaultPrevented||(Rp(Op(kl(i)),{select:!0}),document.activeElement===h&&pt(i))}return()=>{i.removeEventListener(Zn,u),setTimeout(()=>{const y=new CustomEvent(es,oa);i.addEventListener(es,p),i.dispatchEvent(y),y.defaultPrevented||pt(h??document.body,{select:!0}),i.removeEventListener(es,p),ia.remove(g)},0)}}},[i,u,p,g]);const x=c.useCallback(h=>{if(!r&&!n||g.paused)return;const v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,y=document.activeElement;if(v&&y){const b=h.currentTarget,[w,j]=Tp(b);w&&j?!h.shiftKey&&y===j?(h.preventDefault(),r&&pt(w,{select:!0})):h.shiftKey&&y===w&&(h.preventDefault(),r&&pt(j,{select:!0})):y===b&&h.preventDefault()}},[r,n,g.paused]);return s.jsx(X.div,{tabIndex:-1,...l,ref:f,onKeyDown:x})});Cl.displayName=Ep;function Rp(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(pt(n,{select:t}),document.activeElement!==r)return}function Tp(e){const t=kl(e),r=aa(t,e),n=aa(t.reverse(),e);return[r,n]}function kl(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function aa(e,t){for(const r of e)if(!Pp(r,{upTo:t}))return r}function Pp(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ap(e){return e instanceof HTMLInputElement&&"select"in e}function pt(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ap(e)&&t&&e.select()}}var ia=Mp();function Mp(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=la(e,t),e.unshift(t)},remove(t){var r;e=la(e,t),(r=e[0])==null||r.resume()}}}function la(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Op(e){return e.filter(t=>t.tagName!=="A")}function El(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ip=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qt=new WeakMap,rn=new WeakMap,nn={},ts=0,Rl=function(e){return e&&(e.host||Rl(e.parentNode))},_p=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Rl(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Lp=function(e,t,r,n){var o=_p(t,Array.isArray(e)?e:[e]);nn[r]||(nn[r]=new WeakMap);var a=nn[r],l=[],i=new Set,d=new Set(o),u=function(m){!m||i.has(m)||(i.add(m),u(m.parentNode))};o.forEach(u);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(f){if(i.has(f))p(f);else try{var g=f.getAttribute(n),x=g!==null&&g!=="false",h=(qt.get(f)||0)+1,v=(a.get(f)||0)+1;qt.set(f,h),a.set(f,v),l.push(f),h===1&&x&&rn.set(f,!0),v===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return p(t),i.clear(),ts++,function(){l.forEach(function(m){var f=qt.get(m)-1,g=a.get(m)-1;qt.set(m,f),a.set(m,g),f||(rn.has(m)||m.removeAttribute(n),rn.delete(m)),g||m.removeAttribute(r)}),ts--,ts||(qt=new WeakMap,qt=new WeakMap,rn=new WeakMap,nn={})}},Dp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Ip(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),Lp(n,o,r,"aria-hidden")):function(){return null}},un="right-scroll-bar-position",fn="width-before-scroll-bar",Fp="with-scroll-bars-hidden",Bp="--removed-body-scroll-bar-size";function rs(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $p(e,t){var r=c.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var Hp=typeof window<"u"?c.useLayoutEffect:c.useEffect,ca=new WeakMap;function Wp(e,t){var r=$p(null,function(n){return e.forEach(function(o){return rs(o,n)})});return Hp(function(){var n=ca.get(r);if(n){var o=new Set(n),a=new Set(e),l=r.current;o.forEach(function(i){a.has(i)||rs(i,null)}),a.forEach(function(i){o.has(i)||rs(i,l)})}ca.set(r,e)},[e]),r}function Up(e){return e}function zp(e,t){t===void 0&&(t=Up);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var l=t(a,n);return r.push(l),function(){r=r.filter(function(i){return i!==l})}},assignSyncMedium:function(a){for(n=!0;r.length;){var l=r;r=[],l.forEach(a)}r={push:function(i){return a(i)},filter:function(){return r}}},assignMedium:function(a){n=!0;var l=[];if(r.length){var i=r;r=[],i.forEach(a),l=r}var d=function(){var p=l;l=[],p.forEach(a)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(p){l.push(p),u()},filter:function(p){return l=l.filter(p),r}}}};return o}function Kp(e){e===void 0&&(e={});var t=zp(null);return t.options=gt({async:!0,ssr:!1},e),t}var Tl=function(e){var t=e.sideCar,r=Ra(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return c.createElement(n,gt({},r))};Tl.isSideCarExport=!0;function Vp(e,t){return e.useMedium(t),Tl}var Pl=Kp(),ns=function(){},On=c.forwardRef(function(e,t){var r=c.useRef(null),n=c.useState({onScrollCapture:ns,onWheelCapture:ns,onTouchMoveCapture:ns}),o=n[0],a=n[1],l=e.forwardProps,i=e.children,d=e.className,u=e.removeScrollBar,p=e.enabled,m=e.shards,f=e.sideCar,g=e.noIsolation,x=e.inert,h=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,w=Ra(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=Wp([r,t]),E=gt(gt({},w),o);return c.createElement(c.Fragment,null,p&&c.createElement(j,{sideCar:Pl,removeScrollBar:u,shards:m,noIsolation:g,inert:x,setCallbacks:a,allowPinchZoom:!!h,lockRef:r,gapMode:b}),l?c.cloneElement(c.Children.only(i),gt(gt({},E),{ref:N})):c.createElement(y,gt({},E,{className:d,ref:N}),i))});On.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};On.classNames={fullWidth:fn,zeroRight:un};var qp=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gp(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qp();return t&&e.setAttribute("nonce",t),e}function Yp(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Qp(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Xp=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Gp())&&(Yp(t,r),Qp(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Jp=function(){var e=Xp();return function(t,r){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Al=function(){var e=Jp(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},Zp={left:0,top:0,right:0,gap:0},ss=function(e){return parseInt(e||"",10)||0},eg=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ss(r),ss(n),ss(o)]},tg=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Zp;var t=eg(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},rg=Al(),Zt="data-scroll-locked",ng=function(e,t,r,n){var o=e.left,a=e.top,l=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Fp,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat(Zt,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(un,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(fn,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(un," .").concat(un,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fn," .").concat(fn,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zt,`] {
    `).concat(Bp,": ").concat(i,`px;
  }
`)},da=function(){var e=parseInt(document.body.getAttribute(Zt)||"0",10);return isFinite(e)?e:0},sg=function(){c.useEffect(function(){return document.body.setAttribute(Zt,(da()+1).toString()),function(){var e=da()-1;e<=0?document.body.removeAttribute(Zt):document.body.setAttribute(Zt,e.toString())}},[])},og=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;sg();var a=c.useMemo(function(){return tg(o)},[o]);return c.createElement(rg,{styles:ng(a,!t,o,r?"":"!important")})},Is=!1;if(typeof window<"u")try{var sn=Object.defineProperty({},"passive",{get:function(){return Is=!0,!0}});window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Is=!1}var Gt=Is?{passive:!1}:!1,ag=function(e){return e.tagName==="TEXTAREA"},Ml=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ag(e)&&r[t]==="visible")},ig=function(e){return Ml(e,"overflowY")},lg=function(e){return Ml(e,"overflowX")},ua=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Ol(e,n);if(o){var a=Il(e,n),l=a[1],i=a[2];if(l>i)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},cg=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},dg=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Ol=function(e,t){return e==="v"?ig(t):lg(t)},Il=function(e,t){return e==="v"?cg(t):dg(t)},ug=function(e,t){return e==="h"&&t==="rtl"?-1:1},fg=function(e,t,r,n,o){var a=ug(e,window.getComputedStyle(t).direction),l=a*n,i=r.target,d=t.contains(i),u=!1,p=l>0,m=0,f=0;do{var g=Il(e,i),x=g[0],h=g[1],v=g[2],y=h-v-a*x;(x||y)&&Ol(e,i)&&(m+=y,f+=x),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!d&&i!==document.body||d&&(t.contains(i)||t===i));return(p&&(Math.abs(m)<1||!o)||!p&&(Math.abs(f)<1||!o))&&(u=!0),u},on=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fa=function(e){return[e.deltaX,e.deltaY]},ha=function(e){return e&&"current"in e?e.current:e},hg=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mg=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pg=0,Yt=[];function gg(e){var t=c.useRef([]),r=c.useRef([0,0]),n=c.useRef(),o=c.useState(pg++)[0],a=c.useState(Al)[0],l=c.useRef(e);c.useEffect(function(){l.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var h=cd([e.lockRef.current],(e.shards||[]).map(ha),!0).filter(Boolean);return h.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=c.useCallback(function(h,v){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!l.current.allowPinchZoom;var y=on(h),b=r.current,w="deltaX"in h?h.deltaX:b[0]-y[0],j="deltaY"in h?h.deltaY:b[1]-y[1],N,E=h.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in h&&C==="h"&&E.type==="range")return!1;var T=ua(C,E);if(!T)return!0;if(T?N=C:(N=C==="v"?"h":"v",T=ua(C,E)),!T)return!1;if(!n.current&&"changedTouches"in h&&(w||j)&&(n.current=N),!N)return!0;var k=n.current||N;return fg(k,v,h,k==="h"?w:j,!0)},[]),d=c.useCallback(function(h){var v=h;if(!(!Yt.length||Yt[Yt.length-1]!==a)){var y="deltaY"in v?fa(v):on(v),b=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&hg(N.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(l.current.shards||[]).map(ha).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=w.length>0?i(v,w[0]):!l.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=c.useCallback(function(h,v,y,b){var w={name:h,delta:v,target:y,should:b,shadowParent:xg(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),p=c.useCallback(function(h){r.current=on(h),n.current=void 0},[]),m=c.useCallback(function(h){u(h.type,fa(h),h.target,i(h,e.lockRef.current))},[]),f=c.useCallback(function(h){u(h.type,on(h),h.target,i(h,e.lockRef.current))},[]);c.useEffect(function(){return Yt.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",d,Gt),document.addEventListener("touchmove",d,Gt),document.addEventListener("touchstart",p,Gt),function(){Yt=Yt.filter(function(h){return h!==a}),document.removeEventListener("wheel",d,Gt),document.removeEventListener("touchmove",d,Gt),document.removeEventListener("touchstart",p,Gt)}},[]);var g=e.removeScrollBar,x=e.inert;return c.createElement(c.Fragment,null,x?c.createElement(a,{styles:mg(o)}):null,g?c.createElement(og,{gapMode:e.gapMode}):null)}function xg(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vg=Vp(Pl,gg);var _l=c.forwardRef(function(e,t){return c.createElement(On,gt({},e,{ref:t,sideCar:vg}))});_l.classNames=On.classNames;var bg=[" ","Enter","ArrowUp","ArrowDown"],yg=[" ","Enter"],qr="Select",[In,_n,wg]=Us(qr),[Nr,Ix]=Ur(qr,[wg,Pn]),Ln=Pn(),[Sg,Tt]=Nr(qr),[jg,Ng]=Nr(qr),Ll=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:l,defaultValue:i,onValueChange:d,dir:u,name:p,autoComplete:m,disabled:f,required:g,form:x}=e,h=Ln(t),[v,y]=c.useState(null),[b,w]=c.useState(null),[j,N]=c.useState(!1),E=mo(u),[C=!1,T]=Ar({prop:n,defaultProp:o,onChange:a}),[k,R]=Ar({prop:l,defaultProp:i,onChange:d}),_=c.useRef(null),M=v?x||!!v.closest("form"):!0,[D,P]=c.useState(new Set),F=Array.from(D).map(I=>I.props.value).join(";");return s.jsx(Kh,{...h,children:s.jsxs(Sg,{required:g,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:kn(),value:k,onValueChange:R,open:C,onOpenChange:T,dir:E,triggerPointerDownPosRef:_,disabled:f,children:[s.jsx(In.Provider,{scope:t,children:s.jsx(jg,{scope:e.__scopeSelect,onNativeOptionAdd:c.useCallback(I=>{P(B=>new Set(B).add(I))},[]),onNativeOptionRemove:c.useCallback(I=>{P(B=>{const A=new Set(B);return A.delete(I),A})},[]),children:r})}),M?s.jsxs(ic,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:m,value:k,onChange:I=>R(I.target.value),disabled:f,form:x,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(D)]},F):null]})})};Ll.displayName=qr;var Dl="SelectTrigger",Fl=c.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Ln(r),l=Tt(Dl,r),i=l.disabled||n,d=he(t,l.onTriggerChange),u=_n(r),p=c.useRef("touch"),[m,f,g]=lc(h=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===l.value),b=cc(v,h,y);b!==void 0&&l.onValueChange(b.value)}),x=h=>{i||(l.onOpenChange(!0),g()),h&&(l.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return s.jsx(Ui,{asChild:!0,...a,children:s.jsx(X.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":ac(l.value)?"":void 0,...o,ref:d,onClick:z(o.onClick,h=>{h.currentTarget.focus(),p.current!=="mouse"&&x(h)}),onPointerDown:z(o.onPointerDown,h=>{p.current=h.pointerType;const v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(x(h),h.preventDefault())}),onKeyDown:z(o.onKeyDown,h=>{const v=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&f(h.key),!(v&&h.key===" ")&&bg.includes(h.key)&&(x(),h.preventDefault())})})})});Fl.displayName=Dl;var Bl="SelectValue",$l=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:l="",...i}=e,d=Tt(Bl,r),{onValueNodeHasChildrenChange:u}=d,p=a!==void 0,m=he(t,d.onValueNodeChange);return Ne(()=>{u(p)},[u,p]),s.jsx(X.span,{...i,ref:m,style:{pointerEvents:"none"},children:ac(d.value)?s.jsx(s.Fragment,{children:l}):a})});$l.displayName=Bl;var Cg="SelectIcon",Hl=c.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(X.span,{"aria-hidden":!0,...o,ref:t,children:n||"▼"})});Hl.displayName=Cg;var kg="SelectPortal",Wl=e=>s.jsx(zs,{asChild:!0,...e});Wl.displayName=kg;var Ut="SelectContent",Ul=c.forwardRef((e,t)=>{const r=Tt(Ut,e.__scopeSelect),[n,o]=c.useState();if(Ne(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?vr.createPortal(s.jsx(zl,{scope:e.__scopeSelect,children:s.jsx(In.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Kl,{...e,ref:t})});Ul.displayName=Ut;var He=10,[zl,Pt]=Nr(Ut),Eg="SelectContentImpl",Kl=c.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:i,sideOffset:d,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:f,collisionPadding:g,sticky:x,hideWhenDetached:h,avoidCollisions:v,...y}=e,b=Tt(Ut,r),[w,j]=c.useState(null),[N,E]=c.useState(null),C=he(t,W=>j(W)),[T,k]=c.useState(null),[R,_]=c.useState(null),M=_n(r),[D,P]=c.useState(!1),F=c.useRef(!1);c.useEffect(()=>{if(w)return Dp(w)},[w]),kp();const I=c.useCallback(W=>{const[re,...xe]=M().map(te=>te.ref.current),[ee]=xe.slice(-1),se=document.activeElement;for(const te of W)if(te===se||(te==null||te.scrollIntoView({block:"nearest"}),te===re&&N&&(N.scrollTop=0),te===ee&&N&&(N.scrollTop=N.scrollHeight),te==null||te.focus(),document.activeElement!==se))return},[M,N]),B=c.useCallback(()=>I([T,w]),[I,T,w]);c.useEffect(()=>{D&&B()},[D,B]);const{onOpenChange:A,triggerPointerDownPosRef:$}=b;c.useEffect(()=>{if(w){let W={x:0,y:0};const re=ee=>{var se,te;W={x:Math.abs(Math.round(ee.pageX)-(((se=$.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((te=$.current)==null?void 0:te.y)??0))}},xe=ee=>{W.x<=10&&W.y<=10?ee.preventDefault():w.contains(ee.target)||A(!1),document.removeEventListener("pointermove",re),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",xe,{capture:!0})}}},[w,A,$]),c.useEffect(()=>{const W=()=>A(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[A]);const[me,H]=lc(W=>{const re=M().filter(se=>!se.disabled),xe=re.find(se=>se.ref.current===document.activeElement),ee=cc(re,W,xe);ee&&setTimeout(()=>ee.ref.current.focus())}),q=c.useCallback((W,re,xe)=>{const ee=!F.current&&!xe;(b.value!==void 0&&b.value===re||ee)&&(k(W),ee&&(F.current=!0))},[b.value]),Q=c.useCallback(()=>w==null?void 0:w.focus(),[w]),ge=c.useCallback((W,re,xe)=>{const ee=!F.current&&!xe;(b.value!==void 0&&b.value===re||ee)&&_(W)},[b.value]),Re=n==="popper"?_s:Vl,ie=Re===_s?{side:i,sideOffset:d,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:f,collisionPadding:g,sticky:x,hideWhenDetached:h,avoidCollisions:v}:{};return s.jsx(zl,{scope:r,content:w,viewport:N,onViewportChange:E,itemRefCallback:q,selectedItem:T,onItemLeave:Q,itemTextRefCallback:ge,focusSelectedItem:B,selectedItemText:R,position:n,isPositioned:D,searchRef:me,children:s.jsx(_l,{as:mr,allowPinchZoom:!0,children:s.jsx(Cl,{asChild:!0,trapped:b.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:z(o,W=>{var re;(re=b.trigger)==null||re.focus({preventScroll:!0}),W.preventDefault()}),children:s.jsx(Sn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(Re,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:W=>W.preventDefault(),...y,...ie,onPlaced:()=>P(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:z(y.onKeyDown,W=>{const re=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!re&&W.key.length===1&&H(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ee=M().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const se=W.target,te=ee.indexOf(se);ee=ee.slice(te+1)}setTimeout(()=>I(ee)),W.preventDefault()}})})})})})})});Kl.displayName=Eg;var Rg="SelectItemAlignedPosition",Vl=c.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=Tt(Ut,r),l=Pt(Ut,r),[i,d]=c.useState(null),[u,p]=c.useState(null),m=he(t,C=>p(C)),f=_n(r),g=c.useRef(!1),x=c.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=l,w=c.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&u&&h&&v&&y){const C=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(a.dir!=="rtl"){const se=R.left-T.left,te=k.left-se,Ce=C.left-te,Ae=C.width+Ce,dt=Math.max(Ae,T.width),De=window.innerWidth-He,At=na(te,[He,Math.max(He,De-dt)]);i.style.minWidth=Ae+"px",i.style.left=At+"px"}else{const se=T.right-R.right,te=window.innerWidth-k.right-se,Ce=window.innerWidth-C.right-te,Ae=C.width+Ce,dt=Math.max(Ae,T.width),De=window.innerWidth-He,At=na(te,[He,Math.max(He,De-dt)]);i.style.minWidth=Ae+"px",i.style.right=At+"px"}const _=f(),M=window.innerHeight-He*2,D=h.scrollHeight,P=window.getComputedStyle(u),F=parseInt(P.borderTopWidth,10),I=parseInt(P.paddingTop,10),B=parseInt(P.borderBottomWidth,10),A=parseInt(P.paddingBottom,10),$=F+I+D+A+B,me=Math.min(v.offsetHeight*5,$),H=window.getComputedStyle(h),q=parseInt(H.paddingTop,10),Q=parseInt(H.paddingBottom,10),ge=C.top+C.height/2-He,Re=M-ge,ie=v.offsetHeight/2,W=v.offsetTop+ie,re=F+I+W,xe=$-re;if(re<=ge){const se=_.length>0&&v===_[_.length-1].ref.current;i.style.bottom="0px";const te=u.clientHeight-h.offsetTop-h.offsetHeight,Ce=Math.max(Re,ie+(se?Q:0)+te+B),Ae=re+Ce;i.style.height=Ae+"px"}else{const se=_.length>0&&v===_[0].ref.current;i.style.top="0px";const Ce=Math.max(ge,F+h.offsetTop+(se?q:0)+ie)+xe;i.style.height=Ce+"px",h.scrollTop=re-ge+h.offsetTop}i.style.margin=`${He}px 0`,i.style.minHeight=me+"px",i.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,i,u,h,v,y,a.dir,n]);Ne(()=>w(),[w]);const[j,N]=c.useState();Ne(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const E=c.useCallback(C=>{C&&x.current===!0&&(w(),b==null||b(),x.current=!1)},[w,b]);return s.jsx(Pg,{scope:r,contentWrapper:i,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(X.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Vl.displayName=Rg;var Tg="SelectPopperPosition",_s=c.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=He,...a}=e,l=Ln(r);return s.jsx(zi,{...l,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_s.displayName=Tg;var[Pg,po]=Nr(Ut,{}),Ls="SelectViewport",ql=c.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=Pt(Ls,r),l=po(Ls,r),i=he(t,a.onViewportChange),d=c.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(In.Slot,{scope:r,children:s.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:z(o.onScroll,u=>{const p=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=l;if(f!=null&&f.current&&m){const g=Math.abs(d.current-p.scrollTop);if(g>0){const x=window.innerHeight-He*2,h=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),y=Math.max(h,v);if(y<x){const b=y+g,w=Math.min(x,b),j=b-w;m.style.height=w+"px",m.style.bottom==="0px"&&(p.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});ql.displayName=Ls;var Gl="SelectGroup",[Ag,Mg]=Nr(Gl),Og=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=kn();return s.jsx(Ag,{scope:r,id:o,children:s.jsx(X.div,{role:"group","aria-labelledby":o,...n,ref:t})})});Og.displayName=Gl;var Yl="SelectLabel",Ql=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Mg(Yl,r);return s.jsx(X.div,{id:o.id,...n,ref:t})});Ql.displayName=Yl;var bn="SelectItem",[Ig,Xl]=Nr(bn),Jl=c.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...l}=e,i=Tt(bn,r),d=Pt(bn,r),u=i.value===n,[p,m]=c.useState(a??""),[f,g]=c.useState(!1),x=he(t,b=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,b,n,o)}),h=kn(),v=c.useRef("touch"),y=()=>{o||(i.onValueChange(n),i.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Ig,{scope:r,value:n,disabled:o,textId:h,isSelected:u,onItemTextChange:c.useCallback(b=>{m(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(In.ItemSlot,{scope:r,value:n,disabled:o,textValue:p,children:s.jsx(X.div,{role:"option","aria-labelledby":h,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:x,onFocus:z(l.onFocus,()=>g(!0)),onBlur:z(l.onBlur,()=>g(!1)),onClick:z(l.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:z(l.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:z(l.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:z(l.onPointerMove,b=>{var w;v.current=b.pointerType,o?(w=d.onItemLeave)==null||w.call(d):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:z(l.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:z(l.onKeyDown,b=>{var j;((j=d.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(yg.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});Jl.displayName=bn;var Tr="SelectItemText",Zl=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,l=Tt(Tr,r),i=Pt(Tr,r),d=Xl(Tr,r),u=Ng(Tr,r),[p,m]=c.useState(null),f=he(t,y=>m(y),d.onItemTextChange,y=>{var b;return(b=i.itemTextRefCallback)==null?void 0:b.call(i,y,d.value,d.disabled)}),g=p==null?void 0:p.textContent,x=c.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=u;return Ne(()=>(h(x),()=>v(x)),[h,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(X.span,{id:d.textId,...a,ref:f}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?vr.createPortal(a.children,l.valueNode):null]})});Zl.displayName=Tr;var ec="SelectItemIndicator",tc=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Xl(ec,r).isSelected?s.jsx(X.span,{"aria-hidden":!0,...n,ref:t}):null});tc.displayName=ec;var Ds="SelectScrollUpButton",rc=c.forwardRef((e,t)=>{const r=Pt(Ds,e.__scopeSelect),n=po(Ds,e.__scopeSelect),[o,a]=c.useState(!1),l=he(t,n.onScrollButtonChange);return Ne(()=>{if(r.viewport&&r.isPositioned){let i=function(){const u=d.scrollTop>0;a(u)};const d=r.viewport;return i(),d.addEventListener("scroll",i),()=>d.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),o?s.jsx(sc,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:d}=r;i&&d&&(i.scrollTop=i.scrollTop-d.offsetHeight)}}):null});rc.displayName=Ds;var Fs="SelectScrollDownButton",nc=c.forwardRef((e,t)=>{const r=Pt(Fs,e.__scopeSelect),n=po(Fs,e.__scopeSelect),[o,a]=c.useState(!1),l=he(t,n.onScrollButtonChange);return Ne(()=>{if(r.viewport&&r.isPositioned){let i=function(){const u=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<u;a(p)};const d=r.viewport;return i(),d.addEventListener("scroll",i),()=>d.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),o?s.jsx(sc,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:d}=r;i&&d&&(i.scrollTop=i.scrollTop+d.offsetHeight)}}):null});nc.displayName=Fs;var sc=c.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=Pt("SelectScrollButton",r),l=c.useRef(null),i=_n(r),d=c.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),Ne(()=>{var p;const u=i().find(m=>m.ref.current===document.activeElement);(p=u==null?void 0:u.ref.current)==null||p.scrollIntoView({block:"nearest"})},[i]),s.jsx(X.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:z(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:z(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:z(o.onPointerLeave,()=>{d()})})}),_g="SelectSeparator",oc=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(X.div,{"aria-hidden":!0,...n,ref:t})});oc.displayName=_g;var Bs="SelectArrow",Lg=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Ln(r),a=Tt(Bs,r),l=Pt(Bs,r);return a.open&&l.position==="popper"?s.jsx(Ki,{...o,...n,ref:t}):null});Lg.displayName=Bs;function ac(e){return e===""||e===void 0}var ic=c.forwardRef((e,t)=>{const{value:r,...n}=e,o=c.useRef(null),a=he(t,o),l=El(r);return c.useEffect(()=>{const i=o.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==r&&p){const m=new Event("change",{bubbles:!0});p.call(i,r),i.dispatchEvent(m)}},[l,r]),s.jsx(zr,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});ic.displayName="BubbleSelect";function lc(e){const t=Pe(e),r=c.useRef(""),n=c.useRef(0),o=c.useCallback(l=>{const i=r.current+l;t(i),function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(i)},[t]),a=c.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function cc(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let l=Dg(e,Math.max(a,0));o.length===1&&(l=l.filter(u=>u!==r));const d=l.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==r?d:void 0}function Dg(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Fg=Ll,dc=Fl,Bg=$l,$g=Hl,Hg=Wl,uc=Ul,Wg=ql,fc=Ql,hc=Jl,Ug=Zl,zg=tc,mc=rc,pc=nc,gc=oc;const xc=Fg,vc=Bg,go=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(dc,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx($g,{asChild:!0,children:s.jsx(li,{className:"h-4 w-4 opacity-50"})})]}));go.displayName=dc.displayName;const bc=c.forwardRef(({className:e,...t},r)=>s.jsx(mc,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(gu,{className:"h-4 w-4"})}));bc.displayName=mc.displayName;const yc=c.forwardRef(({className:e,...t},r)=>s.jsx(pc,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(li,{className:"h-4 w-4"})}));yc.displayName=pc.displayName;const xo=c.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(Hg,{children:s.jsxs(uc,{ref:o,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(bc,{}),s.jsx(Wg,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(yc,{})]})}));xo.displayName=uc.displayName;const Kg=c.forwardRef(({className:e,...t},r)=>s.jsx(fc,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Kg.displayName=fc.displayName;const vo=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(hc,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(zg,{children:s.jsx(Or,{className:"h-4 w-4"})})}),s.jsx(Ug,{children:t})]}));vo.displayName=hc.displayName;const Vg=c.forwardRef(({className:e,...t},r)=>s.jsx(gc,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Vg.displayName=gc.displayName;function qg(e,t=[]){let r=[];function n(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];function u(m){const{scope:f,children:g,...x}=m,h=(f==null?void 0:f[e][d])||i,v=c.useMemo(()=>x,Object.values(x));return s.jsx(h.Provider,{value:v,children:g})}function p(m,f){const g=(f==null?void 0:f[e][d])||i,x=c.useContext(g);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,p]}const o=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[n,Gg(o,...t)]}function Gg(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=n.reduce((i,{useScope:d,scopeName:u})=>{const m=d(a)[`__scope${u}`];return{...i,...m}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var os="rovingFocusGroup.onEntryFocus",Yg={bubbles:!1,cancelable:!0},Dn="RovingFocusGroup",[$s,wc,Qg]=Us(Dn),[Xg,Sc]=qg(Dn,[Qg]),[Jg,Zg]=Xg(Dn),jc=c.forwardRef((e,t)=>s.jsx($s.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx($s.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ex,{...e,ref:t})})}));jc.displayName=Dn;var ex=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...m}=e,f=c.useRef(null),g=he(t,f),x=mo(a),[h=null,v]=Ar({prop:l,defaultProp:i,onChange:d}),[y,b]=c.useState(!1),w=Pe(u),j=wc(r),N=c.useRef(!1),[E,C]=c.useState(0);return c.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(os,w),()=>T.removeEventListener(os,w)},[w]),s.jsx(Jg,{scope:r,orientation:n,dir:x,loop:o,currentTabStopId:h,onItemFocus:c.useCallback(T=>v(T),[v]),onItemShiftTab:c.useCallback(()=>b(!0),[]),onFocusableItemAdd:c.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:c.useCallback(()=>C(T=>T-1),[]),children:s.jsx(X.div,{tabIndex:y||E===0?-1:0,"data-orientation":n,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:z(e.onMouseDown,()=>{N.current=!0}),onFocus:z(e.onFocus,T=>{const k=!N.current;if(T.target===T.currentTarget&&k&&!y){const R=new CustomEvent(os,Yg);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const _=j().filter(I=>I.focusable),M=_.find(I=>I.active),D=_.find(I=>I.id===h),F=[M,D,..._].filter(Boolean).map(I=>I.ref.current);kc(F,p)}}N.current=!1}),onBlur:z(e.onBlur,()=>b(!1))})})}),Nc="RovingFocusGroupItem",Cc=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,...l}=e,i=kn(),d=a||i,u=Zg(Nc,r),p=u.currentTabStopId===d,m=wc(r),{onFocusableItemAdd:f,onFocusableItemRemove:g}=u;return c.useEffect(()=>{if(n)return f(),()=>g()},[n,f,g]),s.jsx($s.ItemSlot,{scope:r,id:d,focusable:n,active:o,children:s.jsx(X.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:z(e.onMouseDown,x=>{n?u.onItemFocus(d):x.preventDefault()}),onFocus:z(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:z(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const h=nx(x,u.orientation,u.dir);if(h!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=m().filter(b=>b.focusable).map(b=>b.ref.current);if(h==="last")y.reverse();else if(h==="prev"||h==="next"){h==="prev"&&y.reverse();const b=y.indexOf(x.currentTarget);y=u.loop?sx(y,b+1):y.slice(b+1)}setTimeout(()=>kc(y))}})})})});Cc.displayName=Nc;var tx={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rx(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function nx(e,t,r){const n=rx(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return tx[n]}function kc(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function sx(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ox=jc,ax=Cc,bo="Radio",[ix,Ec]=Ur(bo),[lx,cx]=ix(bo),Rc=c.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:o=!1,required:a,disabled:l,value:i="on",onCheck:d,form:u,...p}=e,[m,f]=c.useState(null),g=he(t,v=>f(v)),x=c.useRef(!1),h=m?u||!!m.closest("form"):!0;return s.jsxs(lx,{scope:r,checked:o,disabled:l,children:[s.jsx(X.button,{type:"button",role:"radio","aria-checked":o,"data-state":Ac(o),"data-disabled":l?"":void 0,disabled:l,value:i,...p,ref:g,onClick:z(e.onClick,v=>{o||d==null||d(),h&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),h&&s.jsx(dx,{control:m,bubbles:!x.current,name:n,value:i,checked:o,required:a,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Rc.displayName=bo;var Tc="RadioIndicator",Pc=c.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...o}=e,a=cx(Tc,r);return s.jsx(jn,{present:n||a.checked,children:s.jsx(X.span,{"data-state":Ac(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t})})});Pc.displayName=Tc;var dx=e=>{const{control:t,checked:r,bubbles:n=!0,...o}=e,a=c.useRef(null),l=El(r),i=Oi(t);return c.useEffect(()=>{const d=a.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==r&&m){const f=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(f)}},[l,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:a,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ac(e){return e?"checked":"unchecked"}var ux=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yo="RadioGroup",[fx,_x]=Ur(yo,[Sc,Ec]),Mc=Sc(),Oc=Ec(),[hx,mx]=fx(yo),Ic=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:o,value:a,required:l=!1,disabled:i=!1,orientation:d,dir:u,loop:p=!0,onValueChange:m,...f}=e,g=Mc(r),x=mo(u),[h,v]=Ar({prop:a,defaultProp:o,onChange:m});return s.jsx(hx,{scope:r,name:n,required:l,disabled:i,value:h,onValueChange:v,children:s.jsx(ox,{asChild:!0,...g,orientation:d,dir:x,loop:p,children:s.jsx(X.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":i?"":void 0,dir:x,...f,ref:t})})})});Ic.displayName=yo;var _c="RadioGroupItem",Lc=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...o}=e,a=mx(_c,r),l=a.disabled||n,i=Mc(r),d=Oc(r),u=c.useRef(null),p=he(t,u),m=a.value===o.value,f=c.useRef(!1);return c.useEffect(()=>{const g=h=>{ux.includes(h.key)&&(f.current=!0)},x=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",x)}},[]),s.jsx(ax,{asChild:!0,...i,focusable:!l,active:m,children:s.jsx(Rc,{disabled:l,required:a.required,checked:m,...d,...o,name:a.name,ref:p,onCheck:()=>a.onValueChange(o.value),onKeyDown:z(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:z(o.onFocus,()=>{var g;f.current&&((g=u.current)==null||g.click())})})})});Lc.displayName=_c;var px="RadioGroupIndicator",Dc=c.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,o=Oc(r);return s.jsx(Pc,{...o,...n,ref:t})});Dc.displayName=px;var Fc=Ic,Bc=Lc,gx=Dc;const $c=c.forwardRef(({className:e,...t},r)=>s.jsx(Fc,{className:J("grid gap-2",e),...t,ref:r}));$c.displayName=Fc.displayName;const Hs=c.forwardRef(({className:e,...t},r)=>s.jsx(Bc,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(gx,{className:"flex items-center justify-center",children:s.jsx(bu,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Hs.displayName=Bc.displayName;const as=["Like New","Very Good","Good","Fair","Poor"],an="No Preference",xx=()=>{var T;const e=br(),t=yn(),{user:r}=jr(),[n,o]=c.useState(""),[a,l]=c.useState([]),[i,d]=c.useState(null),[u,p]=c.useState(!1),[m,f]=c.useState(!1),[g,x]=c.useState("have"),[h,v]=c.useState(""),[y,b]=c.useState({condition:""}),[w,j]=c.useState(as);c.useEffect(()=>{g==="want"?j([...as,an]):(j(as),y.condition===an&&b(k=>({...k,condition:""})))},[g,y.condition]),c.useEffect(()=>{if(!r){e("/auth");return}async function k(){try{const R=$e(ae,fe.PROFILES,r.uid),_=await hr(R);if(_.exists()){const M=_.data();M.neighborhood?v(M.neighborhood):(ce.error("Please set your default neighborhood in your profile first."),e("/profile"))}else ce.error("Profile not found. Please complete your profile."),e("/profile")}catch(R){ce.error("Error fetching your neighborhood from profile."),console.error("Error fetching profile neighborhood:",R)}}k()},[r,e]),c.useEffect(()=>{new URLSearchParams(t.search).get("type")==="want"&&x("want")},[t]);const N=async()=>{if(n.trim()){p(!0);try{const k=await ip(n);l(k)}catch(k){console.error("Search error:",k),ce.error("Error searching for books")}finally{p(!1)}}},E=k=>{d(k),l([]),o("")},C=async k=>{var _,M,D;k.preventDefault();let R=y.condition;if(g==="want"&&y.condition===an&&(R="any"),!i||!R||!r||!h){h?R?ce.error("Please fill in all required fields and ensure your neighborhood is set in your profile."):ce.error("Please select a book condition."):ce.error("Your default neighborhood is not set. Please update your profile.");return}f(!0);try{const P=(_=i.volumeInfo.imageLinks)!=null&&_.thumbnail?"#"+i.id.slice(0,6):"#436B95",F={title:i.volumeInfo.title,author:((M=i.volumeInfo.authors)==null?void 0:M[0])||"Unknown Author",description:i.volumeInfo.description||"",cover_color:P,condition:R,neighborhood:h,google_books_id:i.id,genres:i.volumeInfo.categories||[]};if(g==="have"){const I={...F,owner:{id:r.uid,name:r.email||r.displayName||"Anonymous",neighborhood:h}};await zm(I),ce.success("Book added to your collection!")}else{const I={title:i.volumeInfo.title,author:((D=i.volumeInfo.authors)==null?void 0:D[0])||"Unknown Author",description:i.volumeInfo.description||"",google_books_id:i.id,user_id:r.uid,condition:R,neighborhood:h,genres:i.volumeInfo.categories||[]};await Km(I),ce.success("Book added to your want list!")}e("/my-books")}catch(P){console.error("Submission error:",P),ce.error(`Error adding book: ${P.message||"Unknown error"}`)}finally{f(!1)}};return s.jsx(be,{children:s.jsxs("div",{className:"page-container max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Add Your Book"}),s.jsxs("div",{className:"mb-8 bg-muted/30 p-4 rounded-lg border",children:[s.jsx(Mt,{className:"text-lg font-medium mb-3 block",children:"What would you like to do?"}),s.jsxs($c,{value:g,onValueChange:k=>{x(k),k==="have"&&y.condition===an&&b(R=>({...R,condition:""}))},className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:`flex items-start space-x-2 border rounded-lg p-3 ${g==="have"?"bg-primary/10 border-primary":"bg-white"}`,children:[s.jsx(Hs,{value:"have",id:"have",className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(Mt,{htmlFor:"have",className:"text-base font-medium flex items-center",children:[s.jsx(Mr,{className:"mr-2 h-5 w-5 text-primary"}),"Add a book I have"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a book to your collection that you are willing to swap with others"})]})]}),s.jsxs("div",{className:`flex items-start space-x-2 border rounded-lg p-3 ${g==="want"?"bg-primary/10 border-primary":"bg-white"}`,children:[s.jsx(Hs,{value:"want",id:"want",className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(Mt,{htmlFor:"want",className:"text-base font-medium flex items-center",children:[s.jsx(ii,{className:"mr-2 h-5 w-5 text-primary"}),"Add a book I want"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a book to your wishlist that you are looking to acquire"})]})]})]})]}),s.jsx("div",{className:"bg-white border border-border rounded-lg p-6 md:p-8",children:s.jsx("form",{onSubmit:C,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Mt,{children:"Search for your book"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Rt,{value:n,onChange:k=>o(k.target.value),placeholder:"Search by title, author, or ISBN",className:"flex-1"}),s.jsxs(Z,{type:"button",onClick:N,disabled:u,children:[u?s.jsx(hn,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(pr,{className:"w-4 h-4 mr-2"}),u?"Searching...":"Search"]})]}),a.length>0&&s.jsx("div",{className:"mt-4 border rounded-md divide-y",children:a.map(k=>{var R;return s.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer flex items-start gap-4",onClick:()=>E(k),children:[((R=k.volumeInfo.imageLinks)==null?void 0:R.thumbnail)&&s.jsx("img",{src:k.volumeInfo.imageLinks.thumbnail,alt:k.volumeInfo.title,className:"w-16 h-auto object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:k.volumeInfo.title}),k.volumeInfo.authors&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",k.volumeInfo.authors.join(", ")]}),k.volumeInfo.publishedDate&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Published: ",new Date(k.volumeInfo.publishedDate).getFullYear()]})]})]},k.id)})}),i&&s.jsx("div",{className:"mt-4 p-4 border rounded-md bg-muted/20",children:s.jsxs("div",{className:"flex items-start gap-4",children:[((T=i.volumeInfo.imageLinks)==null?void 0:T.thumbnail)&&s.jsx("img",{src:i.volumeInfo.imageLinks.thumbnail,alt:i.volumeInfo.title,className:"w-20 h-auto"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:i.volumeInfo.title}),i.volumeInfo.authors&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",i.volumeInfo.authors.join(", ")]}),i.volumeInfo.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-3",children:i.volumeInfo.description}),s.jsx(Z,{type:"button",variant:"ghost",className:"mt-2 h-8 text-sm",onClick:()=>d(null),children:"Change Book"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Mt,{htmlFor:"condition",children:"Condition *"}),s.jsxs(xc,{value:y.condition,onValueChange:k=>b(R=>({...R,condition:k})),children:[s.jsx(go,{id:"condition",children:s.jsx(vc,{placeholder:"Select condition"})}),s.jsx(xo,{children:w.map(k=>s.jsx(vo,{value:k,children:k},k))})]})]}),h&&s.jsxs("div",{children:[s.jsx(Mt,{className:"block text-sm font-medium mb-1",children:"Your Default Neighborhood (from profile)"}),s.jsx("p",{className:"text-md p-2 border rounded-md bg-muted/50",children:h})]})]}),s.jsx("div",{className:"pt-4",children:s.jsx(Z,{type:"submit",className:"w-full",disabled:!i||!y.condition||!h||m,children:m?s.jsxs(s.Fragment,{children:[s.jsx(hn,{className:"w-4 h-4 mr-2 animate-spin"}),g==="have"?"Adding to Collection...":"Adding to Want List..."]}):g==="have"?"Add Book to My Collection":"Add Book to My Want List"})})]})})}),s.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"All books added are available for swapping. There are no points or financial transactions."}),s.jsx("p",{children:"Book Swap Jerusalem is based on goodwill and community sharing."})]})]})})},vx=()=>{const{user:e}=jr(),{data:t=[],isLoading:r,error:n}=Wt({queryKey:["matches",e==null?void 0:e.uid],queryFn:async()=>{if(!e)throw new Error("Not authenticated");const l=e.uid,i=await ul(l),d=await fl(l),u=je(ae,fe.BOOKS),p=Ze(u,it("owner.id","!=",l)),f=(await et(p)).docs.map(w=>({id:w.id,...w.data()})),g=je(ae,fe.WANTED_BOOKS),x=Ze(g,it("user_id","!=",l)),v=(await et(x)).docs.map(w=>({id:w.id,...w.data()})),y={};f.forEach(w=>{const j=w.owner.id;y[j]||(y[j]={id:j,name:w.owner.name||"Unknown User",neighborhood:w.owner.neighborhood||"Unknown",books:[],wantedBooks:[]}),y[j].books.push(w)}),v.forEach(w=>{const j=w.user_id;y[j]&&y[j].wantedBooks.push(w)});const b=[];for(const w in y){const j=y[w],N=j.books,E=j.wantedBooks||[],C=[],T=[];let k=0;for(const R of N){const _=d.some(D=>D.title.toLowerCase()===R.title.toLowerCase()&&D.author.toLowerCase()===R.author.toLowerCase()&&(D.condition==="any"||D.condition===R.condition)),M={id:R.id,title:R.title,author:R.author,coverColor:R.cover_color||"#436B95",description:R.description||"",condition:R.condition,owner:{name:j.name,neighborhood:j.neighborhood}};_?(C.push(M),k+=5):d.some(P=>P.author.toLowerCase()===R.author.toLowerCase()&&(P.condition==="any"||P.condition===R.condition))?(C.push(M),k+=2):d.some(F=>{const I=F.title.toLowerCase().split(" "),B=R.title.toLowerCase().split(" ");return I.some(A=>A.length>3&&B.includes(A))&&(F.condition==="any"||F.condition===R.condition)})&&(C.push(M),k+=1)}for(const R of i){const _=E.some(D=>D.title.toLowerCase()===R.title.toLowerCase()&&D.author.toLowerCase()===R.author.toLowerCase()&&(D.condition==="any"||D.condition===R.condition)),M={id:R.id,title:R.title,author:R.author,coverColor:R.cover_color||"#436B95",description:R.description||"",condition:R.condition,owner:{name:e.displayName||e.email||"You",neighborhood:R.neighborhood}};_?(T.push(M),k+=5):E.some(P=>P.author.toLowerCase()===R.author.toLowerCase()&&(P.condition==="any"||P.condition===R.condition))?(T.push(M),k+=2):E.some(F=>{const I=F.title.toLowerCase().split(" "),B=R.title.toLowerCase().split(" ");return I.some(A=>A.length>3&&B.includes(A))&&(F.condition==="any"||F.condition===R.condition)})&&(T.push(M),k+=1)}if(C.length>0||T.length>0){const R=Math.min(Math.round(k/2),10);b.push({user:{id:w,name:j.name,neighborhood:j.neighborhood,booksOffered:C,booksWanted:T},matchScore:R})}}return b.sort((w,j)=>j.matchScore-w.matchScore)},enabled:!!e}),o=l=>{_e({title:"Swap requested",description:"We'll notify you when the owner responds."})},a=l=>{navigate(`/chat/${l}`),_e({title:"Chat started",description:"You can now coordinate the book swap."})};return e?r?s.jsx(be,{children:s.jsxs("div",{className:"page-container",children:[s.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("p",{className:"text-lg",children:"Loading matches..."})})]})}):n?s.jsx(be,{children:s.jsxs("div",{className:"page-container",children:[s.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg text-red-600 font-medium mb-2",children:"Error loading matches"}),s.jsx("p",{className:"text-muted-foreground",children:n.message||"Please try again later"})]})})]})}):s.jsx(be,{children:s.jsxs("div",{className:"page-container",children:[s.jsx("h1",{className:"section-heading",children:"Your Book Swap Matches"}),s.jsx("p",{className:"text-center text-muted-foreground mb-8 max-w-2xl mx-auto",children:"These are potential swap partners based on the books you have listed and the books you are looking for. Higher match scores indicate more opportunities to swap multiple books with the same person."}),t.length===0?s.jsxs("div",{className:"bg-white border border-border rounded-lg p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-3",children:"No Matches Found Yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"To increase your chances of finding matches:"}),s.jsxs("ul",{className:"text-left max-w-md mx-auto space-y-2 mb-6",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2",children:"•"}),s.jsx("span",{children:"Add more books that you are willing to swap"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2",children:"•"}),s.jsx("span",{children:"Add books you are looking for to your wishlist"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2",children:"•"}),s.jsx("span",{children:"Check back regularly as new books are added daily"})]})]}),s.jsx(Z,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsx(ne,{to:"/add",children:"Add More Books"})})]}):s.jsx("div",{className:"space-y-10",children:t.map(l=>s.jsxs("div",{className:"bg-white border border-border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-bookswap-blue p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-1",children:l.user.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Neighborhood: ",l.user.neighborhood," • Match Score: ",l.matchScore,"/10"]})]}),s.jsxs(Z,{variant:"outline",className:"mt-3 md:mt-0 bg-white",onClick:()=>a(l.user.id),children:[s.jsx(di,{className:"mr-2 h-4 w-4"}),"Message"]})]}),s.jsxs("div",{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Books They Have (That You Might Like)"}),l.user.booksOffered.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:l.user.booksOffered.map(i=>s.jsx(Os,{book:i,onRequestSwap:o},i.id))}):s.jsx("p",{className:"text-muted-foreground",children:"No matching books found in this category."})]}),s.jsxs("div",{className:"pt-4 border-t border-border",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Your Books (That They Might Like)"}),l.user.booksWanted.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:l.user.booksWanted.map(i=>s.jsx(Os,{book:i,onRequestSwap:o},i.id))}):s.jsx("p",{className:"text-muted-foreground",children:"No matching books found in this category."})]})]})]},l.user.id))})]})}):s.jsx(be,{children:s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-lg text-muted-foreground",children:"Please sign in to see your matches"}),s.jsx(Z,{asChild:!0,className:"mt-4 bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsx(ne,{to:"/auth",children:"Sign In"})})]})})})},bx=()=>{const[e,t]=c.useState(null),[r,n]=c.useState(""),[o,a]=c.useState([]),[l,i]=c.useState(!1),d=co(),{data:u=[],isLoading:p,error:m}=Wt({queryKey:["chats"],queryFn:async()=>{const x=Qn();if(!x)throw new Error("Not authenticated");const h=x.uid;return(await Jm(h)).map(y=>{var b;return{id:y.id,name:((b=y.participants)==null?void 0:b.find(w=>w!==h))||"Unknown",lastMessage:y.last_message||"No messages yet",lastMessageTime:y.updated_at?new Date(y.updated_at.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",unread:y.unread||!1}})}});c.useEffect(()=>{u.length>0&&!e&&t(u[0].id)},[u]),c.useEffect(()=>{if(!e)return;(async()=>{i(!0);try{const h=Qn();if(!h)throw new Error("Not authenticated");const v=je(ae,fe.MESSAGES),y=Ze(v,it("chat_id","==",e),Ws("created_at","asc")),b=dd(y,w=>{const j=w.docs.map(N=>{const E=N.data();return{id:N.id,text:E.content||"",sender:E.sender_id===h.uid?"user":"other",timestamp:E.created_at?new Date(E.created_at.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",sender_id:E.sender_id}});a(j),i(!1)});return()=>b()}catch(h){console.error("Error loading messages:",h),i(!1),_e({title:"Error loading messages",description:"Unable to load messages. Please try again.",variant:"destructive"})}})()},[e]);const f=async x=>{if(x.preventDefault(),!(!r.trim()||!e))try{const h=Qn();if(!h)throw new Error("Not authenticated");await Zm(e,r,h.uid),n(""),d.invalidateQueries({queryKey:["chats"]})}catch(h){_e({title:"Error sending message",description:"Unable to send message. Please try again.",variant:"destructive"}),console.error(h)}},g=u.find(x=>x.id===e);return p?s.jsx(be,{children:s.jsx("div",{className:"page-container",children:s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue"})})})}):m?s.jsx(be,{children:s.jsx("div",{className:"page-container",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-lg text-red-600",children:"Error loading chats"}),s.jsx("p",{className:"text-muted-foreground",children:m.message})]})})}):s.jsx(be,{children:s.jsxs("div",{className:"page-container max-w-6xl mx-auto",children:[s.jsx("h1",{className:"section-heading",children:"Messages"}),s.jsx("div",{className:"bg-white border border-border rounded-lg overflow-hidden min-h-[500px]",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 h-full",children:[s.jsxs("div",{className:"md:col-span-1 border-r border-border",children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsx("h2",{className:"font-medium",children:"Your Conversations"})}),s.jsx("div",{className:"divide-y divide-border",children:u.length>0?u.map(x=>s.jsx("div",{className:`p-4 cursor-pointer transition-colors ${e===x.id?"bg-muted":"hover:bg-muted/50"}`,onClick:()=>t(x.id),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-bookswap-blue text-bookswap-darkblue flex items-center justify-center font-bold text-lg mr-3",children:x.name.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-medium truncate",children:x.name}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-1",children:x.lastMessageTime})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:x.lastMessage})]}),x.unread&&s.jsx("div",{className:"w-2 h-2 bg-bookswap-darkblue rounded-full ml-2"})]})},x.id)):s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No conversations yet"})})})]}),s.jsx("div",{className:"md:col-span-2 flex flex-col h-full",children:g?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-bookswap-blue text-bookswap-darkblue flex items-center justify-center font-bold text-sm mr-3",children:g.name.charAt(0)}),s.jsx("h2",{className:"font-medium",children:g.name})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:l?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-bookswap-darkblue"})}):o.length>0?o.map(x=>s.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${x.sender==="user"?"bg-bookswap-darkblue text-white":"bg-muted"}`,children:[s.jsx("p",{children:x.text}),s.jsx("p",{className:`text-xs mt-1 ${x.sender==="user"?"text-white/80":"text-muted-foreground"}`,children:x.timestamp})]})},x.id)):s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("p",{className:"text-muted-foreground",children:"No messages yet. Start the conversation!"})})}),s.jsxs("div",{className:"p-4 border-t border-border",children:[s.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[s.jsx(Rt,{value:r,onChange:x=>n(x.target.value),placeholder:"Type a message...",className:"flex-1"}),s.jsx(Z,{type:"submit",disabled:!r.trim(),className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsx(ai,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Keep communication focused on book swaps and meeting arrangements."})]})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("p",{className:"text-muted-foreground mb-3",children:"Select a conversation or start a new one from your matches"}),s.jsx(Z,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsx(ne,{to:"/matches",children:"Find Matches"})})]})})})]})})]})})};function yx({value:e,onSelect:t}){return s.jsxs(xc,{value:e||"",onValueChange:t,children:[s.jsx(go,{className:"w-full",children:s.jsx(vc,{placeholder:"Select neighborhood"})}),s.jsx(xo,{children:Rr.map(r=>s.jsx(vo,{value:r,children:r},r))})]})}function wx(){const{user:e}=jr(),t=br(),[r,n]=c.useState(!0),[o,a]=c.useState(""),[l,i]=c.useState(""),[d,u]=c.useState(""),[p,m]=c.useState("");c.useEffect(()=>{if(!e){t("/auth");return}async function g(){n(!0);try{const x=$e(ae,fe.PROFILES,e.uid),h=await hr(x);if(h.exists()){const v=h.data();a(v.display_name??""),i(v.bio??""),u(v.neighborhood??""),m(v.neighborhood??"")}else await ud(x,{id:e.uid,display_name:"",bio:"",neighborhood:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),m("")}catch(x){console.error("Error loading profile:",x),ce.error("Error loading profile")}finally{n(!1)}}g()},[e,t]);async function f(){if(!e||!d){ce.error("Neighborhood cannot be empty. Please select a neighborhood.");return}n(!0);try{const g=$e(ae,fe.PROFILES,e.uid);if(await ka(g,{display_name:o,bio:l,neighborhood:d,updated_at:new Date().toISOString()}),ce.success("Profile updated successfully"),d!==p){ce.info("Updating neighborhood for your books...");const x=fd(ae),h=Ze(je(ae,fe.BOOKS),it("owner.id","==",e.uid));(await et(h)).forEach(w=>{const j=$e(ae,fe.BOOKS,w.id);x.update(j,{neighborhood:d,"owner.neighborhood":d})});const y=Ze(je(ae,fe.WANTED_BOOKS),it("user_id","==",e.uid));(await et(y)).forEach(w=>{const j=$e(ae,fe.WANTED_BOOKS,w.id);x.update(j,{neighborhood:d})}),await x.commit(),m(d),ce.success("Neighborhood for all your books has been updated.")}}catch(g){console.error("Error updating profile or books:",g),ce.error("Error updating profile or books. Please try again.")}finally{n(!1)}}return r&&!e?s.jsx(be,{children:s.jsx("div",{className:"page-container flex justify-center items-center min-h-[calc(100vh-200px)]",children:s.jsx("p",{children:"Loading user data..."})})}):r&&e?s.jsx(be,{children:s.jsx("div",{className:"page-container flex justify-center items-center min-h-[calc(100vh-200px)]",children:s.jsx("p",{children:"Loading profile..."})})}):s.jsx(be,{children:s.jsxs("div",{className:"page-container max-w-2xl mx-auto",children:[s.jsx("h1",{className:"section-heading",children:"Profile Settings"}),s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium mb-2",children:"Display Name"}),s.jsx(Rt,{id:"displayName",type:"text",value:o,onChange:g=>a(g.target.value),placeholder:"Enter your display name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium mb-2",children:"Bio"}),s.jsx("textarea",{id:"bio",value:l,onChange:g=>i(g.target.value),placeholder:"Write a short bio about yourself",className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default Neighborhood (this will apply to all your books)"}),s.jsx(yx,{value:d,onSelect:u})]}),s.jsx(Z,{onClick:f,disabled:r,className:"w-full",children:r?"Saving...":"Save Changes"})]})})]})})}const Sx=()=>{const e=yn();return c.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function jx({booksIHave:e,booksIWant:t}){const[r,n]=c.useState(null),o=co(),a=async u=>{n(u);try{await Vm(u),ce.success("Book removed successfully"),o.invalidateQueries({queryKey:["my-books-have"]})}catch(p){console.error("Error deleting book:",p),ce.error("Failed to remove book")}finally{n(null)}},l=async u=>{n(u);try{await qm(u),ce.success("Book removed from wishlist"),o.invalidateQueries({queryKey:["my-books-want"]})}catch(p){console.error("Error deleting wanted book:",p),ce.error("Failed to remove book from wishlist")}finally{n(null)}},i=u=>s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:u==="have"?"You haven't added any books you own yet":"You haven't added any books you're looking for yet"}),s.jsx(Z,{variant:"default",onClick:()=>window.location.href=u==="have"?"/add":"/add?type=want",children:u==="have"?s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Add a Book You Own"]}):s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"mr-2 h-4 w-4"}),"Add a Book You Want"]})})]}),d=(u,p)=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:u.map(m=>s.jsxs(fo,{className:"relative",children:[s.jsx(Z,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 z-10",onClick:()=>p==="have"?a(m.id):l(m.id),disabled:r===m.id,children:s.jsx(wu,{className:"h-4 w-4"})}),s.jsxs(ho,{className:"pt-4",children:[m.google_books_id?s.jsx("div",{className:"w-full h-48 bg-cover bg-center rounded-lg mb-4",style:{backgroundImage:`url(https://books.google.com/books/content?id=${m.google_books_id}&printsec=frontcover&img=1&zoom=1&source=gbs_api)`}}):s.jsxs("div",{className:"w-full h-48 p-4 flex flex-col justify-center items-center text-center rounded-lg mb-4",style:{backgroundColor:m.coverColor||m.cover_color||"#436B95"},children:[s.jsx("h3",{className:"font-bold text-white",children:m.title}),s.jsx("p",{className:"text-sm text-white/80",children:m.author})]}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:m.title}),s.jsx("p",{className:"text-sm font-medium mb-2",children:m.author}),p==="have"&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Condition: ",m.condition]}),p==="want"&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"On your wishlist"})]})]},m.id))});return s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Mr,{className:"mr-2 h-5 w-5"}),s.jsx("h2",{className:"text-xl font-bold",children:"Books I Have"})]}),e.length===0?i("have"):d(e,"have")]}),s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(pr,{className:"mr-2 h-5 w-5"}),s.jsx("h2",{className:"text-xl font-bold",children:"Books I Want"})]}),t.length===0?i("want"):d(t,"want")]})]})})}function Nx(){const{user:e}=jr(),{data:t=[],isLoading:r,error:n}=Wt({queryKey:["my-books-have"],queryFn:async()=>{if(!e)return[];try{const m=await ul(e.uid);return i(m,"have")}catch(m){throw console.error("Error fetching books I have:",m),m}},enabled:!!e}),{data:o=[],isLoading:a,error:l}=Wt({queryKey:["my-books-want"],queryFn:async()=>{if(!e)return[];try{const m=await fl(e.uid);return i(m,"want")}catch(m){throw console.error("Error fetching books I want:",m),m}},enabled:!!e});function i(m,f){const g=[];for(const x of m){const h={id:String(x.id||""),title:String(x.title||""),author:String(x.author||""),coverColor:String(x.cover_color||"#436B95"),description:x.description?String(x.description):"",condition:f==="have"?String(x.condition||"Good"):void 0,owner:f==="have"?{name:d(x.owner,"name"),neighborhood:d(x.owner,"neighborhood")}:void 0,google_books_id:x.google_books_id?String(x.google_books_id):void 0,book_type:f};g.push(h)}return g}function d(m,f){if(m&&typeof m=="object"&&m!==null){const x=m[f];return typeof x=="string"?x:""}return""}if(!e)return s.jsx(be,{children:s.jsx("div",{className:"page-container",children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-lg text-muted-foreground",children:"Please sign in to manage your books"})})})});const u=r||a,p=n||l;return s.jsx(be,{children:s.jsxs("div",{className:"page-container",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Books"}),s.jsx(Z,{asChild:!0,className:"bg-bookswap-darkblue hover:bg-bookswap-darkblue/90",children:s.jsxs(ne,{to:"/add",className:"flex items-center",children:[s.jsx(vu,{className:"mr-2 h-4 w-4"}),"Add a Book"]})})]}),u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-bookswap-darkblue mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading your books..."})]}):p?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-lg text-red-600",children:"Error loading your books"})}):s.jsx(jx,{booksIHave:t,booksIWant:o})]})})}const Cx=new Cm,kx=()=>s.jsx(Tm,{client:Cx,children:s.jsx(ep,{children:s.jsxs(lm,{children:[s.jsx(of,{}),s.jsx(_f,{}),s.jsx(Yc,{children:s.jsxs(Qc,{children:[s.jsx(st,{path:"/",element:s.jsx(pp,{})}),s.jsx(st,{path:"/auth",element:s.jsx(bp,{})}),s.jsx(st,{path:"/books",element:s.jsx(Sp,{})}),s.jsx(st,{path:"/add",element:s.jsx(xx,{})}),s.jsx(st,{path:"/my-books",element:s.jsx(Nx,{})}),s.jsx(st,{path:"/matches",element:s.jsx(vx,{})}),s.jsx(st,{path:"/chat",element:s.jsx(bx,{})}),s.jsx(st,{path:"/profile",element:s.jsx(wx,{})}),s.jsx(st,{path:"*",element:s.jsx(Sx,{})})]})})]})})}),ma=document.getElementById("root");if(!ma)console.error("Root element not found");else{const e=Aa(ma);try{e.render(s.jsx(kx,{}))}catch(t){console.error("Error rendering application:",t),e.render(s.jsxs("div",{className:"error-boundary",children:[s.jsx("h1",{children:"Something went wrong"}),s.jsx("p",{children:"The application encountered an error. Please try refreshing the page."}),s.jsx("pre",{children:t instanceof Error?t.message:String(t)})]}))}}
